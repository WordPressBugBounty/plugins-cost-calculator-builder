{"version":3,"file":"OrderNumber-XT1wGqMg.js","sources":["../../src/widget/features/submission/order-form/fields/OrderNumber.vue"],"sourcesContent":["<template>\n  <div\n    class=\"ccb-order-field ccb-order-number\"\n    :class=\"{\n      [`ccb-col-${field.fieldWidth}`]: true,\n      'ccb-order-field--required': isRequired,\n    }\"\n  >\n    <div class=\"ccb-order-field__title\">\n      <RequiredHint\n        v-if=\"isRequired\"\n        :text=\"translationsStore.getTranslations.requiredField\"\n      />\n      <label :for=\"'number_' + field.id\" class=\"ccb-order-field__label\">\n        {{ field.label }}\n        <span class=\"ccb-order-required-mark\" v-if=\"field.required\">*</span>\n      </label>\n    </div>\n    <div class=\"ccb-order-field__wrapper\">\n      <input\n        type=\"number\"\n        :id=\"'number_' + field.id\"\n        :placeholder=\"field.placeholder\"\n        @input=\"updateValueHandler\"\n        v-model=\"field.value\"\n      />\n      <div class=\"ccb-input-counter up\" @click=\"increment\">\n        <i class=\"ccb-icon-Path-3486\"></i>\n      </div>\n      <div class=\"ccb-input-counter down\" @click=\"decrement\">\n        <i class=\"ccb-icon-Path-3485\"></i>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { toRefs, computed } from \"vue\";\nimport { IFormField } from \"@/widget/shared/types/fields\";\nimport { useOrderForm } from \"@/widget/actions/pro-features/order-form/composable/useOrderForm.ts\";\nimport { useOrderFormFieldsRequired } from \"@/widget/actions/pro-features/order-form/composable/useOrderFormFieldsRequired.ts\";\nimport { useTranslationsStore } from \"@/widget/app/providers/stores/translationsStore\";\nimport RequiredHint from \"@/widget/shared/ui/components/Required-hint/RequiredHint.vue\";\n\ntype Props = {\n  field: IFormField;\n};\n\nconst props = defineProps<Props>();\nconst { field } = toRefs(props);\n\nconst { checkFieldRequired } = useOrderFormFieldsRequired();\nconst translationsStore = useTranslationsStore();\n\nconst isRequired = computed(() => {\n  if (!field.value.required) return false;\n  return checkFieldRequired(field.value);\n});\n\nconst updateValueHandler = (e: Event): void => {\n  const { updateValue } = useOrderForm();\n  const target = e.target as HTMLInputElement;\n  const value: string = target.value;\n  updateValue(field.value.id, value);\n};\n\nconst increment = (): void => {\n  const { updateValue } = useOrderForm();\n  let value = Number(field.value.value || 0);\n  updateValue(field.value.id, value + 1);\n};\n\nconst decrement = (): void => {\n  const { updateValue } = useOrderForm();\n  let value = Number(field.value.value || 0);\n  updateValue(field.value.id, value - 1 || 0);\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.ccb-order-number {\n  .ccb-order-field__wrapper {\n    position: relative;\n  }\n}\n\ninput[type=\"number\"]::-webkit-outer-spin-button,\ninput[type=\"number\"]::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n</style>\n"],"names":["props","__props","field","toRefs","checkFieldRequired","useOrderFormFieldsRequired","translationsStore","useTranslationsStore","isRequired","computed","updateValueHandler","e","updateValue","useOrderForm","value","increment","decrement"],"mappings":"knBAgDA,MAAMA,EAAQC,EACR,CAAE,MAAAC,CAAA,EAAUC,EAAOH,CAAK,EAExB,CAAE,mBAAAI,CAAmB,EAAIC,EAA2B,EACpDC,EAAoBC,EAAqB,EAEzCC,EAAaC,EAAS,IACrBP,EAAM,MAAM,SACVE,EAAmBF,EAAM,KAAK,EADH,EAEnC,EAEKQ,EAAsBC,GAAmB,CACvC,KAAA,CAAE,YAAAC,CAAY,EAAIC,EAAa,EAE/BC,EADSH,EAAE,OACY,MACjBC,EAAAV,EAAM,MAAM,GAAIY,CAAK,CACnC,EAEMC,EAAY,IAAY,CACtB,KAAA,CAAE,YAAAH,CAAY,EAAIC,EAAa,EACrC,IAAIC,EAAQ,OAAOZ,EAAM,MAAM,OAAS,CAAC,EACzCU,EAAYV,EAAM,MAAM,GAAIY,EAAQ,CAAC,CACvC,EAEME,EAAY,IAAY,CACtB,KAAA,CAAE,YAAAJ,CAAY,EAAIC,EAAa,EACrC,IAAIC,EAAQ,OAAOZ,EAAM,MAAM,OAAS,CAAC,EACzCU,EAAYV,EAAM,MAAM,GAAIY,EAAQ,GAAK,CAAC,CAC5C"}