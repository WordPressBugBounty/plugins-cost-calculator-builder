{"version":3,"file":"Stripe-DxBqGIqM.js","sources":["../../src/widget/features/submission/payments/payment-types/Stripe.vue"],"sourcesContent":["<template>\n  <div class=\"ccb-payment\">\n    <label>\n      <div class=\"ccb-payment-header\">\n        <div class=\"ccb-payment-header__label\">\n          <input\n            type=\"radio\"\n            name=\"paymentMethods\"\n            value=\"stripe\"\n            v-model=\"paymentType\"\n          />\n          <span class=\"ccb-radio-label\">Stripe</span>\n        </div>\n        <div class=\"calc-payment_header__img\">\n          <img\n            :src=\"stripeImg\"\n            alt=\"card-payment-image\"\n            style=\"max-width: 112px\"\n          />\n        </div>\n      </div>\n      <div class=\"ccb-payment-body\" v-show=\"paymentType === 'stripe'\">\n        <div ref=\"cardComponent\"></div>\n      </div>\n    </label>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { onMounted, ref } from \"vue\";\nimport stripeImg from \"@/images/payments/card_payment.webp\";\nimport { useSinglePayment } from \"@/widget/actions/pro-features/payments/composable/useSinglePayment.ts\";\nimport { useSettingsStore } from \"@/widget/app/providers/stores/settingsStore.ts\";\nimport { usePaymentStore } from \"@/widget/app/providers/stores/paymentsStore.ts\";\nimport type { StripeElements } from \"@stripe/stripe-js\";\n\nconst paymentStore = usePaymentStore();\nconst settingsStore = useSettingsStore();\nconst { paymentType } = useSinglePayment();\nconst stripeLoaded = ref<boolean>(false);\n\nconst cardComponent = ref<HTMLElement | null>(null);\nconst stripeElements = ref<StripeElements | null>(null);\n\nonMounted(async () => {\n  const stripeData = settingsStore.getStripeData;\n  await paymentStore.initializeStripe(stripeData);\n\n  stripeLoaded.value = true;\n  if (paymentStore.stripeInstance) {\n    stripeElements.value = paymentStore.stripeInstance?.elements();\n    const card = stripeElements.value?.create(\"card\");\n    card?.mount(cardComponent.value!);\n\n    paymentStore.setCardComponent(card);\n  }\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.ccb-payment {\n  padding: 0 17px;\n  background-color: var(--ccb-fields-bg-color);\n  border-radius: 4px;\n  cursor: pointer;\n\n  label {\n    .ccb-payment-body {\n      padding: 15px 0;\n    }\n    .ccb-payment-header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 13px 0;\n\n      .ccb-payment-header__label {\n        display: flex;\n        align-items: center;\n\n        .ccb-radio-label {\n          margin-left: 10px;\n        }\n      }\n\n      .calc-payment_header__img {\n        display: flex;\n        img {\n          max-width: 112px;\n        }\n      }\n    }\n  }\n}\n</style>\n"],"names":["paymentStore","usePaymentStore","settingsStore","useSettingsStore","paymentType","useSinglePayment","stripeLoaded","ref","cardComponent","stripeElements","onMounted","stripeData","_a","card","_b"],"mappings":"0mBAoCA,MAAMA,EAAeC,EAAgB,EAC/BC,EAAgBC,EAAiB,EACjC,CAAE,YAAAC,CAAY,EAAIC,EAAiB,EACnCC,EAAeC,EAAa,EAAK,EAEjCC,EAAgBD,EAAwB,IAAI,EAC5CE,EAAiBF,EAA2B,IAAI,EAEtD,OAAAG,EAAU,SAAY,SACpB,MAAMC,EAAaT,EAAc,cAIjC,GAHM,MAAAF,EAAa,iBAAiBW,CAAU,EAE9CL,EAAa,MAAQ,GACjBN,EAAa,eAAgB,CAChBS,EAAA,OAAQG,EAAAZ,EAAa,iBAAb,YAAAY,EAA6B,WACpD,MAAMC,GAAOC,EAAAL,EAAe,QAAf,YAAAK,EAAsB,OAAO,QACpCD,GAAA,MAAAA,EAAA,MAAML,EAAc,OAE1BR,EAAa,iBAAiBa,CAAI,CAAA,CACpC,CACD"}