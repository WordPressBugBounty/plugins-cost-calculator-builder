import{m as B}from"./slider-CdTqAi0q.js";import{d as F,e as S,B as $,f as n,z as _,c as i,o as m,l,a as z,L as V,E as g,u as v,M as N,I as y,m as C,P as E}from"./runtime-dom.esm-bundler-DVhL8Vyv.js";const L={class:"slider-min-max"},D={class:"label"},I={class:"label"},R={class:"custom-ticks"},U={class:"custom-marks"},q=["onClick"],H=F({__name:"Modern",props:{field:{},modelValue:{}},emits:["update:modelValue"],setup(j,{emit:w}){const d=j,r=w,b=S(d.modelValue),{field:t}=$(d),p=n({get:()=>d.modelValue,set:a=>r("update:modelValue",a)}),o=n(()=>Number(t.value.min)),u=n(()=>Number(t.value.max)),M=n(()=>t.value.jump?1:Number(t.value.step||1)),x=n(()=>t.value.jump),c=n(()=>{var s;return(((s=t.value.scalePoints)==null?void 0:s.trim())||"").split(",").map(e=>Number(e.trim())).filter(e=>!isNaN(e)&&e>=o.value&&e<=u.value)}),P=a=>({left:`${(a-o.value)/(u.value-o.value)*100}%`}),f=a=>{x.value&&c.value.includes(a)&&r("update:modelValue",a)},h=a=>{const s=a.toFixed(2);return parseFloat(s).toString()};return _(()=>d.modelValue,a=>{b.value=a}),_(b,a=>{if(x.value){const s=c.value.reduce((e,k)=>Math.abs(k-a)<Math.abs(e-a)?k:e,c.value[0]);r("update:modelValue",s)}else r("update:modelValue",a)}),(a,s)=>(m(),i("div",{class:g(["slider-wrapper ccb-modern-range-field",{jump:v(t).jump}])},[l("div",L,[l("div",{class:"slider-min-max-item first",onClick:s[0]||(s[0]=e=>f(o.value))},[l("span",D,V(o.value),1)]),l("div",{class:g(["slider-min-max-item",{done:p.value>=u.value}]),onClick:s[1]||(s[1]=e=>f(u.value))},[l("span",I,V(u.value),1)],2)]),z(v(B),{modelValue:p.value,"onUpdate:modelValue":s[2]||(s[2]=e=>p.value=e),min:o.value,max:u.value,step:M.value,disabled:v(t).disabled,"show-tooltip":"focus",class:"custom-slider",format:h},null,8,["modelValue","min","max","step","disabled"]),l("div",R,[(m(),i(N,null,y(25,e=>l("div",{key:e,class:"tick"})),64))]),l("div",U,[s[3]||(s[3]=l("div",{class:"stick-line"},[l("div",{class:"stick-line-item"})],-1)),v(t).scalePoints?(m(!0),i(N,{key:0},y(c.value,e=>(m(),i("div",{key:e,class:"mark",style:E(P(e))},[e!==o.value&&e!==u.value?(m(),i("div",{key:0,class:"label",onClick:k=>f(e)},V(e),9,q)):C("",!0)],4))),128)):C("",!0)])],2))}});export{H as default};
//# sourceMappingURL=Modern-DZu_awuI.js.map
