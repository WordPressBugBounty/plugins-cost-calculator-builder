{"version":3,"file":"OrderDate-YyvHDaiV.js","sources":["../../src/widget/features/submission/order-form/fields/OrderDate.vue"],"sourcesContent":["<template>\n  <div\n    class=\"ccb-order-field ccb-order-date\"\n    :class=\"{\n      [`ccb-col-${field.fieldWidth}`]: true,\n      'ccb-order-field--required': isRequired,\n    }\"\n  >\n    <div class=\"ccb-order-field__title\">\n      <RequiredHint\n        v-if=\"isRequired\"\n        :text=\"translationsStore.getTranslations.requiredField\"\n      />\n      <label class=\"ccb-order-field__label\">\n        {{ field.label }}\n        <span class=\"ccb-order-required-mark\" v-if=\"field.required\">*</span>\n      </label>\n    </div>\n    <div class=\"ccb-field__input-wrapper\">\n      <VueDatePicker\n        :placeholder=\"\n          field.placeholder\n            ? field.placeholder\n            : translationsStore.getTranslations.selectDate\n        \"\n        text-input\n        :enable-time-picker=\"false\"\n        :auto-apply=\"true\"\n        :range=\"field.attributes.range\"\n        v-model=\"date\"\n        :locale=\"currentLang\"\n        :format=\"format\"\n        @update:model-value=\"updateValueHandler\"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { toRefs, ref, computed } from \"vue\";\nimport VueDatePicker from \"@vuepic/vue-datepicker\";\nimport \"@vuepic/vue-datepicker/dist/main.css\";\nimport { IFormField } from \"@/widget/shared/types/fields\";\nimport { useDatePickerFieldHelper } from \"@/widget/actions/fields/composable/useDatePickerFieldHelper.ts\";\nimport { useOrderForm } from \"@/widget/actions/pro-features/order-form/composable/useOrderForm.ts\";\nimport { useOrderFormFieldsRequired } from \"@/widget/actions/pro-features/order-form/composable/useOrderFormFieldsRequired.ts\";\nimport { useTranslationsStore } from \"@/widget/app/providers/stores/translationsStore\";\nimport RequiredHint from \"@/widget/shared/ui/components/Required-hint/RequiredHint.vue\";\nimport { useSettingsStore } from \"@/widget/app/providers/stores/settingsStore.ts\";\n\ntype Props = {\n  field: IFormField;\n};\n\nconst props = defineProps<Props>();\nconst { field } = toRefs(props);\n\nconst { checkFieldRequired } = useOrderFormFieldsRequired();\nconst translationsStore = useTranslationsStore();\nconst settingStore = useSettingsStore();\n\nconst isRequired = computed(() => {\n  return checkFieldRequired(field.value);\n});\n\nconst { displayValueHelper } = useDatePickerFieldHelper();\n\nconst currentLang = computed(() => {\n  return settingStore.getLanguage;\n});\n\nconst format = () => displayValueHelper(date.value, currentLang.value);\nconst date = ref<Date>();\n\nconst updateValueHandler = (modelData: Date | Date[]) => {\n  const { updateValue } = useOrderForm();\n  const value = displayValueHelper(modelData, currentLang.value);\n  updateValue(field.value.id, value);\n};\n</script>\n\n<style lang=\"scss\">\n.ccb-order-date *:focus {\n  outline-width: 0;\n}\n\n.ccb-order-date {\n  input {\n    padding: 10px 32px;\n    padding-left: max(30px, var(--ccb-field-side-indent)) !important;\n\n    @media only screen and (max-width: 480px) {\n      padding-left: max(30px, var(--ccb-mobile-field-side-indent)) !important;\n    }\n\n    &.dp__input_focus {\n      border-color: var(--ccb-accent-color);\n    }\n\n    &::placeholder {\n      color: var(--ccb-text-color);\n    }\n  }\n\n  .dp__input_icon {\n    color: var(--ccb-text-color);\n  }\n\n  .dp--menu-wrapper {\n    width: 100%;\n    left: 0 !important;\n    color: var(--ccb-text-color) !important;\n  }\n\n  .dp__active_date {\n    background: var(--ccb-accent-color) !important;\n  }\n\n  .dp__arrow_bottom,\n  .dp__arrow_top {\n    border: none;\n    background-color: var(--ccb-fields-bg-color);\n  }\n\n  .dp__menu {\n    border: none;\n    box-shadow: 0 10px 30px 0 rgba(0, 0, 0, 0.25);\n    border-radius: 4px;\n    position: absolute;\n  }\n\n  .dp__menu_inner {\n    background: var(--ccb-fields-bg-color);\n    border-radius: 4px;\n  }\n\n  .dp__overlay_action {\n    background: var(--ccb-fields-bg-color);\n\n    &:hover {\n      background: var(--ccb-accent-color);\n      color: var(--ccb-text-color);\n    }\n  }\n\n  .dp__overlay {\n    background: var(--ccb-fields-bg-color);\n    color: var(--ccb-text-color);\n\n    .dp__overlay_cell {\n      &:hover {\n        background: color-mix(\n          in srgb,\n          var(--ccb-accent-color),\n          transparent 50%\n        );\n        color: var(--ccb-text-color);\n      }\n    }\n  }\n\n  .dp__overlay_cell_active {\n    background: var(--ccb-accent-color);\n    color: var(--ccb-text-color);\n  }\n\n  .dp__action_row {\n    background: var(--ccb-fields-bg-color);\n\n    .dp__action_cancel {\n      padding: 10px;\n      margin: 0;\n      border: none;\n      flex: 1;\n      border-radius: var(--ccb-fields-border-radius);\n      cursor: pointer;\n      transition: 300ms ease;\n      font-size: var(--ccb-fields-button-size);\n      font-weight: var(--ccb-fields-button-weight);\n      border: 1px solid (var(--ccb-fields-border-color));\n      margin-right: 10px;\n      background: var(--ccb-date-picker-day);\n      color: var(--ccb-text-color);\n\n      @media only screen and (max-width: 480px) {\n        font-size: var(--ccb-mobile-fields-button-size);\n        font-weight: var(--ccb-mobile-fields-button-weight);\n      }\n\n      &:hover {\n        background: color-mix(\n          in srgb,\n          var(--ccb-accent-color),\n          transparent 50%\n        );\n      }\n    }\n\n    .dp__action_select {\n      padding: 10px;\n      margin: 0;\n      border: none;\n      flex: 1;\n      border-radius: var(--ccb-fields-border-radius);\n      cursor: pointer;\n      transition: 300ms ease;\n      font-size: var(--ccb-fields-button-size);\n      font-weight: var(--ccb-fields-button-weight);\n      background: var(--ccb-accent-color);\n      color: var(--ccb-fields-bg-color);\n\n      @media only screen and (max-width: 480px) {\n        font-size: var(--ccb-mobile-fields-button-size);\n        font-weight: var(--ccb-mobile-fields-button-weight);\n      }\n\n      &:hover {\n        background: hsl(from var(--ccb-accent-color) h s calc(l - 5));\n      }\n    }\n  }\n\n  .dp__menu-inner {\n    padding: 10px;\n  }\n\n  .dp__pointer {\n    background: var(--ccb-date-picker-day);\n  }\n\n  .dp__inner_nav {\n    background: var(--ccb-date-picker-day);\n    border-radius: 4px;\n  }\n\n  .dp__month_year_wrap {\n    gap: 4px;\n    .dp__month_year_select {\n      background: var(--ccb-date-picker-day);\n      border-radius: 4px;\n      height: 26px;\n      font-size: 14px;\n      font-weight: 700;\n    }\n  }\n\n  .dp__cell_inner {\n    width: 54px !important;\n    height: 41px !important;\n    border-radius: 0px;\n    font-size: 12px !important;\n    font-weight: 500;\n  }\n\n  .dp__range_start,\n  .dp__range_end {\n    background: var(--ccb-accent-color) !important;\n  }\n\n  .dp__range_between {\n    background: var(--ccb-date-picker-picket-day) !important;\n    color: var(--ccb-accent-color) !important;\n  }\n\n  .dp__calendar_item,\n  .dp__calendar_header_item {\n    color: var(--ccb-text-color) !important;\n  }\n\n  .dp__calendar_header_item {\n    height: 22px;\n  }\n\n  .dp__calendar_item {\n    border: 2px solid transparent;\n    &:hover {\n      border: 2px solid var(--ccb-accent-color);\n      background: color-mix(in srgb, var(--ccb-accent-color), transparent 50%);\n      color: var(--ccb-text-color) !important;\n    }\n  }\n\n  .dp__date_hover {\n    &:hover {\n      color: var(--ccb-text-color) !important;\n    }\n  }\n\n  .dp__cell_offset {\n    opacity: 0.3;\n  }\n\n  .dp__today {\n    border: none;\n  }\n\n  .dp__calendar_row {\n    margin: 0;\n  }\n\n  .dp__calendar_header_separator {\n    display: none;\n  }\n\n  .dp__calendar_header {\n    font-size: 12px;\n    font-weight: 500;\n    opacity: 0.3;\n  }\n}\n</style>\n"],"names":["props","__props","field","toRefs","checkFieldRequired","useOrderFormFieldsRequired","translationsStore","useTranslationsStore","settingStore","useSettingsStore","isRequired","computed","displayValueHelper","useDatePickerFieldHelper","currentLang","format","date","ref","updateValueHandler","modelData","updateValue","useOrderForm","value"],"mappings":"qpBAsDA,MAAMA,EAAQC,EACR,CAAE,MAAAC,CAAA,EAAUC,EAAOH,CAAK,EAExB,CAAE,mBAAAI,CAAmB,EAAIC,EAA2B,EACpDC,EAAoBC,EAAqB,EACzCC,EAAeC,EAAiB,EAEhCC,EAAaC,EAAS,IACnBP,EAAmBF,EAAM,KAAK,CACtC,EAEK,CAAE,mBAAAU,CAAmB,EAAIC,EAAyB,EAElDC,EAAcH,EAAS,IACpBH,EAAa,WACrB,EAEKO,EAAS,IAAMH,EAAmBI,EAAK,MAAOF,EAAY,KAAK,EAC/DE,EAAOC,EAAU,EAEjBC,EAAsBC,GAA6B,CACjD,KAAA,CAAE,YAAAC,CAAY,EAAIC,EAAa,EAC/BC,EAAQV,EAAmBO,EAAWL,EAAY,KAAK,EACjDM,EAAAlB,EAAM,MAAM,GAAIoB,CAAK,CACnC"}