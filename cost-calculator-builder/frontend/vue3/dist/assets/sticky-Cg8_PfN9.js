const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-CgOvD9AB.css","./index-DAhRb9JY.css"])))=>i.map(i=>d[i]);
import{g as k,d as C,k as p,i as f,m as h,c as A,a as y,_ as m,b as v,q as I,o as b,r as T,e as P,f as w}from"./pinia-CqDt-rav.js";import{u as E}from"./translationsStore-B4g6iBqy.js";const q=k("stickyApp",{state:()=>({settings:null,calcId:null,title:"",wooCheckoutSettings:null,currencySettings:null,isProActive:!1}),getters:{getStickySettings:t=>t.settings,getCalcId:t=>t.calcId,getCalcTitle:t=>t.title,getWooCheckoutSettings:t=>t.wooCheckoutSettings,getCurrencySettings:t=>t.currencySettings,getIsProActive:t=>t.isProActive},actions:{initStickySettings(t){this.settings=t},initWooCheckoutSettings(t){this.wooCheckoutSettings=t},initCurrencySettings(t){this.currencySettings=t},initCalcId(t){this.calcId=+t||null},initTitle(t){this.title=t},setIsProActive(t){this.isProActive=t}}}),D=t=>t.replace(/_([a-z])/g,(e,c)=>c.toUpperCase());function a(t){return Array.isArray(t)?t.map(a):t!==null&&typeof t=="object"?Object.keys(t).reduce((e,c)=>{const o=D(c);return e[o]=a(t[c]),e},{}):t}const L=C({__name:"App",setup(t){var u;const e=q(),c=E(),o=p(!1),d=f("calc_id"),r=(u=window.ccb_sticky_data)==null?void 0:u[d];if(r&&"stickySettings"in r){const i=a(r);e.setIsProActive(i.is_pro_active),e.initTitle(i.title),e.initCalcId(i.calcId),e.initStickySettings(i.stickySettings),e.initWooCheckoutSettings(i.wooCheckoutSettings),e.initCurrencySettings(i.currency),c.initTranslations(r.translations)}const l=()=>{var n;let i=0;((n=e.getStickySettings)==null?void 0:n.displayType)!=="banner"&&(i=100),setTimeout(()=>{o.value=!0,setTimeout(()=>{var g,S;const s=document.querySelector("#ccb-sticky-floating-wrapper");(g=s==null?void 0:s.classList)!=null&&g.contains("ccb-show")||(S=s==null?void 0:s.classList)==null||S.add("ccb-show")},500)},i)};h(()=>{var i;if(((i=e.getStickySettings)==null?void 0:i.oneClickAction)==="scroll_to"){const n=document.querySelectorAll(`.ccb-main-widget[data-calc-id="${e.getCalcId}"]`);n!=null&&n.length&&l()}else l()});const _=A(()=>{var i;return((i=e.getStickySettings)==null?void 0:i.displayType)==="banner"?y(()=>m(()=>import("./index-5Jie-jmS.js"),__vite__mapDeps([0]),import.meta.url)):y(()=>m(()=>import("./index-BvG3otOE.js"),__vite__mapDeps([1]),import.meta.url))});return(i,n)=>o.value?(b(),v(T(_.value),{key:0})):I("",!0)}}),j=document.querySelectorAll(".ccb-sticky-calc");j.forEach(t=>{const e=p(null),c=P(L).provide("calc_id",t.getAttribute("data-calc-id"));e.value=c,c.use(w()),c.mount(t)});export{q as u};
//# sourceMappingURL=sticky-Cg8_PfN9.js.map
