import{a as B,C as R,k as S,b as p,m as i,g as l,p as r,F as v,H as _,I as T,n as m,D as b,u,w,q as x,f as I,T as N}from"./convert-case-to-camel-case.utils-DRsbC-qG.js";import{a as L}from"./WooRedirectCart-DeENeyYM.js";import{a as g}from"./ThankYouPage-BB_2TAkH.js";import{c as V,q as $}from"./widget-aE3IoCbC.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./translationsStore-C34buciO.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";const D={class:"ccb-repeater-wrapper"},M=["onClick"],P={class:"ccb-repeater-item--label"},z={class:"ccb-repeater-item--counter"},H={key:0,class:"ccb-repeater-item--body"},j={class:"ccb-repeater-item--fields"},G={class:"ccb-repeater-item--actions"},J={class:"ccb-repeater-actions"},K=B({__name:"Repeater",props:{field:{}},setup(h){const E=h,{field:e}=R(E),f=V(),d=S({}),y=p(()=>a=>Array.from(a.values())),k=a=>{if(confirm("Are you sure to delete the repeated group of elements?")){const s=e.value.groupElements;Array.isArray(s)&&e.value.groupElements.splice(a,1),e.value.groupElements.forEach((n,t)=>Array.from(n.entries()).forEach(([o,c])=>{c.repeaterIdx=t})),f.recalculateTotals()}},C=()=>{if(e.value.repeatCount===e.value.groupElements.length)return;const a=$(),s=new Map,n=e.value.originalElements||[];for(const t of n){const o=a.addField(t,e.value.groupElements.length,e.value.alias);o&&s.set(t.alias,o)}e.value.groupElements.push(s),f.recalculateTotals()},F=p(()=>+e.value.repeatCount===e.value.groupElements.length),A=p(()=>{var a;return((a=e.value)==null?void 0:a.additionalStyles)||""});return(a,s)=>(l(),i("div",D,[(l(!0),i(v,null,_(u(e).groupElements,(n,t)=>(l(),i("div",{class:T(["ccb-repeater-item",{"ccb-collapsed":d.value[t],[A.value]:!0}])},[r("div",{class:"ccb-repeater-item--header",onClick:o=>d.value[t]=!d.value[t]},[s[0]||(s[0]=r("span",{class:"ccb-repeater-item--icon ccb-icon-Path-3514"},null,-1)),r("span",P,b(u(e).label),1),r("span",z,"#"+b(t+1),1)],8,M),m(N,{name:"fade"},{default:w(()=>{var o;return[d.value[t]?x("",!0):(l(),i("div",H,[r("div",j,[(l(!0),i(v,null,_(y.value(n),c=>(l(),I(L,{key:c.alias,name:c.fieldName,field:c},null,8,["name","field"]))),128))]),r("div",G,[m(g,{type:"danger","on-click":()=>k(t),text:u(e).removeButtonLabel,icon:"ccb-icon-Trash-filled","icon-position":"before",disabled:((o=u(e).groupElements)==null?void 0:o.length)===1},null,8,["on-click","text","disabled"])])]))]}),_:2},1024)],2))),256)),r("div",J,[m(g,{type:"success-outlined","on-click":C,text:u(e).addButtonLabel,icon:"ccb-icon-Add-Plus-Circle","icon-position":"before",disabled:F.value},null,8,["text","disabled"])])]))}}),te=q(K,[["__scopeId","data-v-dd938f5b"]]);export{te as default};
//# sourceMappingURL=index-CQOnh4wL.js.map
