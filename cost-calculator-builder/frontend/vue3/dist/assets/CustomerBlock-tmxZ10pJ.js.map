{"version":3,"file":"CustomerBlock-tmxZ10pJ.js","sources":["../../src/widget/features/pdf-invoice/invoice/components/items/CustomerBlock.vue"],"sourcesContent":["<template>\n  <div\n    class=\"ccb-pdf-layout__item\"\n    :style=\"getBackgroundStyles\"\n    v-if=\"getOrderId\"\n  >\n    <div\n      class=\"ccb-pdf-layout__item--wrapper customer_block\"\n      data-id=\"customer_block\"\n    >\n      <span class=\"ccb-pdf-item-title\" :style=\"getTitleStyles\">{{\n        getTitle\n      }}</span>\n      <span\n        class=\"ccb-pdf-item-info\"\n        style=\"flex-direction: column !important; margin-top: 0\"\n      >\n        <span\n          class=\"ccb-pdf-item-info--item\"\n          v-for=\"detail in getCustomerDetails\"\n          :key=\"detail.key\"\n          :class=\"[detail.key]\"\n        >\n          <span class=\"ccb-pdf-item-info--item-label\" :style=\"getTextStyles\">{{\n            detail.label\n          }}</span>\n          <span\n            class=\"ccb-pdf-item-info--item-value\"\n            :style=\"getTextStyles\"\n            v-if=\"detail.type === 'formatted-text'\"\n            v-html=\"detail.value\"\n          ></span>\n          <span\n            class=\"ccb-pdf-item-info--item-value\"\n            :style=\"getTextStyles\"\n            v-if=\"detail.type !== 'formatted-text'\"\n            >{{ detail.value }}</span\n          >\n        </span>\n      </span>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { toRefs, defineProps, computed } from \"vue\";\nimport { IPdfSettings } from \"@/widget/shared/types/settings\";\nimport { useSubmissionStore } from \"@/widget/app/providers/stores/submissionStore.ts\";\nimport { useOrderFormStore } from \"@/widget/app/providers/stores/orderFormStore.ts\";\n\ntype Props = {\n  pdf: IPdfSettings;\n  item: {\n    tabs?: {\n      design?: {\n        data: {\n          backgroundColor?: { data: { status: boolean }; value: string };\n          textColor?: { data: { status: boolean }; value: string };\n          titleColor?: { data: { status: boolean }; value: string };\n          titleFontSize?: { value: number };\n        };\n      };\n      text?: {\n        data: {\n          title?: { value: string };\n        };\n      };\n      content?: {\n        data: {\n          title?: { value: string };\n        };\n      };\n    };\n  };\n  content: {\n    customerDetails?: Array<{\n      value: string;\n      name: string;\n      key: string;\n      attributes?: {\n        name?: string;\n      };\n    }>;\n  };\n};\n\nconst props = defineProps<Props>();\nconst { pdf, item } = toRefs(props);\n\nconst getBackgroundStyles = computed(() => {\n  const styles: Record<string, string> = {};\n  const documentTabs = pdf.value?.document?.tabs;\n\n  if (documentTabs?.body?.data?.backgroundColor?.value) {\n    styles.backgroundColor = documentTabs.body.data.backgroundColor.value;\n  }\n\n  if (item.value?.tabs?.design?.data?.backgroundColor?.data?.status) {\n    styles.backgroundColor = item.value.tabs.design.data.backgroundColor.value;\n  } else {\n    styles.backgroundColor = \"transparent\";\n  }\n\n  return styles;\n});\n\nconst getOrderId = computed(() => {\n  const submissionStore = useSubmissionStore();\n  return submissionStore.getOrderId;\n});\n\nconst getOrderData = computed(() => {\n  const submissionStore = useSubmissionStore();\n  return submissionStore.getOrderData;\n});\n\nconst getTitle = computed(() => {\n  return item.value?.tabs?.text?.data?.title?.value || \"\";\n});\n\nconst getTitleStyles = computed(() => {\n  const styles: Record<string, string> = {};\n  if (item.value?.tabs?.design?.data?.titleColor?.data?.status) {\n    styles.color = item.value.tabs.design.data.titleColor.value;\n  }\n  if (item.value?.tabs?.design?.data?.titleFontSize?.value) {\n    styles.fontSize = `${item.value.tabs.design.data.titleFontSize.value}px`;\n  }\n  return styles;\n});\n\nconst getTextStyles = computed(() => {\n  const styles: Record<string, string> = {};\n  if (item.value?.tabs?.design?.data?.textColor?.data?.status) {\n    styles.color = item.value.tabs.design.data.textColor.value;\n  }\n  return styles;\n});\n\nconst upperFirst = (str: string) => {\n  if (!str && typeof str !== \"string\") return str;\n  return str.charAt(0).toUpperCase() + str.slice(1);\n};\n\nconst getCustomerDetails = computed(() => {\n  const orderFormStore = useOrderFormStore();\n  let formFields = orderFormStore.getFormFields;\n\n  if (getOrderData.value?.formDetails?.fields) {\n    formFields = getOrderData.value?.formDetails?.fields;\n  }\n\n  let data = [];\n  if (formFields) {\n    for (const detail of formFields) {\n      const item = {\n        value: Array.isArray(detail.value)\n          ? detail.value.join(\", \")\n          : detail.value,\n        key: detail.id,\n        label: upperFirst(detail.label),\n        type: detail.type,\n      };\n\n      if (item.value) {\n        data.push(item);\n      }\n    }\n  }\n\n  return data;\n});\n</script>\n"],"names":["props","__props","pdf","item","toRefs","getBackgroundStyles","computed","styles","documentTabs","_b","_a","_e","_d","_c","_k","_j","_i","_h","_g","_f","getOrderId","useSubmissionStore","getOrderData","getTitle","getTitleStyles","getTextStyles","upperFirst","str","getCustomerDetails","formFields","useOrderFormStore","data","detail"],"mappings":"khBAsFA,MAAMA,EAAQC,EACR,CAAE,IAAAC,EAAK,KAAAC,GAASC,EAAOJ,CAAK,EAE5BK,EAAsBC,EAAS,IAAM,2BACzC,MAAMC,EAAiC,CAAC,EAClCC,GAAeC,GAAAC,EAAAR,EAAI,QAAJ,YAAAQ,EAAW,WAAX,YAAAD,EAAqB,KAE1C,OAAIE,GAAAC,GAAAC,EAAAL,GAAA,YAAAA,EAAc,OAAd,YAAAK,EAAoB,OAApB,YAAAD,EAA0B,kBAA1B,MAAAD,EAA2C,QAC7CJ,EAAO,gBAAkBC,EAAa,KAAK,KAAK,gBAAgB,QAG9DM,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,EAAAhB,EAAK,QAAL,YAAAgB,EAAY,OAAZ,YAAAD,EAAkB,SAAlB,YAAAD,EAA0B,OAA1B,YAAAD,EAAgC,kBAAhC,YAAAD,EAAiD,OAAjD,MAAAD,EAAuD,OACzDP,EAAO,gBAAkBJ,EAAK,MAAM,KAAK,OAAO,KAAK,gBAAgB,MAErEI,EAAO,gBAAkB,cAGpBA,CAAA,CACR,EAEKa,EAAad,EAAS,IACFe,EAAmB,EACpB,UACxB,EAEKC,EAAehB,EAAS,IACJe,EAAmB,EACpB,YACxB,EAEKE,EAAWjB,EAAS,IAAM,eAC9B,QAAOK,GAAAC,GAAAC,GAAAJ,GAAAC,EAAAP,EAAK,QAAL,YAAAO,EAAY,OAAZ,YAAAD,EAAkB,OAAlB,YAAAI,EAAwB,OAAxB,YAAAD,EAA8B,QAA9B,YAAAD,EAAqC,QAAS,EAAA,CACtD,EAEKa,EAAiBlB,EAAS,IAAM,2BACpC,MAAMC,EAAiC,CAAC,EACxC,OAAIY,GAAAR,GAAAC,GAAAC,GAAAJ,GAAAC,EAAAP,EAAK,QAAL,YAAAO,EAAY,OAAZ,YAAAD,EAAkB,SAAlB,YAAAI,EAA0B,OAA1B,YAAAD,EAAgC,aAAhC,YAAAD,EAA4C,OAA5C,MAAAQ,EAAkD,SACpDZ,EAAO,MAAQJ,EAAK,MAAM,KAAK,OAAO,KAAK,WAAW,QAEpDW,GAAAC,GAAAC,GAAAC,GAAAC,EAAAf,EAAK,QAAL,YAAAe,EAAY,OAAZ,YAAAD,EAAkB,SAAlB,YAAAD,EAA0B,OAA1B,YAAAD,EAAgC,gBAAhC,MAAAD,EAA+C,QAC1CP,EAAA,SAAW,GAAGJ,EAAK,MAAM,KAAK,OAAO,KAAK,cAAc,KAAK,MAE/DI,CAAA,CACR,EAEKkB,EAAgBnB,EAAS,IAAM,iBACnC,MAAMC,EAAiC,CAAC,EACxC,OAAIY,GAAAR,GAAAC,GAAAC,GAAAJ,GAAAC,EAAAP,EAAK,QAAL,YAAAO,EAAY,OAAZ,YAAAD,EAAkB,SAAlB,YAAAI,EAA0B,OAA1B,YAAAD,EAAgC,YAAhC,YAAAD,EAA2C,OAA3C,MAAAQ,EAAiD,SACnDZ,EAAO,MAAQJ,EAAK,MAAM,KAAK,OAAO,KAAK,UAAU,OAEhDI,CAAA,CACR,EAEKmB,EAAcC,GACd,CAACA,GAAO,OAAOA,GAAQ,SAAiBA,EACrCA,EAAI,OAAO,CAAC,EAAE,cAAgBA,EAAI,MAAM,CAAC,EAG5CC,EAAqBtB,EAAS,IAAM,aAExC,IAAIuB,EADmBC,EAAkB,EACT,eAE5BrB,GAAAC,EAAAY,EAAa,QAAb,YAAAZ,EAAoB,cAApB,MAAAD,EAAiC,SACtBoB,GAAAjB,GAAAC,EAAAS,EAAa,QAAb,YAAAT,EAAoB,cAApB,YAAAD,EAAiC,QAGhD,IAAImB,EAAO,CAAC,EACZ,GAAIF,EACF,UAAWG,KAAUH,EAAY,CAC/B,MAAM1B,EAAO,CACX,MAAO,MAAM,QAAQ6B,EAAO,KAAK,EAC7BA,EAAO,MAAM,KAAK,IAAI,EACtBA,EAAO,MACX,IAAKA,EAAO,GACZ,MAAON,EAAWM,EAAO,KAAK,EAC9B,KAAMA,EAAO,IACf,EAEI7B,EAAK,OACP4B,EAAK,KAAK5B,CAAI,CAChB,CAIG,OAAA4B,CAAA,CACR"}