import{m as J}from"./slider-BPcFTpZU.js";import{a as O,t as $,b as v,l as z,J as S,n as p,g as f,q as u,p as A,A as V,v as g,u as i,s as N,F as B,z as _,K as q}from"./convert-case-to-camel-case.utils-C0gHQHtf.js";const D={class:"slider-min-max"},E={class:"label"},K={class:"label"},L={class:"custom-marks"},R=["onClick"],H=O({__name:"MultiPoint",props:{field:{},modelValue:{}},emits:["update:modelValue"],setup(M,{emit:h}){const m=M,{field:s}=$(m),x=v(()=>s.value.jump?1:Number(s.value.step||1)),t=v(()=>Number(s.value.min)),o=v(()=>Number(s.value.max)),k=z(m.modelValue),b=v(()=>s.value.jump),d=h,P=e=>{d("update:modelValue",Array.isArray(e)?e:[e])},j=e=>{const l=e.toFixed(2);return parseFloat(l).toString()},n=v(()=>{var l;return(((l=s.value.scalePoints)==null?void 0:l.trim())||"").split(",").map(a=>Number(a.trim())).filter(a=>!isNaN(a)&&a>=t.value&&a<=o.value)}),w=e=>({left:`${(e-t.value)/(o.value-t.value)*100}%`});S(()=>m.modelValue,e=>{k.value=e});const C=e=>{b.value&&n.value.includes(e)&&d("update:modelValue",[k.value[0],e])},F=e=>{b.value&&n.value.includes(e)&&d("update:modelValue",[e,k.value[1]])};return S(k,e=>{if(b.value){const l=n.value.reduce((r,c)=>Math.abs(c-e[0])<Math.abs(r-e[0])?c:r,n.value[0]),a=n.value.reduce((r,c)=>Math.abs(c-e[1])<Math.abs(r-e[1])?c:r,n.value[0]),y=[l,a];JSON.stringify(y)!==JSON.stringify(m.modelValue)&&d("update:modelValue",y)}else JSON.stringify(e)!==JSON.stringify(m.modelValue)&&d("update:modelValue",e)}),(e,l)=>(f(),p("div",{class:V(["slider-wrapper ccb-multi-point-multi-range-field",{jump:i(s).jump}])},[u("div",D,[u("div",{class:V(["slider-min-max-item",{first:e.modelValue[0]==t.value}]),onClick:l[0]||(l[0]=a=>F(t.value))},[l[2]||(l[2]=u("span",{class:"tick"},null,-1)),u("span",E,g(t.value),1)],2),u("div",{class:V(["slider-min-max-item",{done:e.modelValue[0]>=o.value}]),onClick:l[1]||(l[1]=a=>C(o.value))},[l[3]||(l[3]=u("span",{class:"tick"},null,-1)),u("span",K,g(o.value),1)],2)]),A(i(J),{style:{margin:"10px 0"},format:j,min:i(s).min,max:i(s).max,step:x.value,disabled:i(s).disabled,modelValue:e.modelValue,"onUpdate:modelValue":P,"show-tooltip":"focus"},null,8,["min","max","step","disabled","modelValue"]),u("div",L,[i(s).scalePoints?(f(!0),p(B,{key:0},_(n.value,a=>(f(),p("div",{key:a,class:"mark",style:q(w(a))},[a!==t.value&&a!==o.value?(f(),p("div",{key:0,class:V(["tick",{"tick-passed":a>=e.modelValue[0]&&a<=e.modelValue[1]}])},null,2)):N("",!0),a!==t.value&&a!==o.value?(f(),p("div",{key:1,class:V(["label",{"label-passed":a<=e.modelValue[0]}]),onClick:y=>C(a)},g(a),11,R)):N("",!0)],4))),128)):N("",!0)])],2))}});export{H as default};
//# sourceMappingURL=MultiPoint-LYvAOvkx.js.map
