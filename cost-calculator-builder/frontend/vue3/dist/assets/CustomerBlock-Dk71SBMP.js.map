{"version":3,"file":"CustomerBlock-Dk71SBMP.js","sources":["../../src/orders/features/pdf-invoice/invoice/components/items/CustomerBlock.vue"],"sourcesContent":["<template>\n  <div\n    class=\"ccb-pdf-layout__item\"\n    :style=\"getBackgroundStyles\"\n    v-if=\"getOrderId\"\n  >\n    <div\n      class=\"ccb-pdf-layout__item--wrapper customer_block\"\n      data-id=\"customer_block\"\n    >\n      <span class=\"ccb-pdf-item-title\" :style=\"getTitleStyles\">{{\n        getTitle\n      }}</span>\n      <span\n        class=\"ccb-pdf-item-info\"\n        style=\"flex-direction: column !important; margin-top: 0\"\n      >\n        <span\n          class=\"ccb-pdf-item-info--item\"\n          v-for=\"detail in getCustomerDetails\"\n          :key=\"detail.key\"\n          :class=\"[detail.key]\"\n        >\n          <span class=\"ccb-pdf-item-info--item-label\" :style=\"getTextStyles\">{{\n            detail.label\n          }}</span>\n          <span\n            class=\"ccb-pdf-item-info--item-value\"\n            :style=\"getTextStyles\"\n            v-if=\"detail.type === 'formatted-text'\"\n            v-html=\"detail.value\"\n          ></span>\n          <span\n            class=\"ccb-pdf-item-info--item-value\"\n            :style=\"getTextStyles\"\n            v-if=\"detail.type !== 'formatted-text'\"\n            >{{ detail.value }}</span\n          >\n        </span>\n      </span>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { toRefs, computed } from \"vue\";\nimport { IPdfSettings } from \"@/widget/shared/types/settings\";\nimport { useOrdersStore } from \"@/orders/app/providers/stores/orders\";\n\ntype Props = {\n  pdf: IPdfSettings;\n  item: {\n    tabs?: {\n      design?: {\n        data: {\n          backgroundColor?: { data: { status: boolean }; value: string };\n          textColor?: { data: { status: boolean }; value: string };\n          titleColor?: { data: { status: boolean }; value: string };\n          titleFontSize?: { value: number };\n        };\n      };\n      text?: {\n        data: {\n          title?: { value: string };\n        };\n      };\n      content?: {\n        data: {\n          title?: { value: string };\n        };\n      };\n    };\n  };\n  content: {\n    customerDetails?: Array<{\n      value: string;\n      name: string;\n      key: string;\n      attributes?: {\n        name?: string;\n      };\n    }>;\n  };\n};\n\nconst props = defineProps<Props>();\nconst { pdf, item } = toRefs(props);\n\nconst getBackgroundStyles = computed(() => {\n  const styles: Record<string, string> = {};\n  const documentTabs = pdf.value?.document?.tabs;\n\n  if (documentTabs?.body?.data?.backgroundColor?.value) {\n    styles.backgroundColor = documentTabs.body.data.backgroundColor.value;\n  }\n\n  if (item.value?.tabs?.design?.data?.backgroundColor?.data?.status) {\n    styles.backgroundColor = item.value.tabs.design.data.backgroundColor.value;\n  } else {\n    styles.backgroundColor = \"transparent\";\n  }\n\n  return styles;\n});\n\nconst getOrderId = computed(() => {\n  const ordersStore = useOrdersStore();\n  return ordersStore.getCurrentOrderId;\n});\n\nconst getTitle = computed(() => {\n  return item.value?.tabs?.text?.data?.title?.value || \"\";\n});\n\nconst getTitleStyles = computed(() => {\n  const styles: Record<string, string> = {};\n  if (item.value?.tabs?.design?.data?.titleColor?.data?.status) {\n    styles.color = item.value.tabs.design.data.titleColor.value;\n  }\n  if (item.value?.tabs?.design?.data?.titleFontSize?.value) {\n    styles.fontSize = `${item.value.tabs.design.data.titleFontSize.value}px`;\n  }\n  return styles;\n});\n\nconst getTextStyles = computed(() => {\n  const styles: Record<string, string> = {};\n  if (item.value?.tabs?.design?.data?.textColor?.data?.status) {\n    styles.color = item.value.tabs.design.data.textColor.value;\n  }\n  return styles;\n});\n\nconst upperFirst = (str: string) => {\n  if (!str && typeof str !== \"string\") return str;\n  return str.charAt(0).toUpperCase() + str.slice(1);\n};\n\nconst parseValue = (value: string) => {\n  try {\n    const parsedItem = JSON.parse(value);\n    if (Array.isArray(parsedItem)) {\n      return parsedItem.join(\", \");\n    }\n    return parsedItem;\n  } catch {\n    return value;\n  }\n};\n\nconst getCustomerDetails = computed(() => {\n  const ordersStore = useOrdersStore();\n  let formFields = ordersStore.getCurrentOrder?.order_form_details;\n  let data = [];\n  if (formFields) {\n    formFields = formFields.map((detail) => ({\n      ...detail,\n      value: parseValue(detail.value),\n    }));\n    for (const detail of formFields) {\n      const item = {\n        value: detail.value,\n        key: detail.id,\n        label: upperFirst(detail.label),\n        type: detail.type,\n      };\n\n      if (item.value) {\n        data.push(item);\n      }\n    }\n  }\n\n  return data;\n});\n</script>\n"],"names":["props","__props","pdf","item","toRefs","getBackgroundStyles","computed","styles","documentTabs","_b","_a","_e","_d","_c","_k","_j","_i","_h","_g","_f","getOrderId","useOrdersStore","getTitle","getTitleStyles","getTextStyles","upperFirst","str","parseValue","value","parsedItem","getCustomerDetails","formFields","data","detail"],"mappings":"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"}