import{Q}from"./vue-datepicker-BwVPix_-.js";/* empty css             */import{u as z,f as G,n as j,m as I,a as J,q as K,o as O}from"./widget-BnDEfRrY.js";import{c as X}from"./ThankYouPage-CfFpZJYw.js";import{_ as Y}from"./RequiredHint.vue_vue_type_style_index_0_lang-DK4Jaja3.js";import{u as Z}from"./translationsStore-B0jdQEiB.js";import{d as ee,t as ae,c as l,l as u,o,n as _,q as c,b as te,G as le,p as P,s as b,u as s,A as se}from"./pinia-Bf90yW2D.js";import"./jquery-C7OTzgKr.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const re={class:"ccb-field__label"},ne={class:"ccb-field__title"},ie={key:0,class:"ccb-field-required-mark"},oe={key:0,class:"ccb-field__descriptions ccb-before"},ue={key:0,class:"ccb-field__description"},ce={class:"ccb-field__input-wrapper"},de={key:1,class:"ccb-field__descriptions ccb-after"},ve={key:0,class:"ccb-field__description"},he=ee({__name:"DatePicker",props:{field:{}},setup(A){const F=A,{field:e}=ae(F),g=z(),k=G(),q=j(),h=O(),T=I(),f=Z(),w=J(),{parseDate:S,getDaysDifference:x,displayValueHelper:y}=K(),E=l(()=>{var a;return((a=w.getWarningTexts)==null?void 0:a.requiredMsg)||""}),v=l(()=>w.getLanguage),H=()=>y(r.value,v.value),r=l({get(){return e.value.selectedDate},set(a){e.value.selectedDate=a}}),V=l(()=>k.checkFieldRequired(e.value)),B=l(()=>e.value.placeholder?e.value.placeholder:f.getTranslations.selectDate),D=l(()=>{var a;return e.value.isHaveUnselectable?(a=e.value.notAllowedWeekDays)==null?void 0:a.map(t=>t===7?0:t):[]}),U=l(()=>{var n;const a=new Date;let t=[];if(!e.value.isHaveUnselectable)return t;for(let i=1;i<=e.value.daysFromCurrent;i++){const d=new Date(a);d.setDate(d.getDate()+i),t.push(d)}return(n=e.value.notAllowedDates)!=null&&n.current&&t.push(a),t}),$=l(()=>{var a;return e.value.isHaveUnselectable&&((a=e.value.notAllowedDates)!=null&&a.allPast)?new Date:""}),N=l(()=>{const a=[];if(!e.value.isHaveUnselectable)return a;const t=e.value.notAllowedDates;if(t&&t.period&&t.period.length)for(const n of t.period){const i=new Date(S(n.start||"")),d=new Date(S(n.end||""));for(let p=new Date(i);p<=d;p.setDate(p.getDate()+1))a.push(new Date(p))}return a}),m=l(()=>[...N.value,...U.value]),W=l(()=>{var a;return e.value.dayPriceEnabled?e.value.useCurrency||e.value.fieldCurrency?h.getCommonFieldDisplayView(e.value):((a=e.value.value)==null?void 0:a.toString())||"":y(r.value,v.value)}),M=l(()=>{var a;if(e.value.dayPriceEnabled){const t=[y(r.value,v.value)],n=e.value.useCurrency||e.value.fieldCurrency?h.getCommonFieldDisplayView(e.value):(a=e.value.value)==null?void 0:a.toString();if(e.value.range&&Array.isArray(r.value)){const i=x(r.value[0],r.value[1],e.value,m.value,D.value);i&&t.push(`${i} day(s) x ${e.value.dayPrice}`)}else r.value&&t.push(`1 day(s) x ${n}`);return t}return[]}),R=l(()=>e.value.dayPriceEnabled?Array.isArray(r.value)?x(r.value[0],r.value[1],e.value,m.value,D.value)*e.value.dayPrice:(r.value?1:0)*e.value.dayPrice:0),C=(a,t,n)=>{t&&t!==e.value.alias||(e.value.selectedDate=a||void 0,e.value.value=R.value,e.value.displayValue=W.value,e.value.extraDisplayView=M.value,k.updateField(e.value.alias,e.value,n),q.applyConditionForField(e.value.alias))},L=l(()=>{var a;return((a=e.value)==null?void 0:a.additionalStyles)||""});return T.add("updateDatePicker",C),(a,t)=>(o(),u("div",{class:se(["ccb-field ccb-datePicker",{required:V.value,"ccb-field-disabled":s(e).disabled,[L.value]:!0}])},[_("div",re,[V.value?(o(),te(Y,{key:0,text:E.value},null,8,["text"])):c("",!0),_("div",ne,[le(b(s(e).label),1),s(e).required?(o(),u("span",ie,"*")):c("",!0),P(X)])]),s(g).descriptionPosition==="before"?(o(),u("div",oe,[s(e).description?(o(),u("div",ue,b(s(e).description),1)):c("",!0)])):c("",!0),_("div",ce,[P(s(Q),{modelValue:r.value,"onUpdate:modelValue":[t[0]||(t[0]=n=>r.value=n),C],locale:v.value,"auto-apply":s(e).autoCloseEnabled,range:s(e).range,placeholder:B.value,"enable-time-picker":!1,"disabled-week-days":D.value,"disabled-dates":m.value,"min-date":$.value,format:H,"select-text":s(f).getTranslations.select,"cancel-text":s(f).getTranslations.cancel},null,8,["modelValue","locale","auto-apply","range","placeholder","disabled-week-days","disabled-dates","min-date","select-text","cancel-text"])]),s(g).descriptionPosition==="after"?(o(),u("div",de,[s(e).description?(o(),u("div",ve,b(s(e).description),1)):c("",!0)])):c("",!0)],2))}});export{he as default};
//# sourceMappingURL=index-DZ9PAq5d.js.map
