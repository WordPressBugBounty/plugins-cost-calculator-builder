import{a as V,b as q,o as E,n as p,g,s as z,q as m,u as e,v as S,D as H,K,A as Q}from"./convert-case-to-camel-case.utils-C0gHQHtf.js";import{$ as t}from"./jquery-C7OTzgKr.js";import{u as Y}from"./sticky-BSocnQs9.js";import{u as j}from"./useSticky-BODg9KNj.js";import{u as G}from"./translationsStore-Ca2Pe_Lt.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";const O={key:0,class:"sticky-calculator-btn--icon is-image"},R=["src"],U={key:1,class:"ccb-icon-Calculators-filled"},X={class:"sticky-calculator-btn--text"},Z={class:"sticky-calculator-btn--text__title"},tt={key:0,class:"sticky-calculator-btn--text__description"},ot=V({__name:"FloatingCart",setup(st){const{classList:T,clickAction:b,getFormattedTotal:F,getShortTitle:I,showTotal:L,updateFormulas:B,initListeners:D}=j(),s=Y(),M=G(),N=q(()=>{var v,w,C,x,A,$,P,W;const l=((v=s.getStickySettings)==null?void 0:v.btnPosition.split("_"))||[],o=l[0]||"",n=l[1]||"";let c=window.innerWidth>1280?40:20;((w=t(`.ccb-calc-id-${s.getCalcId}`))==null?void 0:w.prevAll()).each(function(){var i,u;const a=t(this)[0];if(t(a).data("position")===((i=s.getStickySettings)==null?void 0:i.btnPosition)){const y=((u=t(a).find(".sticky-calculator-btn"))==null?void 0:u.outerWidth())||0;c+=y>0?y+20:y}});let d=window.innerWidth>1280?40:20;const h=".sticky-calculator-banner";if(((C=t(h))==null?void 0:C.length)>0&&!t(h).hasClass("ccb-hide-button")&&(((A=(x=t(h))==null?void 0:x.attr("class"))==null?void 0:A.split(/\s+/))||[]).includes(o)&&!(($=t(h))!=null&&$.hasClass("ccb-hide-button"))){d=20;let k=t(".sticky-calculator-banner").height()||0,i=window.innerWidth>600?0:20;d=d+k+i}const _=t("#wpadminbar");_.length&&o==="top"&&(d+=((_==null?void 0:_.height())||0)-10);const f={[o]:`${d}px`,[n]:`${c}px`};if(n==="center"){let a=0;((W=(P=t(`.ccb-calc-id-${s.getCalcId}`))==null?void 0:P.prevAll())==null?void 0:W.filter(function(){var i;return t(this).data("position")===((i=s.getStickySettings)==null?void 0:i.btnPosition)})).each(function(){var i,u;a=(((u=(i=t(this))==null?void 0:i.find(".sticky-calculator-btn"))==null?void 0:u.outerWidth())||0)+20||0}),f.left=`calc(40% + ${a}px)`}return o==="center"&&(f.top="50%",f.transform="translateY(-50%)"),f});return E(()=>{var n,c,r;const l=((n=s.getStickySettings)==null?void 0:n.oneClickAction)||"";let o=((c=s.getStickySettings)==null?void 0:c.formulas)||[];["woo_checkout","woo_product_as_modal","woo_product_with_redirect"].includes(l)&&(o=((r=s.getWooCheckoutSettings)==null?void 0:r.formulas)||[]),B(o),D()}),(l,o)=>{var n,c;return g(),p("div",{class:Q(["sticky-calculator-btn",e(T)]),style:K(N.value),onClick:o[0]||(o[0]=H((...r)=>e(b)&&e(b)(...r),["prevent"]))},[(n=e(s).getStickySettings)!=null&&n.hideIcon?z("",!0):(g(),p("div",O,[(c=e(s).getStickySettings)!=null&&c.icon?(g(),p("img",{key:0,src:e(s).getStickySettings.icon,alt:"icon svg"},null,8,R)):(g(),p("i",U))])),m("div",X,[m("span",Z,S(e(I)),1),e(L)?(g(),p("span",tt,S(e(M).getTranslations.total)+": "+S(e(F)),1)):z("",!0)]),o[1]||(o[1]=m("div",{class:"ccb-icon-arrow"},[m("i",{class:"ccb-icon-Down"})],-1))],6)}}}),rt=J(ot,[["__scopeId","data-v-9914a85c"]]);export{rt as default};
//# sourceMappingURL=index-Bgh9SpCj.js.map
