import{u as F}from"./useOrderFormDropdown-C2BcLGYF.js";import{t as N}from"./widget-EtDMYrRk.js";import{u as M}from"./translationsStore-Ca2Pe_Lt.js";import{a as A,t as E,l as O,b as w,o as W,n as u,g as i,q as l,u as o,s as p,F as y,z as x,E as q,v}from"./convert-case-to-camel-case.utils-C0gHQHtf.js";import"./jquery-C7OTzgKr.js";const z={class:"ccb-dropdown multi-select"},L={key:0,class:"anchor ccb-heading-5 ccb-light-3 ccb-selected"},P=["onClick"],R={key:1,class:"anchor ccb-heading-5 ccb-light ccb-selected"},$={key:2,class:"anchor ccb-heading-5 ccb-light-3"},j={class:"ccb-order-dropdown__list"},G={class:"ccb-default-checkbox"},H=["for"],J=["id","name","checked","value","onChange"],K={class:"ccb-checkbox-label"},ee=A({__name:"MultiSelectDropDown",props:{field:{}},emits:["toggle"],setup(V,{emit:T}){const C=T,_=V,{field:e}=E(_),b=O(null),{toggleBody:m}=F(_,C,b),g=M(),S=a=>{var r;const s=((r=e.value.selectedIdx)==null?void 0:r.filter(t=>t!==a))||[];e.value.selectedIdx=s},n=w(()=>e.value.selectedIdx||[]),I=a=>{var h,f,k;let s=e.value.selectedIdx||[];n.value.includes(a)?s=((h=e.value.selectedIdx)==null?void 0:h.filter(d=>d!==a))||[]:s.push(a);let r=[];const t=((k=(f=e.value)==null?void 0:f.attributes)==null?void 0:k.options)||[];for(let d=0;d<t.length;d++){const D=t[d];s.includes(d)&&r.push(D.optionText||"")}const{updateValue:c}=N();e.value.value=r,c(e.value.id,e.value.value,s)},B=w(()=>Math.random().toString(36).substring(2,15));return W(()=>{var a;Array.isArray((a=e.value)==null?void 0:a.value)&&(e.value.value=e.value.value[0])}),(a,s)=>{var r;return i(),u("div",{class:"ccb-field__input-wrapper",ref_key:"dropdownWrapper",ref:b},[l("div",z,[l("div",{class:"ccb-order-dropdown__input",onClick:s[0]||(s[0]=(...t)=>o(m)&&o(m)(...t))},[s[1]||(s[1]=l("i",{class:"ccb-icon-Path-3485 ccb-select-arrow"},null,-1)),o(e).attributes&&o(e).attributes.options&&n.value.length>0?(i(),u("span",L,[n.value.length&&n.value.length<3?(i(!0),u(y,{key:0},x(n.value,(t,c)=>(i(),u("span",{class:"selected",key:c},[q(v(o(e).attributes.options[t].optionText)+" ",1),l("i",{class:"ccb-icon-close",onClick:h=>S(t)},null,8,P)]))),128)):p("",!0)])):p("",!0),n.value.length>=3?(i(),u("span",R,v(n.value.length)+" "+v(o(g).getTranslations.optionsSelected),1)):p("",!0),n.value.length===0?(i(),u("span",$,v(o(g).getTranslations.selectValues),1)):p("",!0)]),l("div",j,[l("ul",null,[(r=o(e).attributes)!=null&&r.options?(i(!0),u(y,{key:0},x(o(e).attributes.options,(t,c)=>(i(),u("li",{key:c},[l("div",G,[l("label",{for:o(e).id+"order_dropdown_checkbox_"+c},[l("input",{type:"checkbox",id:o(e).id+"order_dropdown_checkbox_"+c,name:B.value,checked:n.value.includes(c),value:t.optionText,onChange:()=>I(c)},null,40,J),l("span",K,v(t.optionText),1)],8,H)])]))),128)):p("",!0)])])])],512)}}});export{ee as default};
//# sourceMappingURL=MultiSelectDropDown-CnlNi9Bj.js.map
