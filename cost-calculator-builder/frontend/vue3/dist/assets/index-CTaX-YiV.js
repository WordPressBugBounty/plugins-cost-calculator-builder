import{d as q,B as D,e as y,f,c as o,o as a,l as i,m as r,h as E,u as t,N as L,L as l,Q as V,M as A,I,E as C}from"./runtime-dom.esm-bundler-DVhL8Vyv.js";import{f as N,u as M,n as R,j as W,o as j}from"./widget-CZM7cD3F.js";import{_ as z}from"./RequiredHint.vue_vue_type_style_index_0_lang-DWClyS2l.js";import{u as Q}from"./translationsStore-Crbl8s4V.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./jquery-C7OTzgKr.js";const G={class:"ccb-field__label"},H={class:"ccb-field__title"},J={key:0,class:"ccb-field-required-mark"},K={key:0,class:"ccb-field__descriptions ccb-before"},U={key:0,class:"ccb-field__description"},X={class:"ccb-dropdown"},Y={key:0,class:"ccb-dropdown__label"},Z={key:1,class:"ccb-dropdown__label"},ee={class:"ccb-dropdown__list"},se=["onClick"],te={class:"ccb-dropdown--option-label"},ae={key:0,class:"ccb-dropdown--option-converted"},oe={key:1,class:"ccb-field__descriptions ccb-after"},ie={key:0,class:"ccb-field__description"},le=q({__name:"Dropdown",props:{field:{}},setup(S){const F=S,{field:e}=D(F),u=N(),B=j(),k=M(),x=R(),p=Q(),T=W(),d=y(!1),_=y(null),g=()=>{d.value?document.removeEventListener("click",b):document.addEventListener("click",b),d.value=!d.value},b=s=>{_.value&&"contains"in _.value&&!_.value.contains(s.target)&&(d.value=!1,document.removeEventListener("click",b))},w=(s,c=!0)=>{var n;if((s==null?void 0:s.optionValue)!==((n=m.value)==null?void 0:n.optionValue)){let v=0;s!=null&&s.optionValue&&e.value.summaryView!=="show_label_not_calculable"&&(v=+(s==null?void 0:s.optionValue).split("_")[0]||0),e.value.selectedOption=s,e.value.value=v,e.value.displayValue=B.getMultipleOptionsFieldDisplayView(e.value),u.updateField(e.value.alias,e.value),x.applyConditionForField(e.value.alias),u.getPageBreakEnabled&&u.getActivePage.action==="not_skip"&&T.checkPageFieldsConditions()}c&&g()},m=f(()=>e.value.selectedOption),O=f(()=>{var s;return(s=e.value.options)==null?void 0:s.map(c=>({...c}))}),h=f(()=>u.checkFieldRequired(e.value)),P=f(()=>{var s;return((s=e.value)==null?void 0:s.additionalStyles)||""});return(s,c)=>(a(),o("div",{class:C(["ccb-field ccb-dropdown-field",{active:d.value,required:h.value,"ccb-field-disabled":t(e).disabled,[P.value]:!0}])},[i("div",G,[h.value?(a(),E(z,{key:0,text:t(p).getTranslations.requiredField},null,8,["text"])):r("",!0),i("div",H,[L(l(t(e).label),1),t(e).required?(a(),o("span",J,"*")):r("",!0)])]),t(k).getAppearanceDescriptionPosition==="before"?(a(),o("div",K,[t(e).description?(a(),o("div",U,l(t(e).description),1)):r("",!0)])):r("",!0),i("div",{class:"ccb-field__input-wrapper",ref_key:"dropdownWrapper",ref:_},[i("div",X,[i("div",{class:"ccb-dropdown__input",onClick:g},[m.value?(a(),o("span",Z,l(m.value.optionText),1)):(a(),o("span",Y,l(t(p).getTranslations.selectValue),1)),c[1]||(c[1]=i("span",{class:"ccb-dropdown__icon"},[i("i",{class:"ccb-icon-Path-3485"})],-1))]),i("div",ee,[i("ul",null,[i("li",{onClick:c[0]||(c[0]=V(()=>w(void 0,!0),["prevent"]))},l(t(p).getTranslations.selectValue),1),(a(!0),o(A,null,I(O.value,(n,v)=>(a(),o("li",{key:n.optionValue,onClick:V(()=>w(n),["prevent"]),class:C(["ccb-dropdown--option",{"ccb-option-disabled":t(e).disableOptions.includes(v)}])},[i("span",te,l(n.optionText),1),t(e).showValueInOption?(a(),o("span",ae,l(t(p).getTranslations.price)+": "+l(n.optionConverted),1)):r("",!0)],10,se))),128))])])])],512),t(k).getAppearanceDescriptionPosition==="after"?(a(),o("div",oe,[t(e).description?(a(),o("div",ie,l(t(e).description),1)):r("",!0)])):r("",!0)],2))}}),ve=$(le,[["__scopeId","data-v-eaeb738f"]]);export{ve as default};
//# sourceMappingURL=index-CTaX-YiV.js.map
