import{m as P}from"./slider-CCRpIwwh.js";import{d as S,k as $,t as z,c as n,I as _,l as i,o as m,p as l,n as B,s as V,z as g,u as v,F as y,y as N,q as C,J as q}from"./pinia-CqDt-rav.js";const D={class:"slider-min-max"},E={class:"label"},I={class:"label"},J={class:"custom-ticks"},L={class:"custom-marks"},R=["onClick"],G=S({__name:"Modern",props:{field:{},modelValue:{}},emits:["update:modelValue"],setup(j,{emit:w}){const d=j,r=w,b=$(d.modelValue),{field:t}=z(d),p=n({get:()=>d.modelValue,set:s=>r("update:modelValue",s)}),o=n(()=>Number(t.value.min)),u=n(()=>Number(t.value.max)),F=n(()=>t.value.jump?1:Number(t.value.step||1)),x=n(()=>t.value.jump),c=n(()=>{var a;return(((a=t.value.scalePoints)==null?void 0:a.trim())||"").split(",").map(e=>Number(e.trim())).filter(e=>!isNaN(e)&&e>=o.value&&e<=u.value)}),h=s=>({left:`${(s-o.value)/(u.value-o.value)*100}%`}),k=s=>{x.value&&c.value.includes(s)&&r("update:modelValue",s)},M=s=>{const a=s.toFixed(2);return parseFloat(a).toString()};return _(()=>d.modelValue,s=>{b.value=s}),_(b,s=>{if(x.value){const a=c.value.reduce((e,f)=>Math.abs(f-s)<Math.abs(e-s)?f:e,c.value[0]);r("update:modelValue",a)}else r("update:modelValue",s)}),(s,a)=>(m(),i("div",{class:g(["slider-wrapper ccb-modern-range-field",{jump:v(t).jump}])},[l("div",D,[l("div",{class:"slider-min-max-item first",onClick:a[0]||(a[0]=e=>k(o.value))},[l("span",E,V(o.value),1)]),l("div",{class:g(["slider-min-max-item",{done:p.value>=u.value}]),onClick:a[1]||(a[1]=e=>k(u.value))},[l("span",I,V(u.value),1)],2)]),B(v(P),{modelValue:p.value,"onUpdate:modelValue":a[2]||(a[2]=e=>p.value=e),min:o.value,max:u.value,step:F.value,disabled:v(t).disabled,"show-tooltip":"focus",class:"custom-slider",format:M},null,8,["modelValue","min","max","step","disabled"]),l("div",J,[(m(),i(y,null,N(25,e=>l("div",{key:e,class:"tick"})),64))]),l("div",L,[a[3]||(a[3]=l("div",{class:"stick-line"},[l("div",{class:"stick-line-item"})],-1)),v(t).scalePoints?(m(!0),i(y,{key:0},N(c.value,e=>(m(),i("div",{key:e,class:"mark",style:q(h(e))},[e!==o.value&&e!==u.value?(m(),i("div",{key:0,class:"label",onClick:f=>k(e)},V(e),9,R)):C("",!0)],4))),128)):C("",!0)])],2))}});export{G as default};
//# sourceMappingURL=Modern-DZIuNF0V.js.map
