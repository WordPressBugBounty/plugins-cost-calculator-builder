import{u as D}from"./useOrderFormDropdown-kiGaG5Uq.js";import{s as M}from"./widget-C9n_9BHI.js";import{u as F}from"./translationsStore-C4wu_Y0X.js";import{d as A,B as L,e as O,f as w,k as W,c as u,o as i,l,u as o,m as p,M as y,I as x,N as E,L as v}from"./runtime-dom.esm-bundler-q8x4SZ5d.js";import"./jquery-C7OTzgKr.js";const P={class:"ccb-dropdown multi-select"},R={key:0,class:"anchor ccb-heading-5 ccb-light-3 ccb-selected"},$=["onClick"],j={key:1,class:"anchor ccb-heading-5 ccb-light ccb-selected"},q={key:2,class:"anchor ccb-heading-5 ccb-light-3"},z={class:"ccb-order-dropdown__list"},G={class:"ccb-default-checkbox"},H=["for"],J=["id","name","checked","value","onChange"],K={class:"ccb-checkbox-label"},ee=A({__name:"MultiSelectDropDown",props:{field:{}},emits:["toggle"],setup(V,{emit:T}){const C=T,_=V,{field:e}=L(_),b=O(null),{toggleBody:m}=D(_,C,b),g=F(),I=a=>{var r;const s=((r=e.value.selectedIdx)==null?void 0:r.filter(t=>t!==a))||[];e.value.selectedIdx=s},n=w(()=>e.value.selectedIdx||[]),S=a=>{var h,f,k;let s=e.value.selectedIdx||[];n.value.includes(a)?s=((h=e.value.selectedIdx)==null?void 0:h.filter(d=>d!==a))||[]:s.push(a);let r=[];const t=((k=(f=e.value)==null?void 0:f.attributes)==null?void 0:k.options)||[];for(let d=0;d<t.length;d++){const N=t[d];s.includes(d)&&r.push(N.optionText||"")}const{updateValue:c}=M();e.value.value=r,c(e.value.id,e.value.value,s)},B=w(()=>Math.random().toString(36).substring(2,15));return W(()=>{var a;Array.isArray((a=e.value)==null?void 0:a.value)&&(e.value.value=e.value.value[0])}),(a,s)=>{var r;return i(),u("div",{class:"ccb-field__input-wrapper",ref_key:"dropdownWrapper",ref:b},[l("div",P,[l("div",{class:"ccb-order-dropdown__input",onClick:s[0]||(s[0]=(...t)=>o(m)&&o(m)(...t))},[s[1]||(s[1]=l("i",{class:"ccb-icon-Path-3485 ccb-select-arrow"},null,-1)),o(e).attributes&&o(e).attributes.options&&n.value.length>0?(i(),u("span",R,[n.value.length&&n.value.length<3?(i(!0),u(y,{key:0},x(n.value,(t,c)=>(i(),u("span",{class:"selected",key:c},[E(v(o(e).attributes.options[t].optionText)+" ",1),l("i",{class:"ccb-icon-close",onClick:h=>I(t)},null,8,$)]))),128)):p("",!0)])):p("",!0),n.value.length>=3?(i(),u("span",j,v(n.value.length)+" "+v(o(g).getTranslations.optionsSelected),1)):p("",!0),n.value.length===0?(i(),u("span",q,v(o(g).getTranslations.selectValues),1)):p("",!0)]),l("div",z,[l("ul",null,[(r=o(e).attributes)!=null&&r.options?(i(!0),u(y,{key:0},x(o(e).attributes.options,(t,c)=>(i(),u("li",{key:c},[l("div",G,[l("label",{for:o(e).id+"order_dropdown_checkbox_"+c},[l("input",{type:"checkbox",id:o(e).id+"order_dropdown_checkbox_"+c,name:B.value,checked:n.value.includes(c),value:t.optionText,onChange:()=>S(c)},null,40,J),l("span",K,v(t.optionText),1)],8,H)])]))),128)):p("",!0)])])])],512)}}});export{ee as default};
//# sourceMappingURL=MultiSelectDropDown-CcxtDsGe.js.map
