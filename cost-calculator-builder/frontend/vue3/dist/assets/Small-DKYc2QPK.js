import{m as J}from"./slider-BPcFTpZU.js";import{a as P,t as O,b as v,l as $,J as h,n as f,g as V,q as t,p as z,v as g,u as n,s as C,F as A,z as B,K as q,A as y}from"./convert-case-to-camel-case.utils-C0gHQHtf.js";const D={class:"slider-min-max"},E={class:"label"},K={class:"label"},L={class:"custom-marks"},R=["onClick"],H=P({__name:"Small",props:{field:{},modelValue:{}},emits:["update:modelValue"],setup(S,{emit:x}){const i=S,{field:s}=O(i),_=v(()=>s.value.jump?1:Number(s.value.step||1)),u=v(()=>Number(s.value.min)),m=v(()=>Number(s.value.max)),p=$(i.modelValue),b=v(()=>s.value.jump),d=x,M=e=>{d("update:modelValue",Array.isArray(e)?e:[e])},j=e=>{const l=e.toFixed(2);return parseFloat(l).toString()},o=v(()=>{var l;return(((l=s.value.scalePoints)==null?void 0:l.trim())||"").split(",").map(a=>Number(a.trim())).filter(a=>!isNaN(a)&&a>=u.value&&a<=m.value)}),w=e=>({left:`${(e-u.value)/(m.value-u.value)*100}%`}),N=e=>{b.value&&d("update:modelValue",[p.value[0],e])},F=e=>{b.value&&o.value.includes(e)&&d("update:modelValue",[e,p.value[1]])};return h(()=>i.modelValue,e=>{p.value=e}),h(p,e=>{if(b.value){const l=o.value.reduce((r,c)=>Math.abs(c-e[0])<Math.abs(r-e[0])?c:r,o.value[0]),a=o.value.reduce((r,c)=>Math.abs(c-e[1])<Math.abs(r-e[1])?c:r,o.value[0]),k=[l,a];JSON.stringify(k)!==JSON.stringify(i.modelValue)&&d("update:modelValue",k)}else JSON.stringify(e)!==JSON.stringify(i.modelValue)&&d("update:modelValue",e)}),(e,l)=>(V(),f("div",{class:y(["slider-wrapper ccb-small-multi-range-field",{jump:n(s).jump}])},[t("div",D,[t("div",{class:"slider-min-max-item first",onClick:l[0]||(l[0]=a=>F(u.value))},[t("span",E,g(u.value),1)]),t("div",{class:"slider-min-max-item",onClick:l[1]||(l[1]=a=>N(m.value))},[t("span",K,g(m.value),1)])]),z(n(J),{style:{margin:"10px 0"},format:j,min:n(s).min,max:n(s).max,step:_.value,disabled:n(s).disabled,modelValue:e.modelValue,"onUpdate:modelValue":M,"show-tooltip":"focus"},null,8,["min","max","step","disabled","modelValue"]),t("div",L,[n(s).scalePoints?(V(!0),f(A,{key:0},B(o.value,a=>(V(),f("div",{key:a,class:"mark",style:q(w(a))},[t("div",{class:y(["tick",{"tick-passed":a>=e.modelValue[0]&&a<=e.modelValue[1]}])},null,2),a!==u.value&&a!==m.value?(V(),f("div",{key:0,class:y(["label",{"label-passed":a<=e.modelValue[0]}]),onClick:k=>N(a)},g(a),11,R)):C("",!0)],4))),128)):C("",!0)])],2))}});export{H as default};
//# sourceMappingURL=Small-DKYc2QPK.js.map
