const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./widget-DZZgQDKu.css","./index-DBfPfU4j.css","./ThankYouPage-CMGrCKP5.css","./WooRedirectCart-vxzERp1D.css","./HeaderTitle-DYYcVWmq.css","./Horizontal-DM5qfvVO.css","./Vertical-ccxFTWkJ.css","./TwoColumns-G2KE9tS3.css","./CircleWithLine-BgWOJHfq.css","./RectangleWithLine-DoRNGAcK.css","./CircleTabs-C70maUVC.css","./RectangleTabs-ByGWsM80.css","./ProgressWithCircle-DIaEPvPe.css","./ProgressWithBar-DhxoKnoi.css","./TotalsList-Df8tLaRJ.css","./SummaryList-BQpaU3kL.css","./TotalItem-CwAxywYi.css","./SummaryItem-6ynN7tzj.css","./RepeaterItem-Dhdf0Hbo.css","./GroupItem-BQf3H_cY.css"])))=>i.map(i=>d[i]);
import{a as x,b as n,e as v,_ as f,f as m,g as i,T as R,w as h,r as D,u as y,J as j,m as T,I as C,q as P,p as u,D as H,M as Q,k as W,n as k,F as B,H as Y}from"./convert-case-to-camel-case.utils-DRsbC-qG.js";import{u as te,a as O,b as G,c as M,d as ve,e as fe,f as ye}from"./widget-DTyF7X6W.js";import{_ as Pe}from"./Wrapper.vue_vue_type_script_setup_true_lang-D_Su8LOM.js";import{u as q}from"./translationsStore-C34buciO.js";import{_ as X,T as he,a as Z}from"./ThankYouPage-COolTCjK.js";const be=x({__name:"Layout",setup(b){const r=te(),a=O(),t=n(()=>{var c,l;return((c=a.getGeneralSettings)==null?void 0:c.layout)==="horizontal-layout"?v(()=>f(()=>import("./Horizontal-99fmhoy_.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)):((l=a.getGeneralSettings)==null?void 0:l.layout)==="vertical-layout"?v(()=>f(()=>import("./Vertical-D_DeYAIA.js"),__vite__mapDeps([0,1,2,3,4,6]),import.meta.url)):v(()=>f(()=>import("./TwoColumns-CVFdnyGY.js"),__vite__mapDeps([0,1,2,3,4,7]),import.meta.url))});return(c,l)=>(i(),m(R,{name:"layout-fade",mode:"out-in"},{default:h(()=>[(i(),m(D(t.value),{key:y(r).getAppearanceBoxStyle},{default:h(()=>[j(c.$slots,"default")]),_:3}))]),_:3}))}}),Te=x({__name:"PaginationItem",setup(b){const a=O().getPageBreakerSettings,t=G(),c=M(),l=q(),p=n(()=>c.getActivePageIndex+1),E=n(()=>{if((a==null?void 0:a.paginationType)==="circle_with_line")return v(()=>f(()=>import("./CircleWithLine-CbCkGVrX.js"),__vite__mapDeps([8]),import.meta.url));if((a==null?void 0:a.paginationType)==="rectangle_steps_with_line")return v(()=>f(()=>import("./RectangleWithLine-DTPne-K2.js"),__vite__mapDeps([9]),import.meta.url));if((a==null?void 0:a.paginationType)==="circle_tabs")return v(()=>f(()=>import("./CircleTabs-BlaRcWN0.js"),__vite__mapDeps([10]),import.meta.url));if((a==null?void 0:a.paginationType)==="rectangle_tabs")return v(()=>f(()=>import("./RectangleTabs-BVLnPt-I.js"),__vite__mapDeps([11]),import.meta.url));if((a==null?void 0:a.paginationType)==="progress_with_circle")return v(()=>f(()=>import("./ProgressWithCircle-B22M6GF7.js"),__vite__mapDeps([12]),import.meta.url));if((a==null?void 0:a.paginationType)==="progress_with_bar")return v(()=>f(()=>import("./ProgressWithBar-MKveDUr0.js"),__vite__mapDeps([13]),import.meta.url))}),$=n(()=>!!(a!=null&&a.hidePaginationTitle)),L=n(()=>t.getCalcTitle),A=n(()=>{let I=c.getPages.map((_,V)=>({id:V+1,title:_.label,label:_.label}));if(a!=null&&a.summaryAfterLastPage){const _=l.getTranslations.summary||"Summary";I.push({id:I.length+1,title:_,label:_})}return I});return(F,I)=>{var _;return i(),T("div",{class:C(["ccb-pagination",(_=y(a))==null?void 0:_.paginationType])},[(i(),m(D(E.value),{pages:A.value,step:p.value,hideTitle:$.value,calcTitle:L.value},null,8,["pages","step","hideTitle","calcTitle"]))],2)}}}),ee=x({__name:"TotalSummaryList",props:{listType:{}},setup(b){const r=b,a=n(()=>r.listType==="total"?v(()=>f(()=>import("./TotalsList-DEx8kGH9.js"),__vite__mapDeps([14]),import.meta.url)):r.listType==="summary"?v(()=>f(()=>import("./SummaryList-B6f_3Gar.js"),__vite__mapDeps([4,0,15]),import.meta.url)):"");return(t,c)=>(i(),m(D(a.value),null,{default:h(()=>[j(t.$slots,"default")]),_:3}))}}),U=x({__name:"TotalSummaryItem",props:{itemType:{},summary:{}},setup(b){const r=b,a=n(()=>r.itemType==="total"?v(()=>f(()=>import("./TotalItem-BdQVre2g.js"),__vite__mapDeps([16]),import.meta.url)):r.itemType==="summary"?v(()=>f(()=>import("./SummaryItem-CO3lIYTR.js"),__vite__mapDeps([17]),import.meta.url)):r.itemType==="repeater"?v(()=>f(()=>import("./RepeaterItem-CbIObANU.js"),__vite__mapDeps([0,1,2,18]),import.meta.url)):r.itemType==="group"?v(()=>f(()=>import("./GroupItem-BEnfj1v1.js"),__vite__mapDeps([0,1,2,19]),import.meta.url)):"");return(t,c)=>(i(),m(D(a.value),{summary:r.summary},{default:h(()=>[j(t.$slots,"default")]),_:3},8,["summary"]))}}),xe=["href"],Ee={class:"ccb-calc-edit__text"},Ae=x({__name:"EditButton",setup(b){const r=O(),a=q(),t=n(()=>r.getEditCalcButton);return(c,l)=>{var p;return t.value?(i(),T("a",{key:0,href:(p=t.value)==null?void 0:p.editCalcUrl,target:"_blank",class:"ccb-calc-edit"},[l[0]||(l[0]=u("span",null,[u("i",{class:"ccb-icon-Path-3483"})],-1)),u("span",Ee,H(y(a).getTranslations.edit),1)],8,xe)):P("",!0)}}}),ke={class:"ccb-page-breaker__content"},Ie={key:0,class:"ccb-page-navigation__formulas"},Se={class:"ccb-page-navigation__totals"},Ce={class:"ccb-page-navigation__popup-action"},Le={class:"ccb-page-popup"},we={class:"ccb-page-popup__header"},$e={class:"ccb-page-popup__title"},Ve={class:"ccb-page-popup__body"},Re={class:"ccb-page-navigation__actions"},De=x({__name:"PageBreaker",setup(b){const r=G(),a=ve(),t=M(),c=O(),l=fe(),p=c.getPageBreakerSettings,E=ye(),$=q(),L=n(()=>c.thankYouPage),A=[],F=n(()=>!(c.hasThankYouPage&&E.notificationType==="finish")),I=n(()=>{var d;const e=L.value,o=e==null?void 0:e.type,s=e==null?void 0:e.enable;if(E.notificationType==="finish"&&c.hasThankYouPage)return((d=L.value)==null?void 0:d.type)==="same_page";if(E.notificationType==="finish"&&s){if(o==="separate_page"&&(e!=null&&e.pageUrl)){let g=e==null?void 0:e.pageUrl;g=g.includes("?")?`${g}&order_id=${l.orderId}`:`${g}?order_id=${l.orderId}`,localStorage.setItem("ccb_previous_page",window.location.href),E.resetNotifications(),window.location.replace(g)}o==="custom_page"&&e.customPageLink&&(E.resetNotifications(),window.open(e.customPageLink,"_blank"))}return!1});Q(F,e=>{var s,d,g;const o=((s=L.value)==null?void 0:s.type)==="modal";e?(g=S.value)==null||g.hidePopup():(r.updateThankYouPageStatus(!o),o&&((d=S.value)==null||d.showPopup()))});const _=n(()=>t.getActivePageIndex),V=W(null),S=W(),ae=()=>{S.value.showPopup()},oe=()=>{S.value.hidePopup()},ne=n(()=>{const e=t.getActivePage;return e?e.previousBtnLabel:$.getTranslations.back}),se=n(()=>t.getActivePage.nextBtnLabel),ie=n(()=>{var e;return((e=p==null?void 0:p.formulas)==null?void 0:e.map(o=>o.alias))||[]}),J=n(()=>p==null?void 0:p.totalInPage),re=n(()=>(p==null?void 0:p.paginationType)!=="hidden"),w=n(()=>p==null?void 0:p.summaryAfterLastPage),le=n(()=>_.value!==0),N=n(()=>t.getPages.length>1),ue=n(()=>{const e=[];for(let o=0;o<=_.value;o++){const s=t.getPages[o];s&&"groupElements"in s&&s!=null&&s.groupElements&&s.groupElements.forEach(d=>{d.fields&&d.fields.forEach(g=>{g.alias.includes("repeater")&&e.push(g.alias),g.alias&&("groupElements"in g&&Array.isArray(g.groupElements)?g.groupElements.forEach(K=>{K.alias&&e.push(K.alias)}):e.push(g.alias))})})}return e}),z=n(()=>t.getActivePage.action),ce=n(()=>{let e=w.value?t.getPages.length:t.getPages.length-1;return _.value!==e}),pe=n(()=>{const e=t.getActivePage;if(!(e!=null&&e.groupElements))return[];const o=Array.from(e.groupElements.values());return t.getFields.filter(s=>o.some(d=>d.alias===s.alias))}),_e=()=>{const e=a.checkPageFieldsConditions();if(t.checkPageRequiredFields(pe.value))if(e){if(z.value==="not_skip")return;if(z.value==="skip"){let o=w.value?t.getPages.length+1:t.getPages.length;const s=_.value+2;s<o&&(A.push(_.value),t.updateActivePageIndex(s))}else if(z.value==="jump_to"){const o=t.getPageIndex(t.getActivePage.pageTo);o!==void 0&&(A.push(_.value),t.updateActivePageIndex(o))}}else{let o=w.value?t.getPages.length+1:t.getPages.length;const s=_.value+1;s<o&&(A.push(_.value),t.updateActivePageIndex(s))}else return},de=n(()=>{const e=t.getPages[_.value];let o=e&&"boxStyle"in e?e.boxStyle:"horizontal";return w.value&&_.value===t.getPages.length&&(o="vertical"),o}),me=()=>{if(A.length>0){const e=A.pop();e!==void 0&&t.updateActivePageIndex(e)}},ge=n(()=>e=>({repeater:"repeater",group:"group",total:"total"})[e.fieldName]||"summary");return Q(_,()=>{const e=V.value;if(e){const o=e.getBoundingClientRect();o.top>=0&&o.bottom<=window.innerHeight||setTimeout(()=>{e.scrollIntoView({behavior:"smooth",block:"start"})},100)}}),(e,o)=>I.value?P("",!0):(i(),T("div",{key:0,class:C(["ccb-page-breaker",[{"summary-last-page":w.value,"ccb-page-breaker-border":N.value},de.value]]),ref_key:"pageBreakerRef",ref:V},[u("div",ke,[re.value&&N.value?(i(),m(Te,{key:0})):P("",!0),k(Ae),k(be),y(r).isProActive?(i(),m(X,{key:1,size:"medium",ref_key:"popup",ref:S},{default:h(()=>[k(y(he))]),_:1},512)):P("",!0),N.value?(i(),T("div",{key:2,class:C(["ccb-page-navigation",{"page-formulas":J.value}])},[J.value?(i(),T("div",Ie,[u("div",Se,[(i(!0),T(B,null,Y(y(t).getTotalsList,s=>(i(),m(R,{name:"fade"},{default:h(()=>[!s.hidden&&ie.value.includes(s.alias)?(i(),m(U,{key:s.alias,"item-type":"total",summary:s},null,8,["summary"])):P("",!0)]),_:2},1024))),256))]),u("div",Ce,[u("span",{onClick:ae},H(y($).getTranslations.showSummary),1),k(X,{ref_key:"popup",ref:S},{default:h(()=>{var s;return[u("div",Le,[u("div",we,[u("div",$e,H((s=y(c).getGeneralSettings)==null?void 0:s.headerTitle),1),u("div",{class:"ccb-page-popup__close",onClick:oe},o[0]||(o[0]=[u("i",{class:"ccb-icon-close"},null,-1)]))]),u("div",Ve,[k(Pe,{wrapper:"subtotal"},{default:h(()=>[k(ee,{"list-type":"summary"},{default:h(()=>[(i(!0),T(B,null,Y(y(t).getSummaryList,d=>(i(),m(R,{key:d.alias,name:"fade"},{default:h(()=>[!d.hidden&&ue.value.includes(d.alias)?(i(),m(U,{key:0,"item-type":ge.value(d),summary:d},null,8,["item-type","summary"])):P("",!0)]),_:2},1024))),128))]),_:1}),k(ee,{"list-type":"total"},{default:h(()=>[(i(!0),T(B,null,Y(y(t).getTotalsList,d=>(i(),m(R,{key:d.alias,name:"fade"},{default:h(()=>[d.hidden?P("",!0):(i(),m(U,{key:0,"item-type":"total",summary:d},null,8,["summary"]))]),_:2},1024))),128))]),_:1})]),_:1})])])]}),_:1},512)])])):P("",!0),u("div",Re,[le.value?(i(),m(Z,{key:0,type:"success-outlined",text:ne.value,onClick:me,icon:"ccb-icon-Arrow-Previous",iconPosition:"before"},null,8,["text"])):P("",!0),ce.value?(i(),m(Z,{key:1,type:"success",text:se.value,onClick:_e,icon:"ccb-icon-Arrow-Previous",iconPosition:"after",class:"next-btn",disabled:y(a).getDisableNextButton},null,8,["text","disabled"])):P("",!0)])],2)):P("",!0)])],2))}}),Oe={class:"ccb-demo-box-styles"},Fe={class:"ccb-box-styles"},Ne=x({__name:"BoxStyles",setup(b){const r=te(),a=n(()=>r.getAppearanceBoxStyle),t=c=>{r.initAppearanceStore({boxStyle:c,descriptionPosition:r.descriptionPosition,loaderType:r.loaderType,accentColor:r.accentColor,svgColor:r.svgColor})};return(c,l)=>(i(),T("div",Oe,[u("div",Fe,[u("div",{class:C(["ccb-box-style-inner",{"ccb-style-active":a.value==="two_columns"}]),onClick:l[0]||(l[0]=p=>t("two_columns"))},l[3]||(l[3]=[u("i",{class:"ccb-icon-Union-27"},null,-1),u("span",null,"Two columns",-1)]),2),u("div",{class:C(["ccb-box-style-inner",{"ccb-style-active":a.value==="vertical"}]),onClick:l[1]||(l[1]=p=>t("vertical"))},l[4]||(l[4]=[u("i",{class:"ccb-icon-Union-26"},null,-1),u("span",null,"Vertical",-1)]),2),u("div",{class:C(["ccb-box-style-inner",{"ccb-style-active":a.value==="horizontal"}]),onClick:l[2]||(l[2]=p=>t("horizontal"))},l[5]||(l[5]=[u("i",{class:"ccb-icon-Union-25"},null,-1),u("span",null,"Horizontal",-1)]),2)])]))}}),ze=x({__name:"Calculator",setup(b){const r=G(),a=M(),t=n(()=>a.getPageBreakEnabled);return(c,l)=>y(r).getIsLive&&!t.value?(i(),m(Ne,{key:0})):t.value?(i(),m(y(De),{key:1})):P("",!0)}}),Ge=Object.freeze(Object.defineProperty({__proto__:null,default:ze},Symbol.toStringTag,{value:"Module"}));export{ee as _,U as a,Ge as i};
//# sourceMappingURL=index-B51h3Q54.js.map
