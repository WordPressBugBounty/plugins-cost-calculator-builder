import{d as O,t as P,k as V,c as f,l as o,o as a,n as i,q as r,b as A,u as t,G as E,s as l,D as h,F as L,z as I,A as C}from"./pinia-Bf90yW2D.js";import{f as N,u as R,n as z,j as M,o as W}from"./widget-6TUkCMta.js";import{_ as j}from"./RequiredHint.vue_vue_type_style_index_0_lang-DK4Jaja3.js";import{u as G}from"./translationsStore-B0jdQEiB.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./jquery-C7OTzgKr.js";const H={class:"ccb-field__label"},J={class:"ccb-field__title"},K={key:0,class:"ccb-field-required-mark"},Q={key:0,class:"ccb-field__descriptions ccb-before"},U={key:0,class:"ccb-field__description"},X={class:"ccb-dropdown"},Y={key:0,class:"ccb-dropdown__label"},Z={key:1,class:"ccb-dropdown__label"},ee={class:"ccb-dropdown__list"},se=["onClick"],te={class:"ccb-dropdown--option-label"},ae={key:0,class:"ccb-dropdown--option-converted"},oe={key:1,class:"ccb-field__descriptions ccb-after"},ie={key:0,class:"ccb-field__description"},le=O({__name:"Dropdown",props:{field:{}},setup(S){const F=S,{field:e}=P(F),u=N(),B=W(),m=R(),x=z(),p=G(),T=M(),d=V(!1),_=V(null),g=()=>{d.value?document.removeEventListener("click",b):document.addEventListener("click",b),d.value=!d.value},b=s=>{_.value&&"contains"in _.value&&!_.value.contains(s.target)&&(d.value=!1,document.removeEventListener("click",b))},w=(s,c=!0)=>{var n;if((s==null?void 0:s.optionValue)!==((n=k.value)==null?void 0:n.optionValue)){let v=0;s!=null&&s.optionValue&&e.value.summaryView!=="show_label_not_calculable"&&(v=+(s==null?void 0:s.optionValue).split("_")[0]||0),e.value.selectedOption=s,e.value.value=v,e.value.displayValue=B.getMultipleOptionsFieldDisplayView(e.value),u.updateField(e.value.alias,e.value),x.applyConditionForField(e.value.alias),u.getPageBreakEnabled&&u.getActivePage.action==="not_skip"&&T.checkPageFieldsConditions()}c&&g()},k=f(()=>e.value.selectedOption),q=f(()=>{var s;return(s=e.value.options)==null?void 0:s.map(c=>({...c}))}),y=f(()=>u.checkFieldRequired(e.value)),D=f(()=>{var s;return((s=e.value)==null?void 0:s.additionalStyles)||""});return(s,c)=>(a(),o("div",{class:C(["ccb-field ccb-dropdown-field",{active:d.value,required:y.value,"ccb-field-disabled":t(e).disabled,[D.value]:!0}])},[i("div",H,[y.value?(a(),A(j,{key:0,text:t(p).getTranslations.requiredField},null,8,["text"])):r("",!0),i("div",J,[E(l(t(e).label),1),t(e).required?(a(),o("span",K,"*")):r("",!0)])]),t(m).getAppearanceDescriptionPosition==="before"?(a(),o("div",Q,[t(e).description?(a(),o("div",U,l(t(e).description),1)):r("",!0)])):r("",!0),i("div",{class:"ccb-field__input-wrapper",ref_key:"dropdownWrapper",ref:_},[i("div",X,[i("div",{class:"ccb-dropdown__input",onClick:g},[k.value?(a(),o("span",Z,l(k.value.optionText),1)):(a(),o("span",Y,l(t(p).getTranslations.selectValue),1)),c[1]||(c[1]=i("span",{class:"ccb-dropdown__icon"},[i("i",{class:"ccb-icon-Path-3485"})],-1))]),i("div",ee,[i("ul",null,[i("li",{onClick:c[0]||(c[0]=h(()=>w(void 0,!0),["prevent"]))},l(t(p).getTranslations.selectValue),1),(a(!0),o(L,null,I(q.value,(n,v)=>(a(),o("li",{key:n.optionValue,onClick:h(()=>w(n),["prevent"]),class:C(["ccb-dropdown--option",{"ccb-option-disabled":t(e).disableOptions.includes(v)}])},[i("span",te,l(n.optionText),1),t(e).showValueInOption?(a(),o("span",ae,l(t(p).getTranslations.price)+": "+l(n.optionConverted),1)):r("",!0)],10,se))),128))])])])],512),t(m).getAppearanceDescriptionPosition==="after"?(a(),o("div",oe,[t(e).description?(a(),o("div",ie,l(t(e).description),1)):r("",!0)])):r("",!0)],2))}}),ve=$(le,[["__scopeId","data-v-eaeb738f"]]);export{ve as default};
//# sourceMappingURL=index-7xCgRtIZ.js.map
