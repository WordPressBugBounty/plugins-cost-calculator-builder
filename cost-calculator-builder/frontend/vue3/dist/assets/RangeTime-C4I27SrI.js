import{Q as g}from"./vue-datepicker-CjkUgv9k.js";/* empty css             */import{m as w}from"./widget-BZ4u_pNQ.js";import{d as F,e as h,k as H,z as P,c as B,o as C,l,a as k,F as D,u as M}from"./runtime-dom.esm-bundler-DVhL8Vyv.js";import"./translationsStore-Crbl8s4V.js";import"./jquery-C7OTzgKr.js";const U={class:"ccb-range-timePicker"},y={class:"ccb-range-timePicker__from"},N={class:"ccb-range-timePicker__to"},z=F({__name:"RangeTime",props:{format:{type:Boolean},minInterval:{},modelValue:{}},emits:["update:modelValue"],setup(V,{emit:b}){var f,v;const I=w(),r=V,T=b,m=t=>{const e=t.match(/(\d+)h/),s=t.match(/(\d+)m/),n=e?parseInt(e[1])*60:0,i=s?parseInt(s[1]):0;return n+i},o=h(((f=r.modelValue)==null?void 0:f.from)||new Date),a=h(((v=r.modelValue)==null?void 0:v.to)||new Date);H(()=>{if(r.minInterval){const t=o.value instanceof Date?{hours:o.value.getHours(),minutes:o.value.getMinutes(),seconds:0}:o.value;p(t)}});const d=t=>{const[e,s]=t.toLowerCase().split(" "),[n,i]=e.split(":").map(Number);let u=n;return s==="pm"&&n!==12?u=n+12:s==="am"&&n===12&&(u=0),{hours:u,minutes:i,seconds:0}};I.add("updateRangeTimePicker",t=>{o.value=d(t.start),a.value=d(t.end)});const c=t=>{const e=new Date;return e.setHours(t.hours),e.setMinutes(t.minutes),e.setSeconds(t.seconds||0),e},p=t=>{o.value=t;const e=c(t);if(r.minInterval){const s=m(r.minInterval);if("hours"in a.value){const i=c(a.value),u=Math.abs(e.getTime()-i.getTime())/1e3/60;if(s<u)return}const n=new Date(e);n.setMinutes(n.getMinutes()+s),a.value={hours:n.getHours(),minutes:n.getMinutes(),seconds:0}}},_=t=>{a.value=t;const e=c(t);if(r.minInterval){const s=m(r.minInterval);if("hours"in o.value){const i=c(o.value),u=(e.getTime()-i.getTime())/1e3/60;if(s<u)return}const n=new Date(e);n.setMinutes(n.getMinutes()-s),o.value={hours:n.getHours(),minutes:n.getMinutes(),seconds:0}}};return P([o,a],t=>{if(!Array.isArray(t))return;const e=t.map(s=>s instanceof Date?{hours:s.getHours(),minutes:s.getMinutes(),seconds:0}:s);T("update:modelValue",e)}),(t,e)=>(C(),B("div",U,[l("div",y,[k(M(g),{modelValue:o.value,"onUpdate:modelValue":[e[0]||(e[0]=s=>o.value=s),p],"time-picker":"","is-24":t.format,"minutes-grid-increment":"5"},{"input-icon":D(()=>e[2]||(e[2]=[l("i",{class:"ccb-icon-timepicker-light-clock"},null,-1)])),_:1},8,["modelValue","is-24"])]),e[4]||(e[4]=l("div",{class:"ccb-range-timePicker__separator"},[l("span",null,"to")],-1)),l("div",N,[k(M(g),{modelValue:a.value,"onUpdate:modelValue":[e[1]||(e[1]=s=>a.value=s),_],"time-picker":"","is-24":t.format,"minutes-grid-increment":"5"},{"input-icon":D(()=>e[3]||(e[3]=[l("i",{class:"ccb-icon-timepicker-light-clock"},null,-1)])),_:1},8,["modelValue","is-24"])])]))}});export{z as default};
//# sourceMappingURL=RangeTime-C4I27SrI.js.map
