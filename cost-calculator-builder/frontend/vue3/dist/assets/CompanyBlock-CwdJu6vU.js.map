{"version":3,"file":"CompanyBlock-CwdJu6vU.js","sources":["../../src/widget/features/pdf-invoice/invoice/components/items/CompanyBlock.vue"],"sourcesContent":["<template>\n  <div class=\"ccb-pdf-layout__item\" :style=\"getBackgroundStyles\">\n    <div\n      class=\"ccb-pdf-layout__item--wrapper company_block\"\n      data-id=\"company_block\"\n    >\n      <span class=\"ccb-pdf-item-title\" :style=\"getTitleStyles\">{{\n        getTitle\n      }}</span>\n      <span class=\"ccb-pdf-item-description\" :style=\"getTextStyles\">{{\n        getDescription\n      }}</span>\n      <span class=\"ccb-pdf-item-info\" style=\"flex-direction: column !important\">\n        <span\n          v-for=\"contact in getContacts\"\n          :key=\"contact.key\"\n          class=\"ccb-pdf-item-info--item\"\n          :style=\"getCustomStyles\"\n          :class=\"contact.key\"\n        >\n          <span class=\"ccb-pdf-item-info--item-label\" :style=\"getTextStyles\"\n            >{{ contact.label }}:</span\n          >\n          <span class=\"ccb-pdf-item-info--item-value\" :style=\"getTextStyles\">{{\n            contact.value\n          }}</span>\n        </span>\n      </span>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { toRefs, defineProps, computed } from \"vue\";\nimport { IPdfSettings } from \"@/widget/shared/types/settings\";\n\ntype Props = {\n  pdf: IPdfSettings;\n  item: {\n    tabs: {\n      design?: {\n        data: {\n          backgroundColor: { data: { status: boolean }; value: string };\n          titleColor: { data: { status: boolean }; value: string };\n          textColor: { data: { status: boolean }; value: string };\n          textAlign: { value: string };\n          titleFontSize?: { value: number };\n          fontSize?: { value: number };\n        };\n      };\n      text: {\n        data: {\n          title: { value: string };\n          description: { value: string };\n        };\n      };\n      contacts?: {\n        data: Record<\n          string,\n          {\n            key: string;\n            data: { status: boolean; label?: string };\n            value: string;\n          }\n        >;\n      };\n    };\n    isBody: boolean;\n  };\n};\n\nconst props = defineProps<Props>();\nconst { pdf, item } = toRefs(props);\n\nconst getBackgroundStyles = computed(() => {\n  const styles: Record<string, string> = {};\n  const documentTabs = pdf.value.document?.tabs;\n\n  if (documentTabs?.body) {\n    const body = documentTabs.body;\n    styles.backgroundColor = body.data?.backgroundColor?.value ?? \"\";\n  }\n\n  if (item.value?.tabs?.design) {\n    const design = item.value.tabs.design;\n    if (design.data.backgroundColor.data.status) {\n      styles.backgroundColor = design.data.backgroundColor.value;\n    } else {\n      styles.backgroundColor = \"transparent\";\n    }\n  }\n\n  return styles;\n});\n\nconst getTitleStyles = computed(() => {\n  const styles: Record<string, string> = {};\n  const documentTabs = pdf.value.document?.tabs;\n\n  if (documentTabs?.body) {\n    const body = documentTabs.body;\n    styles.color = body.data?.titleColor?.value ?? \"\";\n  }\n\n  if (item.value.tabs?.design) {\n    const design = item.value.tabs.design;\n    if (design.data.titleColor.data.status) {\n      styles.color = design.data.titleColor.value;\n    }\n\n    if (design.data.textAlign.value) {\n      styles.textAlign =\n        design.data.textAlign.value === \"justified\"\n          ? \"justify\"\n          : design.data.textAlign.value;\n    }\n\n    if (design.data.titleFontSize?.value) {\n      styles.fontSize = `${design.data.titleFontSize.value}px`;\n    }\n  }\n\n  return styles;\n});\n\nconst getTitle = computed(() => {\n  return item.value.tabs.text.data.title.value;\n});\n\nconst getTextStyles = computed(() => {\n  const styles: Record<string, string> = {};\n  const documentTabs = pdf.value.document?.tabs;\n\n  if (documentTabs?.body && item.value.isBody) {\n    const body = documentTabs.body;\n    styles.color = body.data?.textColor?.value ?? \"\";\n  }\n\n  if (item.value.tabs?.design) {\n    const design = item.value.tabs.design;\n    if (design.data.textColor.data.status) {\n      styles.color = design.data.textColor.value;\n    }\n\n    if (design.data.textAlign.value) {\n      styles.textAlign =\n        design.data.textAlign.value === \"justified\"\n          ? \"justify\"\n          : design.data.textAlign.value;\n    }\n\n    if (design.data.fontSize?.value) {\n      styles.fontSize = `${design.data.fontSize.value}px`;\n    }\n  }\n  return styles;\n});\n\nconst getDescription = computed(() => {\n  return item.value.tabs.text.data.description.value;\n});\n\nconst getContacts = computed(() => {\n  const data = item.value.tabs?.contacts?.data as Record<\n    string,\n    { key: string; data: { status: boolean; label?: string }; value: string }\n  >;\n  return Object.values(data || {})\n    .map((contact) => {\n      if (contact.key === \"description\") return null;\n      return {\n        key: contact.key,\n        status: contact.data.status,\n        label: contact.key !== \"address\" ? contact?.data?.label : contact.value,\n        value:\n          contact.key !== \"address\" ? contact.value : data?.description?.value,\n      };\n    })\n    .filter(\n      (\n        f,\n      ): f is {\n        key: string;\n        status: boolean;\n        label: string | undefined;\n        value: string;\n      } => f !== null && f.status,\n    );\n});\n\nconst getCustomStyles = computed(() => {\n  const store: Record<string, string> = {\n    left: \"flex-start\",\n    right: \"flex-end\",\n    center: \"center\",\n  };\n  const textAlign = getTextStyles.value?.textAlign || \"left\";\n  return {\n    justifyContent: store[textAlign],\n  };\n});\n</script>\n"],"names":["props","__props","pdf","item","toRefs","getBackgroundStyles","computed","styles","documentTabs","_a","body","_c","_b","_e","_d","design","getTitleStyles","getTitle","getTextStyles","getDescription","getContacts","data","contact","f","getCustomStyles","store","textAlign"],"mappings":"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"}