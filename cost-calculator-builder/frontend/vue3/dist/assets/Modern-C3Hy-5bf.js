import{m as O}from"./slider-BPcFTpZU.js";import{a as $,t as z,b as v,l as A,J as N,n as p,g as f,q as t,p as B,v as y,u as n,F as x,z as _,s as h,K as q,A as C}from"./convert-case-to-camel-case.utils-C0gHQHtf.js";const D={class:"slider-min-max"},E={class:"label"},K={class:"label"},L={class:"custom-ticks"},R={class:"custom-marks"},U=["onClick"],I=$({__name:"Modern",props:{field:{},modelValue:{}},emits:["update:modelValue"],setup(S,{emit:M}){const o=S,{field:l}=z(o),j=v(()=>l.value.jump?1:Number(l.value.step||1)),i=v(()=>Number(l.value.min)),d=v(()=>Number(l.value.max)),V=A(o.modelValue),k=v(()=>l.value.jump),m=M,w=e=>{m("update:modelValue",Array.isArray(e)?e:[e])},F=e=>{const s=e.toFixed(2);return parseFloat(s).toString()},u=v(()=>{var s;return(((s=l.value.scalePoints)==null?void 0:s.trim())||"").split(",").map(a=>Number(a.trim())).filter(a=>!isNaN(a)&&a>=i.value&&a<=d.value)}),g=e=>{k.value&&u.value.includes(e)&&m("update:modelValue",[V.value[0],e])},J=e=>({left:`${(e-i.value)/(d.value-i.value)*100}%`}),P=e=>{k.value&&u.value.includes(e)&&m("update:modelValue",[e,V.value[1]])};return N(()=>o.modelValue,e=>{V.value=e}),N(V,e=>{if(k.value){const s=u.value.reduce((r,c)=>Math.abs(c-e[0])<Math.abs(r-e[0])?c:r,u.value[0]),a=u.value.reduce((r,c)=>Math.abs(c-e[1])<Math.abs(r-e[1])?c:r,u.value[0]),b=[s,a];JSON.stringify(b)!==JSON.stringify(o.modelValue)&&m("update:modelValue",b)}else JSON.stringify(e)!==JSON.stringify(o.modelValue)&&m("update:modelValue",e)}),(e,s)=>(f(),p("div",{class:C(["slider-wrapper ccb-modern-multi-range-field",{jump:n(l).jump}])},[t("div",D,[t("div",{class:"slider-min-max-item first",onClick:s[0]||(s[0]=a=>P(i.value))},[t("span",E,y(i.value),1)]),t("div",{class:"slider-min-max-item",onClick:s[1]||(s[1]=a=>g(d.value))},[t("span",K,y(d.value),1)])]),B(n(O),{style:{margin:"10px 0"},format:F,min:n(l).min,max:n(l).max,step:j.value,disabled:n(l).disabled,modelValue:e.modelValue,"onUpdate:modelValue":w,"show-tooltip":"focus"},null,8,["min","max","step","disabled","modelValue"]),t("div",L,[(f(),p(x,null,_(25,a=>t("div",{key:a,class:"tick"})),64))]),t("div",R,[s[2]||(s[2]=t("div",{class:"stick-line"},[t("div",{class:"stick-line-item"})],-1)),n(l).scalePoints?(f(!0),p(x,{key:0},_(u.value,a=>(f(),p("div",{key:a,class:"mark",style:q(J(a))},[a!==i.value&&a!==d.value?(f(),p("div",{key:0,class:C(["label",{"label-passed":a<=e.modelValue[0]}]),onClick:b=>g(a)},y(a),11,U)):h("",!0)],4))),128)):h("",!0)])],2))}});export{I as default};
//# sourceMappingURL=Modern-C3Hy-5bf.js.map
