import{a as B,t as R,l as S,b as d,n as i,g as l,q as r,F as v,z as _,A as T,p as m,v as b,u,w,s as x,f as N,T as I}from"./convert-case-to-camel-case.utils-C0gHQHtf.js";import{b as L}from"./index-0jE_91z9.js";import{_ as g}from"./ThankYouPage-BQZhcTRI.js";import{f as V,r as $}from"./widget-EtDMYrRk.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Wrapper.vue_vue_type_script_setup_true_lang-Co455utD.js";import"./translationsStore-Ca2Pe_Lt.js";import"./jquery-C7OTzgKr.js";const M={class:"ccb-repeater-wrapper"},P=["onClick"],q={class:"ccb-repeater-item--label"},D={class:"ccb-repeater-item--counter"},j={key:0,class:"ccb-repeater-item--body"},G={class:"ccb-repeater-item--fields"},H={class:"ccb-repeater-item--actions"},J={class:"ccb-repeater-actions"},K=B({__name:"Repeater",props:{field:{}},setup(h){const E=h,{field:e}=R(E),f=V(),p=S({}),y=d(()=>s=>Array.from(s.values())),k=s=>{if(confirm("Are you sure to delete the repeated group of elements?")){const a=e.value.groupElements;Array.isArray(a)&&e.value.groupElements.splice(s,1),e.value.groupElements.forEach((n,t)=>Array.from(n.entries()).forEach(([o,c])=>{c.repeaterIdx=t})),f.recalculateTotals()}},C=()=>{if(e.value.repeatCount===e.value.groupElements.length)return;const s=$(),a=new Map,n=e.value.originalElements||[];for(const t of n){const o=s.addField(t,e.value.groupElements.length,e.value.alias);o&&a.set(t.alias,o)}e.value.groupElements.push(a),f.recalculateTotals()},A=d(()=>+e.value.repeatCount===e.value.groupElements.length),F=d(()=>{var s;return((s=e.value)==null?void 0:s.additionalStyles)||""});return(s,a)=>(l(),i("div",M,[(l(!0),i(v,null,_(u(e).groupElements,(n,t)=>(l(),i("div",{class:T(["ccb-repeater-item",{"ccb-collapsed":p.value[t],[F.value]:!0}])},[r("div",{class:"ccb-repeater-item--header",onClick:o=>p.value[t]=!p.value[t]},[a[0]||(a[0]=r("span",{class:"ccb-repeater-item--icon ccb-icon-Path-3514"},null,-1)),r("span",q,b(u(e).label),1),r("span",D,"#"+b(t+1),1)],8,P),m(I,{name:"fade"},{default:w(()=>{var o;return[p.value[t]?x("",!0):(l(),i("div",j,[r("div",G,[(l(!0),i(v,null,_(y.value(n),c=>(l(),N(L,{key:c.alias,name:c.fieldName,field:c},null,8,["name","field"]))),128))]),r("div",H,[m(g,{type:"danger","on-click":()=>k(t),text:u(e).removeButtonLabel,icon:"ccb-icon-Trash-filled","icon-position":"before",disabled:((o=u(e).groupElements)==null?void 0:o.length)===1},null,8,["on-click","text","disabled"])])]))]}),_:2},1024)],2))),256)),r("div",J,[m(g,{type:"success-outlined","on-click":C,text:u(e).addButtonLabel,icon:"ccb-icon-Add-Plus-Circle","icon-position":"before",disabled:A.value},null,8,["text","disabled"])])]))}}),te=z(K,[["__scopeId","data-v-9b9b0592"]]);export{te as default};
//# sourceMappingURL=index-BHBdJnPc.js.map
