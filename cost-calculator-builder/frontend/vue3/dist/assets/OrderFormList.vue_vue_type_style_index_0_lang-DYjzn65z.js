const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./widget-DjdrLe91.css","./RequiredHint-uxu_wpFZ.css","./index-BGrcVZ_9.css","./OrderEmail-CDL72wGN.css","./OrderPhone-DLhTHF1_.css","./OrderTextarea-BeyyFHRz.css","./OrderNumber-C85wQNJC.css","./OrderSpace-DPu2rkSM.css","./OrderRadio-O_dAVVhO.css","./OrderCheckbox-Deqpj7bR.css","./OrderDate-TdMkE5W0.css","./main-CWmBI_q2.css","./index-BjxbVEsn.css"])))=>i.map(i=>d[i]);
import{g as a,d as N,B as J,f as n,h as C,o as i,i as _e,u as g,c as _,E as R,l as v,m as h,w as pe,a1 as fe,N as z,L as U,e as B,k as be,a as O,M as D,I as ge,F as ve,T as ye}from"./runtime-dom.esm-bundler-q8x4SZ5d.js";import{a as K,h as Se,c as Fe,b as xe,e as V,d as W,f as j,s as Te,i as Ee}from"./widget-D6xpv4O_.js";import{c as ke}from"./index-BkAjG_KZ.js";import{_ as c}from"./translationsStore-C4wu_Y0X.js";import{c as he,_ as G}from"./ThankYouPage-DgzQjar6.js";import{_ as Ce}from"./RequiredHint.vue_vue_type_style_index_0_lang-D9F99cWG.js";import{_ as Ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";const we=y=>new DOMParser().parseFromString("<!doctype html><body>"+y,"text/html").body.textContent||"",Ie={name:a(()=>c(()=>import("./OrderName-bwCKhDic.js"),__vite__mapDeps([0,1]),import.meta.url)),dropdown:a(()=>c(()=>import("./index-cb5aZphq.js"),__vite__mapDeps([0,1,2]),import.meta.url)),email:a(()=>c(()=>import("./OrderEmail-Bcm4627U.js"),__vite__mapDeps([0,1,3]),import.meta.url)),phone:a(()=>c(()=>import("./OrderPhone-C-WlMPhJ.js"),__vite__mapDeps([0,1,4]),import.meta.url)),text:a(()=>c(()=>import("./OrderText-DrSv1tMr.js"),__vite__mapDeps([0,1]),import.meta.url)),textarea:a(()=>c(()=>import("./OrderTextarea-B1yHJISH.js"),__vite__mapDeps([0,1,5]),import.meta.url)),"input-textbox":a(()=>c(()=>import("./OrderTextBox-Bd5aj4AZ.js"),__vite__mapDeps([0,1]),import.meta.url)),number:a(()=>c(()=>import("./OrderNumber-CHoRFDOU.js"),__vite__mapDeps([0,1,6]),import.meta.url)),space:a(()=>c(()=>import("./OrderSpace-Btv9uxJQ.js"),__vite__mapDeps([7]),import.meta.url)),radio:a(()=>c(()=>import("./OrderRadio-B1tqQOzQ.js"),__vite__mapDeps([0,1,8]),import.meta.url)),checkbox:a(()=>c(()=>import("./OrderCheckbox-C_hKiuDC.js"),__vite__mapDeps([0,1,9]),import.meta.url)),"formatted-text":a(()=>c(()=>import("./OrderFormattedText-BjHUJACj.js"),[],import.meta.url)),"date-picker":a(()=>c(()=>import("./OrderDate-3k_GHZsI.js"),__vite__mapDeps([0,1,10,11]),import.meta.url)),"time-picker":a(()=>c(()=>import("./index-DS4ZMrYC.js"),__vite__mapDeps([0,1,12,11]),import.meta.url))},Oe=N({__name:"OrderFormItem",props:{name:{},field:{}},setup(y){const l=y,{field:f,name:x}=J(l),u=n(()=>{const p=x.value;return Ie[p]||""});return(p,m)=>(i(),C(_e(u.value),{field:g(f)},null,8,["field"]))}}),De={class:"ccb-order-field__wrapper"},Le={for:"terms_and_conditions"},Pe={class:"ccb-checkbox-label"},Be=["href"],Ve=N({__name:"TermsAndConditions",setup(y){const l=K(),f=n({get(){var t,o;return((o=(t=l.getFormSettings)==null?void 0:t.termsAndConditions)==null?void 0:o.checkbox)||!1},set(t){l.updateTermsValue(t)}}),x=n(()=>{var t,o;return((o=(t=l.getFormSettings)==null?void 0:t.termsAndConditions)==null?void 0:o.text)||""}),u=n(()=>{var t,o;return((o=(t=l.getWarningTexts)==null?void 0:t.formFields)==null?void 0:o.termsAndConditionsField)||"Please, check out our terms and click on the checkbox"}),p=n(()=>l.checkTermsAndConditionsApproved),m=n(()=>{var t,o;return((o=(t=l.getFormSettings)==null?void 0:t.termsAndConditions)==null?void 0:o.linkText)||""}),T=n(()=>{var t,o;return((o=(t=l.getFormSettings)==null?void 0:t.termsAndConditions)==null?void 0:o.link)||""});return(t,o)=>(i(),_("div",{class:R(["ccb-default-checkbox ccb-terms-check",{"ccb-terms-and-conditions-required":p.value}])},[v("div",De,[p.value?(i(),C(Ce,{key:0,text:u.value},null,8,["text"])):h("",!0),v("label",Le,[pe(v("input",{type:"checkbox",id:"terms_and_conditions",name:"terms_and_conditions","onUpdate:modelValue":o[0]||(o[0]=A=>f.value=A),value:!0},null,512),[[fe,f.value]]),v("span",Pe,[z(U(x.value)+" ",1),v("a",{href:T.value,target:"_blank"},[z(U(m.value)+" ",1),o[1]||(o[1]=v("i",{class:"ccb-icon-click-out"},null,-1))],8,Be)])])])],2))}}),Re=Ae(Ve,[["__scopeId","data-v-2bd1d70a"]]),Ne={key:0,class:"ccb-order-form__submit ccb-col-12"},$e=["innerHTML"],Me={key:1,class:"ccb-order-form__submit ccb-col-12"},Je=N({__name:"OrderFormList",props:{payment:{type:Boolean}},setup(y){const l=y,{payment:f}=J(l),{validateOrderFormSettings:x}=Te(),u=Se(),p=Fe(),m=K(),T=xe(),t=B(null),o=B(!1),A=Ee(),Q=n(()=>u.getFormFields),X=n(()=>{var e;return((e=m.getFormSettings)==null?void 0:e.openModalBtnText)||"Make Order"}),Y=n(()=>{var r,s;const e=(r=m.getFormSettings)==null?void 0:r.summaryDisplay;return I.value==="woocommerce"?"Add to cart":e!=null&&e.enable?e.submitBtnText||"View Summary":((s=m.getFormSettings)==null?void 0:s.submitBtnText)||"Submit Order"}),E=B(!1),w=n(()=>T.getIsLive),Z=()=>{if(w.value){E.value=!0,setTimeout(()=>{E.value=!1},5e3);return}(I.value==="woocommerce"||!x())&&p.submissionCreateOrder()},ee=e=>{const r=e.detail.inputs.map(s=>({label:s.name||"",value:s.value.replace(/\n/g," ")||"",attributes:{label:s.name||"",type:s.name||""}}));p.submissionCreateOrder(r)},$=n(()=>{const e=V(),r=W();return f.value?r.isPaymentAfterSubmit&&r.getSubmit?!1:e.showForm:!0}),I=n(()=>V().paymentType),te=n(()=>{var r;if((r=m.getFormSettings)!=null&&r.contactFormId)return!1;const e=W();return!(e.isPaymentAfterSubmit&&e.getSubmit)}),M=n(()=>{const e=j(),r=V();return $.value?!1:r.paymentType&&!e.checkRequiredFields()?!0:!r.paymentType}),oe=()=>{j().checkRequiredFields()&&(u.updateNextButtonStatus(!1),u.updateNextButton(!0),o.value=!0,setTimeout(()=>{ie()}))},re=n(()=>{const r=`ccb_front_template_${T.getCalcId}`,s=window[r];return s&&"cf7_form"in s?s.cf7_form:""}),se=()=>{var s;if(t.value=document.querySelector(`#ccb_app_${T.getCalcId}`),!t.value||((s=t.value)==null?void 0:s.getElementsByClassName("ccb-contact-form7").length)<=0||t.value.getElementsByClassName("ccb-contact-form7")[0].getElementsByTagName("form").length<=0)return;let e=t.value.getElementsByClassName("ccb-contact-form7")[0].getElementsByTagName("form")[0];[...e.getElementsByTagName("p")].forEach(d=>{d.classList.contains("ccb-hidden")&&(d.classList.remove("ccb-hidden"),d.style.display="block")}),e.getElementsByClassName("wpcf7-response-output").length>0&&(e.getElementsByClassName("wpcf7-response-output")[0].innerHTML="")},ne=e=>{var r;e.preventDefault(),!w.value&&o.value&&(ee(e),o.value=!1,((r=e==null?void 0:e.detail)==null?void 0:r.status)==="mail_sent"&&u.updateContactFormDisabled(!0))},ae=()=>{var e,r,s,d,k,S;if((e=m.getFormSettings)!=null&&e.contactFormId){let F=(r=m.getFormSettings)==null?void 0:r.body;const L=(s=t.value)==null?void 0:s.querySelector(".wpcf7-form");if(F.indexOf("[ccb-subtotal]")!==-1){let b=A.parseContactFormDescriptions();F=F.replaceAll("[ccb-subtotal]",b)}const me=(k=(d=m.getFormSettings)==null?void 0:d.formulas)==null?void 0:k.map(b=>b.alias),le=A.parseContactFormTotals(me),ue=/\[ccb-total(?:-\d+)?\]/g;F=F.replaceAll(ue,`${le}
`);const q=L==null?void 0:L.querySelector("textarea");if(q&&(q.value=we(F)),window.wpcf7&&"init"in window.wpcf7){const b=(S=t.value)==null?void 0:S.querySelectorAll(".wpcf7 > form");b==null||b.forEach(P=>{var H;(H=window.wpcf7)==null||H.init(P),w.value&&P.addEventListener("submit",de=>{de.preventDefault(),E.value=!0,setTimeout(()=>{E.value=!1},5e3)})})}}},ce=()=>{document.addEventListener("wpcf7mailsent",ne,!1)},ie=()=>{se(),ce(),ae()};return be(()=>{}),(e,r)=>{var s,d,k;return i(),_("div",{class:R(["ccb-order-form",{"ccb-order-form-legacy":!((s=g(m).getFormSettings)!=null&&s.contactFormId),"is-live-form":!g(u).getNextButtonStatus&&w.value}])},[O(he),g(u).getNextButtonStatus&&I.value!=="woocommerce"?(i(),_("div",Ne,[O(G,{type:"success",text:X.value,"on-click":oe,disabled:M.value},null,8,["text","disabled"])])):(i(),_(D,{key:1},[$.value&&I.value!=="woocommerce"?(i(),_(D,{key:0},[(d=g(m).getFormSettings)!=null&&d.contactFormId?(i(),_("div",{key:0,class:R(["ccb-contact-form7",{"calc-cf7-disabled":g(u).getContactFormDisabled}])},[v("div",{class:"ccb-contact-form7-container",innerHTML:re.value},null,8,$e)],2)):(i(),_(D,{key:1},[(i(!0),_(D,null,ge(Q.value,S=>(i(),C(Oe,{field:S,key:S.id,name:S.type},null,8,["field","name"]))),128)),(k=g(m).getFormSettings)!=null&&k.accessTermsEmail?(i(),C(Re,{key:0})):h("",!0)],64))],64)):h("",!0),te.value?(i(),_("div",Me,[O(G,{type:"success",text:Y.value,"on-click":Z,disabled:M.value},null,8,["text","disabled"])])):h("",!0),O(ye,{name:"fade"},{default:ve(()=>[E.value?(i(),C(ke,{key:0})):h("",!0)]),_:1})],64))],2)}}});export{Je as _};
//# sourceMappingURL=OrderFormList.vue_vue_type_style_index_0_lang-DYjzn65z.js.map
