import{m as L}from"./slider-B_iZvJic.js";import{d as P,e as y,B as $,f as n,k as F,a3 as z,z as C,c as v,o as p,l as u,a as D,L as N,E as f,u as r,m as h,M as E,I as U,P as q}from"./runtime-dom.esm-bundler-B-pJJbN8.js";const I={class:"slider-min-max"},O={class:"label"},R={class:"label"},A={class:"custom-marks"},G=["onClick"],K=P({__name:"Small",props:{field:{},modelValue:{}},emits:["update:modelValue"],setup(w,{emit:M}){const i=w,m=M,_=y(i.modelValue),{field:s}=$(i),b=n({get:()=>i.modelValue,set:a=>m("update:modelValue",a)}),t=n(()=>Number(s.value.min)),o=n(()=>Number(s.value.max)),S=n(()=>s.value.jump?1:Number(s.value.step||1)),g=n(()=>s.value.jump),d=n(()=>{var l;return(((l=s.value.scalePoints)==null?void 0:l.trim())||"").split(",").map(e=>Number(e.trim())).filter(e=>!isNaN(e)&&e>=t.value&&e<=o.value)}),j=a=>({left:`${(a-t.value)/(o.value-t.value)*100}%`}),B=a=>{const l=a.toFixed(2);return parseFloat(l).toString()},k=a=>{g.value&&d.value.includes(a)&&m("update:modelValue",a)};let c,V=y("0");return F(()=>{const a=document.querySelector(`[data-id="${s.value.alias}"] .slider-tooltip`);a&&(c=new MutationObserver(l=>{for(const e of l)e.type==="childList"&&(V.value=a.textContent??"")}),c.observe(a,{childList:!0,subtree:!0,characterData:!0}))}),z(()=>{c&&c.disconnect()}),C(()=>i.modelValue,a=>{_.value=a}),C(_,a=>{if(g.value){const l=d.value.reduce((e,x)=>Math.abs(x-a)<Math.abs(e-a)?x:e,d.value[0]);m("update:modelValue",l)}else m("update:modelValue",a)}),(a,l)=>(p(),v("div",{class:f(["slider-wrapper ccb-small-range-field",{jump:r(s).jump}])},[u("div",I,[u("div",{class:"slider-min-max-item first",onClick:l[0]||(l[0]=e=>k(t.value))},[u("span",O,N(t.value),1)]),u("div",{class:f(["slider-min-max-item",{done:b.value>=o.value}]),onClick:l[1]||(l[1]=e=>k(o.value))},[u("span",R,N(o.value),1)],2)]),D(r(L),{modelValue:b.value,"onUpdate:modelValue":l[2]||(l[2]=e=>b.value=e),min:t.value,max:o.value,step:S.value,disabled:r(s).disabled,"show-tooltip":"focus",class:"custom-slider",marks:!0,format:B},null,8,["modelValue","min","max","step","disabled"]),u("div",A,[r(s).scalePoints?(p(!0),v(E,{key:0},U(d.value,e=>(p(),v("div",{key:e,class:"mark",style:q(j(e))},[u("div",{class:f(["tick",{"tick-passed":e<=Number(r(V))}])},null,2),e!==t.value&&e!==o.value?(p(),v("div",{key:0,class:f(["label",{"label-passed":e<=Number(r(V))}]),onClick:x=>k(e)},N(e),11,G)):h("",!0)],4))),128)):h("",!0)])],2))}});export{K as default};
//# sourceMappingURL=Small-DfDsLh-I.js.map
