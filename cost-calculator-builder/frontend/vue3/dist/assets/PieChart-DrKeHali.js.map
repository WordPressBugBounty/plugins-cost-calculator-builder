{"version":3,"file":"PieChart-DrKeHali.js","sources":["../../src/admin/shared/ui/components/charts/PieChart.vue"],"sourcesContent":["<template>\n  <div class=\"ccb-dashboard-card ccb-dashboard-card-chart ccb-pie-chart\">\n    <Skeleton v-if=\"isLoading\"></Skeleton>\n    <div\n      class=\"ccb-dashboard-card-wrapper\"\n      :class=\"{ 'ccb-is-loading': isLoading }\"\n    >\n      <div class=\"ccb-dashboard-chart-header\">\n        <div class=\"ccb-dashboard-chart-controls\">\n          <span>{{ chart.title }}</span>\n        </div>\n      </div>\n      <div class=\"ccb-dashboard-large-chart ccb-dashboard-large-chart-pie\">\n        <VueApexCharts\n          type=\"pie\"\n          height=\"100%\"\n          :options=\"pieChartOptions\"\n          :series=\"pieChartSeries\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, ref, toRefs } from \"vue\";\nimport VueApexCharts from \"vue3-apexcharts\";\nimport { IChartData } from \"@/admin/shared/types/analytics/api/response.type\";\nimport { useAnalyticsStore } from \"@/admin/store/analytics/useAnalyticsStore\";\nimport { Skeleton } from \"@/admin/shared/ui/components/Skeleton\";\n\ntype Props = {\n  chart: IChartData;\n  page: \"dashboard\" | \"single\";\n};\n\nconst props = defineProps<Props>();\nconst { chart } = toRefs(props);\n\nconst pieLabels = chart.value.categories;\nconst pieData = chart.value.series;\n\nconst pieChartOptions = ref({\n  chart: {\n    type: \"pie\",\n    width: 250,\n  },\n  labels: pieLabels,\n  legend: {\n    show: true,\n    position: \"left\",\n  },\n  dataLabels: {\n    enabled: true,\n    formatter(val: string, opt: any) {\n      const idx = opt.seriesIndex;\n      return `${parseInt(val)}% (${pieData[idx]})`;\n    },\n    style: {\n      fontSize: \"14px\",\n      fontWeight: 500,\n      position: \"center\",\n    },\n  },\n  tooltip: { enabled: true },\n  responsive: [\n    {\n      breakpoint: 1440,\n      options: {\n        chart: {\n          width: 300,\n          position: \"center\",\n        },\n        legend: {\n          position: \"top\",\n        },\n      },\n    },\n  ],\n});\n\nconst pieChartSeries = ref(pieData);\n\nconst isLoading = computed(() => {\n  const store = useAnalyticsStore();\n  return store.isLoading;\n});\n</script>\n\n<style>\n.ccb-pie-chart {\n  .vue-apexcharts {\n    width: 100%;\n    .apexcharts-canvas {\n      width: 100% !important;\n      display: flex;\n      justify-content: center;\n    }\n  }\n}\n</style>\n"],"names":["props","__props","chart","toRefs","pieLabels","pieData","pieChartOptions","ref","val","opt","idx","pieChartSeries","isLoading","computed","useAnalyticsStore"],"mappings":"6pBAoCA,MAAMA,EAAQC,EACR,CAAE,MAAAC,CAAA,EAAUC,EAAOH,CAAK,EAExBI,EAAYF,EAAM,MAAM,WACxBG,EAAUH,EAAM,MAAM,OAEtBI,EAAkBC,EAAI,CAC1B,MAAO,CACL,KAAM,MACN,MAAO,GACT,EACA,OAAQH,EACR,OAAQ,CACN,KAAM,GACN,SAAU,MACZ,EACA,WAAY,CACV,QAAS,GACT,UAAUI,EAAaC,EAAU,CAC/B,MAAMC,EAAMD,EAAI,YAChB,MAAO,GAAG,SAASD,CAAG,CAAC,MAAMH,EAAQK,CAAG,CAAC,GAC3C,EACA,MAAO,CACL,SAAU,OACV,WAAY,IACZ,SAAU,QAAA,CAEd,EACA,QAAS,CAAE,QAAS,EAAK,EACzB,WAAY,CACV,CACE,WAAY,KACZ,QAAS,CACP,MAAO,CACL,MAAO,IACP,SAAU,QACZ,EACA,OAAQ,CACN,SAAU,KAAA,CACZ,CACF,CACF,CACF,CACD,EAEKC,EAAiBJ,EAAIF,CAAO,EAE5BO,EAAYC,EAAS,IACXC,EAAkB,EACnB,SACd"}