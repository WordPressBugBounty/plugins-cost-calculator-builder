const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./default-Dy-u68a0.css","./dots-BHKtFRcU.css","./lazyDots-CPLDdB3Y.css","./segment-DrUyOzkH.css","./spinner-Dr9QTjKa.css","./ThankYouPage-DRgADXtD.css","./index-CJZzUrRS.css"])))=>i.map(i=>d[i]);
import{r as reactive,e as ref,f as computed,d as defineComponent,g as defineAsyncComponent,c as createElementBlock,o as openBlock,h as createBlock,i as resolveDynamicComponent,j as inject,k as onMounted,w as withDirectives,v as vShow,u as unref,l as createBaseVNode,a as createVNode,b as createApp}from"./runtime-dom.esm-bundler-q8x4SZ5d.js";import{d as defineStore,c as convertKeysToCamelCase,_ as __vitePreload,u as useTranslationsStore,a as createPinia}from"./translationsStore-C4wu_Y0X.js";import{g as getDefaultExportFromCjs,$}from"./jquery-C7OTzgKr.js";const useAppStore=defineStore("app",{state:()=>({appLoader:!0,isThankYouPage:!1,calcId:null,title:"",dateFormat:"",submissionLoader:!1,isLive:!1,isProActive:!1}),getters:{getDateFormat:e=>e.dateFormat,getCalcTitle:e=>e.title,getCalcId:e=>e.calcId,getAppLoader:e=>e.appLoader,getThankYoyPageStatus:e=>e.isThankYouPage,getSubmissionLoader:e=>e.submissionLoader,getIsLive:e=>e.isLive,getProStatus:e=>e.isProActive},actions:{setSubmissionLoader(e){this.submissionLoader=e},setDateFormat(e){this.dateFormat=e},setCalcId(e){this.calcId=e},setCalcTitle(e){this.title=e},updateAppLoader(e){this.appLoader=e},updateThankYouPageStatus(e){this.isThankYouPage=e},checkIfLive(){const e=window.location.href,t=["stylemixthemes","stylemixstage"];this.isLive=t.some(r=>e.includes(r))&&!e.includes("/wp/")},setProStatus(e){this.isProActive=e}}}),useAppearanceStore=defineStore("appearance",{state:()=>({boxStyle:"vertical",descriptionPosition:"after",accentColor:"",svgColor:"",loaderType:""}),getters:{getAppearanceBoxStyle:e=>e.boxStyle,getAppearanceDescriptionPosition:e=>e.descriptionPosition,getAppearanceLoaderType:e=>e.loaderType,getAppearanceAccentColor:e=>e.accentColor,getAppearanceSvgColor:e=>e.svgColor},actions:{initAppearanceStore(e){this.boxStyle=e.boxStyle,this.descriptionPosition=e.descriptionPosition,this.loaderType=e.loaderType,this.accentColor=e.accentColor,this.svgColor=e.svgColor}}}),useSettingsStore=defineStore("settings",{state:()=>({general:null,currency:null,thankYouPage:null,stickyCalc:null,formFields:null,warningTexts:null,emailOptions:[],wooProducts:null,wooCheckout:null,paymentGateway:null,pageBreaker:null,notice:null,invoice:null,recaptcha:null,geolocation:null,editCalcButton:null,pdfSettings:null,quoteSettings:null,termsAndConditionsTrigger:!1,summaryDisplayShowSummary:!1}),getters:{getPdfSettings:e=>e.pdfSettings,getQuoteSettings:e=>e.quoteSettings,getPageBreakerSettings:e=>e.pageBreaker,getGeneralSettings:e=>e.general,getCurrencySettings:e=>e.currency,getWooCheckoutSettings:e=>e.wooCheckout,getWooProductsSettings:e=>e.wooProducts,getFormSettings:e=>e.formFields,getWarningTexts:e=>e.warningTexts,getPaymentGateway:e=>e.paymentGateway,getStripePublishKey:e=>{var r,s,a;const t=(a=(s=(r=e.paymentGateway)==null?void 0:r.cards)==null?void 0:s.cardPayments)==null?void 0:a.stripe;return(t==null?void 0:t.publishKey)||""},getStripeSecretKey:e=>{var r,s,a;const t=(a=(s=(r=e.paymentGateway)==null?void 0:r.cards)==null?void 0:s.cardPayments)==null?void 0:a.stripe;return(t==null?void 0:t.secretKey)||""},getRazorpayKeyId:e=>{var r,s,a;const t=(a=(s=(r=e.paymentGateway)==null?void 0:r.cards)==null?void 0:s.cardPayments)==null?void 0:a.razorpay;return(t==null?void 0:t.keyId)||""},getRazorpayPaymentCurrency:e=>{var r,s,a;const t=(a=(s=(r=e.paymentGateway)==null?void 0:r.cards)==null?void 0:s.cardPayments)==null?void 0:a.razorpay;return(t==null?void 0:t.currency)||"usd"},getThankYouPage:e=>e.thankYouPage,getInvoice:e=>e.invoice,getEditCalcButton:e=>e.editCalcButton,hasThankYouPage(e){const t=e.thankYouPage;return(t==null?void 0:t.enable)&&["same_page","modal"].includes(t==null?void 0:t.type)},getTermsAndConditionsStatus(e){var t,r,s;return(t=e.formFields)!=null&&t.accessTermsEmail?!((s=(r=e.formFields)==null?void 0:r.termsAndConditions)!=null&&s.checkbox):!1},checkTermsAndConditionsApproved(e){return e.termsAndConditionsTrigger?this.getTermsAndConditionsStatus:!1},getSummaryDisplayShowSummary(e){return e.summaryDisplayShowSummary}},actions:{initGeolocationSettingsStore(e){const t=convertKeysToCamelCase(e);this.geolocation=t},initPdfSettings(e){const t=convertKeysToCamelCase(e);this.pdfSettings=t},initQuoteSettings(e){const t=convertKeysToCamelCase(e);this.quoteSettings=t},updateTermsValue(e){var t;this.setTermsAndConditionsTrigger(!1),(t=this.formFields)!=null&&t.accessTermsEmail&&(this.formFields.termsAndConditions.checkbox=e)},setTermsAndConditionsTrigger(e){var t;(t=this.formFields)!=null&&t.accessTermsEmail&&(this.termsAndConditionsTrigger=e)},initSettingsStore(e){var r,s,a,n;const t=convertKeysToCamelCase(e);this.general=t.general,this.currency=t.currency,this.thankYouPage=t.thankYouPage,this.stickyCalc=t.stickyCalc,this.formFields=t.formFields,this.warningTexts=t.texts,this.emailOptions=t.emailOptions,this.wooProducts=t.wooProducts,this.wooCheckout=t.wooCheckout,this.paymentGateway=t.paymentGateway,this.pageBreaker=t.pageBreak,this.notice=t.notice,this.invoice=t.invoice,this.editCalcButton=t.editCalcButton,this.recaptcha=t.recaptchaV3,(s=(r=this.formFields)==null?void 0:r.summaryDisplay)!=null&&s.enable&&((n=(a=this.formFields)==null?void 0:a.summaryDisplay)==null?void 0:n.actionAfterSubmit)==="show_summary_block"&&(this.thankYouPage.enable=!1)},setSummaryDisplayShowSummary(e){this.summaryDisplayShowSummary=e}}});function useCurrency(){function e(a){const n=useSettingsStore();return typeof a<"u"&&"fieldCurrencySettings"in a&&(a!=null&&a.fieldCurrency)&&(a!=null&&a.fieldCurrencySettings)?a==null?void 0:a.fieldCurrencySettings:n.getCurrencySettings}function t(a,n){if(typeof n>"u")return a.toString();const o=(n==null?void 0:n.numAfterInteger)||2,l=(n==null?void 0:n.thousandsSeparator)||",",u=(n==null?void 0:n.decimalSeparator)||".",c=(n==null?void 0:n.currency)||"$",d=(n==null?void 0:n.currencyPosition)||"left";let h=Number(a).toFixed(o),[f,m]=h.split(".");f=f.replace(/\B(?=(\d{3})+(?!\d))/g,l);const p=f+(m?u+m:"");return s(p,c,d)}function r(a,n){if(typeof n>"u")return+a;const o=(n==null?void 0:n.numAfterInteger)||2,l=(n==null?void 0:n.thousandsSeparator)||",",u=(n==null?void 0:n.decimalSeparator)||".",c=(n==null?void 0:n.currency)||"$";let d=a.replace(c,"").trim(),h;d.includes(".")&&d.includes(",")?h=d.split(u):d.includes(",")?h=d.split(","):d.includes(".")?h=d.split("."):h=[d],h[0]=h[0].split(l).join("");let f=h.join("."),m=parseFloat(f)||0;if(o!==void 0){let p=Math.pow(10,o);m=Math.round(m*p)/p}return m}function s(a,n,o="left"){switch(o){case"left":return`${n}${a}`;case"right":return`${a}${n}`;case"left_with_space":return`${n} ${a}`;case"right_with_space":return`${a} ${n}`;default:return a}}return{getCurrencyOptions:e,formatCurrency:t,parseCurrencyPosition:s,parseCurrency:r}}function parseCommonFieldSign(e,t,r="right"){return r==="left"?`${t} ${e}`:`${e} ${t}`}function getMultipleOptionsFieldDisplayView(e){var s,a;const t=useCurrency();let r="";if(e)switch(e.summaryView){case"show_value":r=((s=e.value)==null?void 0:s.toString())||"0",(e.useCurrency||e.fieldCurrency)&&(r=t.formatCurrency(+r,t.getCurrencyOptions(e)));break;case"show_label_calculable":case"show_label_not_calculable":if(!Array.isArray(e==null?void 0:e.selectedOption))r="",(a=e==null?void 0:e.selectedOption)!=null&&a.optionText&&(r=e.selectedOption.optionText);else if(Array.isArray(e.selectedOption)){r=[];for(const n of e.selectedOption)r.push(n.optionText)}break}return r||""}function getCommonFieldDisplayView(e,t){var a,n;const r=useCurrency();let s=(a=e.value)==null?void 0:a.toString();if((e.useCurrency||e.fieldCurrency)&&(s=r.formatCurrency(e.value||0,r.getCurrencyOptions(e))),"sign"in e)if(e.multiply){const o=parseCommonFieldSign(t||"",e.sign,e.unitPosition),l=e.useCurrency||e.fieldCurrency?r.formatCurrency(e.unit,r.getCurrencyOptions(e)):parseCommonFieldSign(e.unit.toString(),e.unitSymbol,e.unitPosition);e.extraDisplayView=`${o} x ${l}`}else s=e.useCurrency||e.fieldCurrency?s:parseCommonFieldSign(((n=e.value)==null?void 0:n.toString())||"",e.sign,e.unitPosition);return s||""}function useSingleField(){return{getMultipleOptionsFieldDisplayView,getCommonFieldDisplayView,parseCommonFieldSign}}function createField(e,t,r){var a,n;const s=e.alias.replace(/\_field_id.*/,"");return reactive({id:+e.Id,label:e.label,fieldName:s,alias:e.alias,hidden:e.hidden,hideAndLeaveTotal:!1,required:e.required||!1,isCalculable:e.isCalculable,description:e.description,disabled:!1,additionalStyles:e.additionalStyles,defaultValue:e.defaultValue||e.default||0,displayValue:((a=e.defaultValue)==null?void 0:a.toString())||((n=e.default)==null?void 0:n.toString())||"0",calculateHidden:e.calculateHidden||!1,addToSummary:e.addToSummary,repeaterIdx:t,repeaterAlias:r,fieldCurrencySettings:convertKeysToCamelCase(e.fieldCurrencySettings),fieldCurrency:e.fieldCurrency,useCurrency:e.allowCurrency||!1})}function createQuantityField(e){var o;const t=useSingleField(),r=e.extraLabel?`(${e.extraLabel})`:void 0;let s=0;e.default&&(s=+e.default),Number(e.min)>s&&(s=e.min||0);const a=e.allowRound||!1,n=reactive({...createField(e),value:a?Math.round(s):s,step:Number(e.step)||1,round:a,min:Number(e.min)||0,max:Number(e.max)||100,extraDisplayView:r,placeholder:e.placeholder||"",hideMinMax:!!e.hideMinMax||!1,sign:e.sign||"",multiply:e.multiply||!1,unit:e.unit||1,unitSymbol:e.unitSymbol||"",unitPosition:e.unitPosition||"right",enabledCurrencySettings:e.enabledCurrencySettings||!1});return n.displayValue=t.getCommonFieldDisplayView(n,(o=n.value)==null?void 0:o.toString()),n}function createRangeField(e){var n;const t=useSingleField(),r=e.allowRound||!1;let s=0;e.default&&(s=+e.default);const a=reactive({...createField(e),value:r?Math.round(s):s,step:Number(e.step)||1,round:r,min:Number(e.minValue)||0,max:Number(e.maxValue)||100,extraDisplayView:"",sign:e.sign||"",multiply:e.multiply||!1,unit:e.unit||1,unitSymbol:e.unitSymbol||"",unitPosition:e.unitPosition||"right",multipliedTotal:e.multipliedTotal||!1});return a.displayValue=t.getCommonFieldDisplayView(a,(n=a.value)==null?void 0:n.toString()),a}function createTextField(e){return reactive({...createField(e),numberOfCharacters:e.numberOfCharacters||0,placeholder:e.placeholder||"",displayValue:"",addToSummary:!0})}function createMultiRangeField(e){var l;const t=useSingleField(),r=e.defaultLeft||0,s=e.defaultRight||0;let a=0;s-r>0&&(a=s-r),e.multiply&&(a=a*(e.unit||1));const n=e.allowRound||!1,o=reactive({...createField(e),value:n?Math.round(a):a,step:Number(e.step)||1,round:n,min:Number(e.minValue||0),max:Number(e.maxValue||100),extraDisplayView:"",defaultLeft:r,defaultRight:s,sign:e.sign||"",values:[r,s],multiply:e.multiply||!1,unit:e.unit||1,unitSymbol:e.unitSymbol||"",unitPosition:e.unitPosition||"right",multipliedTotal:e.multipliedTotal||!1});return o.displayValue=t.getCommonFieldDisplayView(o,(l=o.value)==null?void 0:l.toString()),o}function createMultiOptionsField(e){var u,c,d,h,f,m;const t=useCurrency(),r=useSingleField(),s=reactive({...createField(e),options:e.options||[],defaultValue:((u=e.default)==null?void 0:u.toString())||"",summaryView:e.summaryView||"show_value",styles:e.styles,round:e.allowRound||!1,minAllowedOptions:(e==null?void 0:e.minChecked)||0,maxAllowedOptions:(e==null?void 0:e.checkedLength)||((c=e.options)==null?void 0:c.length)||0,disableOptions:[]}),a=e.options.map((p,y)=>{var v,_;const F=((_=(v=p.optionValue)==null?void 0:v.toString())==null?void 0:_.split("_"))[0]||"0",k=s.round?Math.round(Number(F)).toString():F,S=s.useCurrency||s.fieldCurrency?t.formatCurrency(+k,t.getCurrencyOptions(s)):k;return{...p,optionValue:k+"_"+y,optionConverted:S}});s.options=a;let n=[];const o=((h=(d=e==null?void 0:e.default)==null?void 0:d.toString())==null?void 0:h.split(","))||[];o!=null&&o.length&&(n=a.filter(p=>o.includes(p.optionValue))),s.selectedOption=n;let l=0;if(Array.isArray(a)&&s.summaryView!=="show_label_not_calculable")for(const p of n){const g=+((m=(f=p.optionValue)==null?void 0:f.toString())==null?void 0:m.split("_"))[0];isNaN(g)||(l+=g)}return s.value=s.round?Math.round(l):l,s.displayValue=r.getMultipleOptionsFieldDisplayView(s),s}function createSingleOptionField(e){var o,l;const t=useCurrency(),r=useSingleField(),s=reactive({...createField(e),options:e.options||[],summaryView:e.summaryView||"show_value",styles:e.styles,round:e.allowRound||!1,showValueInOption:e.showValueInOption||!1,disableOptions:[]}),a=e.options.map((u,c)=>{var y,g;const h=((g=(y=u.optionValue)==null?void 0:y.toString())==null?void 0:g.split("_"))[0]||"0",f=s.round?Math.round(Number(h)).toString():h,m=f+"_"+c,p=s.useCurrency?t.formatCurrency(+f,t.getCurrencyOptions(s)):f;return{...u,optionValue:m,optionConverted:p}});s.options=a,s.selectedOption=a.find(u=>u.optionValue===e.default);let n=0;return(o=s.selectedOption)!=null&&o.optionValue&&s.summaryView!=="show_label_not_calculable"&&(n=+((l=s.selectedOption)==null?void 0:l.optionValue).split("_")[0]||0),s.value=s.round?Math.round(n):n,s.displayValue=r.getMultipleOptionsFieldDisplayView(s),s}function createDividerField(e){return reactive({...createField(e),size:e.size||"",len:e.len||"",style:e.style||""})}function createHtmlField(e){return reactive({...createField(e),htmlContent:e.htmlContent||""})}function createFileUploadField(e){const t=useSingleField(),r=reactive({...createField(e),fileFormats:e.fileFormats||[],maxFileSize:Number(e.maxFileSize||0),maxAttachedFiles:Number(e.maxAttachedFiles||0),calculatePerEach:e.calculatePerEach||!1,allowPrice:e.allowPrice||!1,price:Number(e.price||0),uploadFromUrl:e.uploadFromUrl||!1});return r.displayValue=t.getCommonFieldDisplayView(r),r}function createGeolocationField(e){const t=useSingleField(),r=reactive({...createField(e),type:e.type||"",costDistance:e.costDistance||!1,distanceCostList:e.distanceCostList||[],distanceCostOptions:e.distanceCostOptions||[],eachCost:e.eachCost||0,geoType:e.geoType||"userLocation",lastDistanceCost:e.lastDistanceCost||{},measure:e.measure||"",multiplyLocations:e.multiplyLocations||[],pricingType:e.pricingType||"each",selectedPoint:e.selectedPoint||{},userAddress:e.userAddress||"",userLocation:e.userLocation||[],extraDisplayView:[],userSelectedOptions:e.userSelectedOptions||[]});return r.displayValue=t.getCommonFieldDisplayView(r),r}function createDatePickerField(e){var t;return reactive({...createField(e),styles:e.styles,placeholder:e.placeholder||"",isHaveUnselectable:e.isHaveUnselectable||!1,notAllowedWeekDays:e.notAllowedWeekDays||[],notAllowedDates:e.notAllowedDates,daysFromCurrent:Number(e.daysFromCurrent||0),dayPrice:Number(e.dayPrice||0),dayPriceEnabled:e.dayPriceEnabled||!1,autoCloseEnabled:e.autocloseEnabled||!1,calculateUnselectableDays:e.calculateUnselectableDays||!1,range:((t=e.range)==null?void 0:t.toString())==="0"?!1:e.range||!1,selectedDate:null,displayValue:""})}function createTimePickerField(e){return reactive({...createField(e),styles:e.styles,useInterval:e.useInterval||!1,format:e.format||!1,placeholderHours:e.placeholderHours||"",placeholderTime:e.placeholderTime||"",range:e.range||!1,displayValue:"",minInterval:e.minInterval||""})}function createFormulaField(e){return reactive({...createField(e),formula:e.costCalcFormula||"0",originalFormula:""})}function createRepeaterField(e){const t=useFields(),r=new Map,s=e.groupElements||[];for(const o of s){const l=t.addField(o,0,e.alias);l&&r.set(o.alias,l)}const a=e.enableFormula||!1,n=!e.enableFormula&&(e==null?void 0:e.sumAllAvailable)||!1;return reactive({...createField(e),originalElements:e.groupElements||[],groupElements:[r],sumAllAvailable:n,enableFormula:a,repeatCount:e.repeatCount||1,formula:e.costCalcFormula||"0",originalFormula:"",addButtonLabel:e.addButtonLabel||"",removeButtonLabel:e.removeButtonLabel||""})}function createGroupField(e){const t=useFields(),r=new Map,s=e.groupElements||[];for(const a of s){const n=t.addField(a,0,e.alias);n&&r.set(a.alias,n)}return reactive({...createField(e),groupElements:[r],collapse:e.collapse||!1,collapsible:e.collapsible||!1,icon:e.icon||"",showTitle:e.showTitle||!1})}function createValidatedFormField(e){var t;return reactive({...createField(e),fieldType:e.fieldType||"email",placeholder:e.placeholder||"",displayValue:((t=e.default)==null?void 0:t.toString())||""})}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var hookCallback;function hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(e){hookCallback=e}function isArray(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function isObject(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function hasOwnProp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function isObjectEmpty(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(hasOwnProp(e,t))return!1;return!0}function isUndefined(e){return e===void 0}function isNumber(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function isDate(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function map(e,t){var r=[],s,a=e.length;for(s=0;s<a;++s)r.push(t(e[s],s));return r}function extend(e,t){for(var r in t)hasOwnProp(t,r)&&(e[r]=t[r]);return hasOwnProp(t,"toString")&&(e.toString=t.toString),hasOwnProp(t,"valueOf")&&(e.valueOf=t.valueOf),e}function createUTC(e,t,r,s){return createLocalOrUTC(e,t,r,s,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function getParsingFlags(e){return e._pf==null&&(e._pf=defaultParsingFlags()),e._pf}var some;Array.prototype.some?some=Array.prototype.some:some=function(e){var t=Object(this),r=t.length>>>0,s;for(s=0;s<r;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};function isValid(e){var t=null,r=!1,s=e._d&&!isNaN(e._d.getTime());if(s&&(t=getParsingFlags(e),r=some.call(t.parsedDateParts,function(a){return a!=null}),s=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(s=s&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=s;else return s;return e._isValid}function createInvalid(e){var t=createUTC(NaN);return e!=null?extend(getParsingFlags(t),e):getParsingFlags(t).userInvalidated=!0,t}var momentProperties=hooks.momentProperties=[],updateInProgress=!1;function copyConfig(e,t){var r,s,a,n=momentProperties.length;if(isUndefined(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),isUndefined(t._i)||(e._i=t._i),isUndefined(t._f)||(e._f=t._f),isUndefined(t._l)||(e._l=t._l),isUndefined(t._strict)||(e._strict=t._strict),isUndefined(t._tzm)||(e._tzm=t._tzm),isUndefined(t._isUTC)||(e._isUTC=t._isUTC),isUndefined(t._offset)||(e._offset=t._offset),isUndefined(t._pf)||(e._pf=getParsingFlags(t)),isUndefined(t._locale)||(e._locale=t._locale),n>0)for(r=0;r<n;r++)s=momentProperties[r],a=t[s],isUndefined(a)||(e[s]=a);return e}function Moment(e){copyConfig(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),updateInProgress===!1&&(updateInProgress=!0,hooks.updateOffset(this),updateInProgress=!1)}function isMoment(e){return e instanceof Moment||e!=null&&e._isAMomentObject!=null}function warn(e){hooks.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function deprecate(e,t){var r=!0;return extend(function(){if(hooks.deprecationHandler!=null&&hooks.deprecationHandler(null,e),r){var s=[],a,n,o,l=arguments.length;for(n=0;n<l;n++){if(a="",typeof arguments[n]=="object"){a+=`
[`+n+"] ";for(o in arguments[0])hasOwnProp(arguments[0],o)&&(a+=o+": "+arguments[0][o]+", ");a=a.slice(0,-2)}else a=arguments[n];s.push(a)}warn(e+`
Arguments: `+Array.prototype.slice.call(s).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var deprecations={};function deprecateSimple(e,t){hooks.deprecationHandler!=null&&hooks.deprecationHandler(e,t),deprecations[e]||(warn(t),deprecations[e]=!0)}hooks.suppressDeprecationWarnings=!1;hooks.deprecationHandler=null;function isFunction(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function set(e){var t,r;for(r in e)hasOwnProp(e,r)&&(t=e[r],isFunction(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mergeConfigs(e,t){var r=extend({},e),s;for(s in t)hasOwnProp(t,s)&&(isObject(e[s])&&isObject(t[s])?(r[s]={},extend(r[s],e[s]),extend(r[s],t[s])):t[s]!=null?r[s]=t[s]:delete r[s]);for(s in e)hasOwnProp(e,s)&&!hasOwnProp(t,s)&&isObject(e[s])&&(r[s]=extend({},r[s]));return r}function Locale(e){e!=null&&this.set(e)}var keys;Object.keys?keys=Object.keys:keys=function(e){var t,r=[];for(t in e)hasOwnProp(e,t)&&r.push(t);return r};var defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function calendar(e,t,r){var s=this._calendar[e]||this._calendar.sameElse;return isFunction(s)?s.call(t,r):s}function zeroFill(e,t,r){var s=""+Math.abs(e),a=t-s.length,n=e>=0;return(n?r?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+s}var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={};function addFormatToken(e,t,r,s){var a=s;typeof s=="string"&&(a=function(){return this[s]()}),e&&(formatTokenFunctions[e]=a),t&&(formatTokenFunctions[t[0]]=function(){return zeroFill(a.apply(this,arguments),t[1],t[2])}),r&&(formatTokenFunctions[r]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function removeFormattingTokens(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function makeFormatFunction(e){var t=e.match(formattingTokens),r,s;for(r=0,s=t.length;r<s;r++)formatTokenFunctions[t[r]]?t[r]=formatTokenFunctions[t[r]]:t[r]=removeFormattingTokens(t[r]);return function(a){var n="",o;for(o=0;o<s;o++)n+=isFunction(t[o])?t[o].call(a,e):t[o];return n}}function formatMoment(e,t){return e.isValid()?(t=expandFormat(t,e.localeData()),formatFunctions[t]=formatFunctions[t]||makeFormatFunction(t),formatFunctions[t](e)):e.localeData().invalidDate()}function expandFormat(e,t){var r=5;function s(a){return t.longDateFormat(a)||a}for(localFormattingTokens.lastIndex=0;r>=0&&localFormattingTokens.test(e);)e=e.replace(localFormattingTokens,s),localFormattingTokens.lastIndex=0,r-=1;return e}var defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function longDateFormat(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(formattingTokens).map(function(s){return s==="MMMM"||s==="MM"||s==="DD"||s==="dddd"?s.slice(1):s}).join(""),this._longDateFormat[e])}var defaultInvalidDate="Invalid date";function invalidDate(){return this._invalidDate}var defaultOrdinal="%d",defaultDayOfMonthOrdinalParse=/\d{1,2}/;function ordinal(e){return this._ordinal.replace("%d",e)}var defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function relativeTime(e,t,r,s){var a=this._relativeTime[r];return isFunction(a)?a(e,t,r,s):a.replace(/%d/i,e)}function pastFuture(e,t){var r=this._relativeTime[e>0?"future":"past"];return isFunction(r)?r(t):r.replace(/%s/i,t)}var aliases={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function normalizeUnits(e){return typeof e=="string"?aliases[e]||aliases[e.toLowerCase()]:void 0}function normalizeObjectUnits(e){var t={},r,s;for(s in e)hasOwnProp(e,s)&&(r=normalizeUnits(s),r&&(t[r]=e[s]));return t}var priorities={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function getPrioritizedUnits(e){var t=[],r;for(r in e)hasOwnProp(e,r)&&t.push({unit:r,priority:priorities[r]});return t.sort(function(s,a){return s.priority-a.priority}),t}var match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,match1to2NoLeadingZero=/^[1-9]\d?/,match1to2HasZero=/^([1-9]\d|\d)/,regexes;regexes={};function addRegexToken(e,t,r){regexes[e]=isFunction(t)?t:function(s,a){return s&&r?r:t}}function getParseRegexForToken(e,t){return hasOwnProp(regexes,e)?regexes[e](t._strict,t._locale):new RegExp(unescapeFormat(e))}function unescapeFormat(e){return regexEscape(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,s,a,n){return r||s||a||n}))}function regexEscape(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function absFloor(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function toInt(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=absFloor(t)),r}var tokens={};function addParseToken(e,t){var r,s=t,a;for(typeof e=="string"&&(e=[e]),isNumber(t)&&(s=function(n,o){o[t]=toInt(n)}),a=e.length,r=0;r<a;r++)tokens[e[r]]=s}function addWeekParseToken(e,t){addParseToken(e,function(r,s,a,n){a._w=a._w||{},t(r,a._w,a,n)})}function addTimeToArrayFromToken(e,t,r){t!=null&&hasOwnProp(tokens,e)&&tokens[e](t,r._a,r,e)}function isLeapYear(e){return e%4===0&&e%100!==0||e%400===0}var YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8;addFormatToken("Y",0,0,function(){var e=this.year();return e<=9999?zeroFill(e,4):"+"+e});addFormatToken(0,["YY",2],0,function(){return this.year()%100});addFormatToken(0,["YYYY",4],0,"year");addFormatToken(0,["YYYYY",5],0,"year");addFormatToken(0,["YYYYYY",6,!0],0,"year");addRegexToken("Y",matchSigned);addRegexToken("YY",match1to2,match2);addRegexToken("YYYY",match1to4,match4);addRegexToken("YYYYY",match1to6,match6);addRegexToken("YYYYYY",match1to6,match6);addParseToken(["YYYYY","YYYYYY"],YEAR);addParseToken("YYYY",function(e,t){t[YEAR]=e.length===2?hooks.parseTwoDigitYear(e):toInt(e)});addParseToken("YY",function(e,t){t[YEAR]=hooks.parseTwoDigitYear(e)});addParseToken("Y",function(e,t){t[YEAR]=parseInt(e,10)});function daysInYear(e){return isLeapYear(e)?366:365}hooks.parseTwoDigitYear=function(e){return toInt(e)+(toInt(e)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!0);function getIsLeapYear(){return isLeapYear(this.year())}function makeGetSet(e,t){return function(r){return r!=null?(set$1(this,e,r),hooks.updateOffset(this,t),this):get(this,e)}}function get(e,t){if(!e.isValid())return NaN;var r=e._d,s=e._isUTC;switch(t){case"Milliseconds":return s?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return s?r.getUTCSeconds():r.getSeconds();case"Minutes":return s?r.getUTCMinutes():r.getMinutes();case"Hours":return s?r.getUTCHours():r.getHours();case"Date":return s?r.getUTCDate():r.getDate();case"Day":return s?r.getUTCDay():r.getDay();case"Month":return s?r.getUTCMonth():r.getMonth();case"FullYear":return s?r.getUTCFullYear():r.getFullYear();default:return NaN}}function set$1(e,t,r){var s,a,n,o,l;if(!(!e.isValid()||isNaN(r))){switch(s=e._d,a=e._isUTC,t){case"Milliseconds":return void(a?s.setUTCMilliseconds(r):s.setMilliseconds(r));case"Seconds":return void(a?s.setUTCSeconds(r):s.setSeconds(r));case"Minutes":return void(a?s.setUTCMinutes(r):s.setMinutes(r));case"Hours":return void(a?s.setUTCHours(r):s.setHours(r));case"Date":return void(a?s.setUTCDate(r):s.setDate(r));case"FullYear":break;default:return}n=r,o=e.month(),l=e.date(),l=l===29&&o===1&&!isLeapYear(n)?28:l,a?s.setUTCFullYear(n,o,l):s.setFullYear(n,o,l)}}function stringGet(e){return e=normalizeUnits(e),isFunction(this[e])?this[e]():this}function stringSet(e,t){if(typeof e=="object"){e=normalizeObjectUnits(e);var r=getPrioritizedUnits(e),s,a=r.length;for(s=0;s<a;s++)this[r[s].unit](e[r[s].unit])}else if(e=normalizeUnits(e),isFunction(this[e]))return this[e](t);return this}function mod(e,t){return(e%t+t)%t}var indexOf;Array.prototype.indexOf?indexOf=Array.prototype.indexOf:indexOf=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function daysInMonth(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=mod(t,12);return e+=(t-r)/12,r===1?isLeapYear(e)?29:28:31-r%7%2}addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1});addFormatToken("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});addFormatToken("MMMM",0,0,function(e){return this.localeData().months(this,e)});addRegexToken("M",match1to2,match1to2NoLeadingZero);addRegexToken("MM",match1to2,match2);addRegexToken("MMM",function(e,t){return t.monthsShortRegex(e)});addRegexToken("MMMM",function(e,t){return t.monthsRegex(e)});addParseToken(["M","MM"],function(e,t){t[MONTH]=toInt(e)-1});addParseToken(["MMM","MMMM"],function(e,t,r,s){var a=r._locale.monthsParse(e,s,r._strict);a!=null?t[MONTH]=a:getParsingFlags(r).invalidMonth=e});var defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,defaultMonthsShortRegex=matchWord,defaultMonthsRegex=matchWord;function localeMonths(e,t){return e?isArray(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(t)?"format":"standalone"][e.month()]:isArray(this._months)?this._months:this._months.standalone}function localeMonthsShort(e,t){return e?isArray(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(t)?"format":"standalone"][e.month()]:isArray(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function handleStrictParse(e,t,r){var s,a,n,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)n=createUTC([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(n,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(n,"").toLocaleLowerCase();return r?t==="MMM"?(a=indexOf.call(this._shortMonthsParse,o),a!==-1?a:null):(a=indexOf.call(this._longMonthsParse,o),a!==-1?a:null):t==="MMM"?(a=indexOf.call(this._shortMonthsParse,o),a!==-1?a:(a=indexOf.call(this._longMonthsParse,o),a!==-1?a:null)):(a=indexOf.call(this._longMonthsParse,o),a!==-1?a:(a=indexOf.call(this._shortMonthsParse,o),a!==-1?a:null))}function localeMonthsParse(e,t,r){var s,a,n;if(this._monthsParseExact)return handleStrictParse.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(a=createUTC([2e3,s]),r&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),!r&&!this._monthsParse[s]&&(n="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[s]=new RegExp(n.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[s].test(e))return s;if(r&&t==="MMM"&&this._shortMonthsParse[s].test(e))return s;if(!r&&this._monthsParse[s].test(e))return s}}function setMonth(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=toInt(t);else if(t=e.localeData().monthsParse(t),!isNumber(t))return e}var r=t,s=e.date();return s=s<29?s:Math.min(s,daysInMonth(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,s):e._d.setMonth(r,s),e}function getSetMonth(e){return e!=null?(setMonth(this,e),hooks.updateOffset(this,!0),this):get(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(e){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=defaultMonthsShortRegex),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function monthsRegex(e){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),e?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=defaultMonthsRegex),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function computeMonthsParse(){function e(u,c){return c.length-u.length}var t=[],r=[],s=[],a,n,o,l;for(a=0;a<12;a++)n=createUTC([2e3,a]),o=regexEscape(this.monthsShort(n,"")),l=regexEscape(this.months(n,"")),t.push(o),r.push(l),s.push(l),s.push(o);t.sort(e),r.sort(e),s.sort(e),this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function createDate(e,t,r,s,a,n,o){var l;return e<100&&e>=0?(l=new Date(e+400,t,r,s,a,n,o),isFinite(l.getFullYear())&&l.setFullYear(e)):l=new Date(e,t,r,s,a,n,o),l}function createUTCDate(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function firstWeekOffset(e,t,r){var s=7+t-r,a=(7+createUTCDate(e,0,s).getUTCDay()-t)%7;return-a+s-1}function dayOfYearFromWeeks(e,t,r,s,a){var n=(7+r-s)%7,o=firstWeekOffset(e,s,a),l=1+7*(t-1)+n+o,u,c;return l<=0?(u=e-1,c=daysInYear(u)+l):l>daysInYear(e)?(u=e+1,c=l-daysInYear(e)):(u=e,c=l),{year:u,dayOfYear:c}}function weekOfYear(e,t,r){var s=firstWeekOffset(e.year(),t,r),a=Math.floor((e.dayOfYear()-s-1)/7)+1,n,o;return a<1?(o=e.year()-1,n=a+weeksInYear(o,t,r)):a>weeksInYear(e.year(),t,r)?(n=a-weeksInYear(e.year(),t,r),o=e.year()+1):(o=e.year(),n=a),{week:n,year:o}}function weeksInYear(e,t,r){var s=firstWeekOffset(e,t,r),a=firstWeekOffset(e+1,t,r);return(daysInYear(e)-s+a)/7}addFormatToken("w",["ww",2],"wo","week");addFormatToken("W",["WW",2],"Wo","isoWeek");addRegexToken("w",match1to2,match1to2NoLeadingZero);addRegexToken("ww",match1to2,match2);addRegexToken("W",match1to2,match1to2NoLeadingZero);addRegexToken("WW",match1to2,match2);addWeekParseToken(["w","ww","W","WW"],function(e,t,r,s){t[s.substr(0,1)]=toInt(e)});function localeWeek(e){return weekOfYear(e,this._week.dow,this._week.doy).week}var defaultLocaleWeek={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function getSetISOWeek(e){var t=weekOfYear(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}addFormatToken("d",0,"do","day");addFormatToken("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});addFormatToken("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});addFormatToken("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});addFormatToken("e",0,0,"weekday");addFormatToken("E",0,0,"isoWeekday");addRegexToken("d",match1to2);addRegexToken("e",match1to2);addRegexToken("E",match1to2);addRegexToken("dd",function(e,t){return t.weekdaysMinRegex(e)});addRegexToken("ddd",function(e,t){return t.weekdaysShortRegex(e)});addRegexToken("dddd",function(e,t){return t.weekdaysRegex(e)});addWeekParseToken(["dd","ddd","dddd"],function(e,t,r,s){var a=r._locale.weekdaysParse(e,s,r._strict);a!=null?t.d=a:getParsingFlags(r).invalidWeekday=e});addWeekParseToken(["d","e","E"],function(e,t,r,s){t[s]=toInt(e)});function parseWeekday(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function parseIsoWeekday(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function shiftWeekdays(e,t){return e.slice(t,7).concat(e.slice(0,t))}var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),defaultWeekdaysRegex=matchWord,defaultWeekdaysShortRegex=matchWord,defaultWeekdaysMinRegex=matchWord;function localeWeekdays(e,t){var r=isArray(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?shiftWeekdays(r,this._week.dow):e?r[e.day()]:r}function localeWeekdaysShort(e){return e===!0?shiftWeekdays(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function localeWeekdaysMin(e){return e===!0?shiftWeekdays(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function handleStrictParse$1(e,t,r){var s,a,n,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)n=createUTC([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(n,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(n,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(n,"").toLocaleLowerCase();return r?t==="dddd"?(a=indexOf.call(this._weekdaysParse,o),a!==-1?a:null):t==="ddd"?(a=indexOf.call(this._shortWeekdaysParse,o),a!==-1?a:null):(a=indexOf.call(this._minWeekdaysParse,o),a!==-1?a:null):t==="dddd"?(a=indexOf.call(this._weekdaysParse,o),a!==-1||(a=indexOf.call(this._shortWeekdaysParse,o),a!==-1)?a:(a=indexOf.call(this._minWeekdaysParse,o),a!==-1?a:null)):t==="ddd"?(a=indexOf.call(this._shortWeekdaysParse,o),a!==-1||(a=indexOf.call(this._weekdaysParse,o),a!==-1)?a:(a=indexOf.call(this._minWeekdaysParse,o),a!==-1?a:null)):(a=indexOf.call(this._minWeekdaysParse,o),a!==-1||(a=indexOf.call(this._weekdaysParse,o),a!==-1)?a:(a=indexOf.call(this._shortWeekdaysParse,o),a!==-1?a:null))}function localeWeekdaysParse(e,t,r){var s,a,n;if(this._weekdaysParseExact)return handleStrictParse$1.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(a=createUTC([2e3,1]).day(s),r&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(n="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[s]=new RegExp(n.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[s].test(e))return s;if(r&&t==="ddd"&&this._shortWeekdaysParse[s].test(e))return s;if(r&&t==="dd"&&this._minWeekdaysParse[s].test(e))return s;if(!r&&this._weekdaysParse[s].test(e))return s}}function getSetDayOfWeek(e){if(!this.isValid())return e!=null?this:NaN;var t=get(this,"Day");return e!=null?(e=parseWeekday(e,this.localeData()),this.add(e-t,"d")):t}function getSetLocaleDayOfWeek(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function getSetISODayOfWeek(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=parseIsoWeekday(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function weekdaysRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=defaultWeekdaysRegex),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function weekdaysShortRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=defaultWeekdaysShortRegex),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function weekdaysMinRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=defaultWeekdaysMinRegex),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function computeWeekdaysParse(){function e(d,h){return h.length-d.length}var t=[],r=[],s=[],a=[],n,o,l,u,c;for(n=0;n<7;n++)o=createUTC([2e3,1]).day(n),l=regexEscape(this.weekdaysMin(o,"")),u=regexEscape(this.weekdaysShort(o,"")),c=regexEscape(this.weekdays(o,"")),t.push(l),r.push(u),s.push(c),a.push(l),a.push(u),a.push(c);t.sort(e),r.sort(e),s.sort(e),a.sort(e),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}addFormatToken("H",["HH",2],0,"hour");addFormatToken("h",["hh",2],0,hFormat);addFormatToken("k",["kk",2],0,kFormat);addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)});addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)});addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});function meridiem(e,t){addFormatToken(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}meridiem("a",!0);meridiem("A",!1);function matchMeridiem(e,t){return t._meridiemParse}addRegexToken("a",matchMeridiem);addRegexToken("A",matchMeridiem);addRegexToken("H",match1to2,match1to2HasZero);addRegexToken("h",match1to2,match1to2NoLeadingZero);addRegexToken("k",match1to2,match1to2NoLeadingZero);addRegexToken("HH",match1to2,match2);addRegexToken("hh",match1to2,match2);addRegexToken("kk",match1to2,match2);addRegexToken("hmm",match3to4);addRegexToken("hmmss",match5to6);addRegexToken("Hmm",match3to4);addRegexToken("Hmmss",match5to6);addParseToken(["H","HH"],HOUR);addParseToken(["k","kk"],function(e,t,r){var s=toInt(e);t[HOUR]=s===24?0:s});addParseToken(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e});addParseToken(["h","hh"],function(e,t,r){t[HOUR]=toInt(e),getParsingFlags(r).bigHour=!0});addParseToken("hmm",function(e,t,r){var s=e.length-2;t[HOUR]=toInt(e.substr(0,s)),t[MINUTE]=toInt(e.substr(s)),getParsingFlags(r).bigHour=!0});addParseToken("hmmss",function(e,t,r){var s=e.length-4,a=e.length-2;t[HOUR]=toInt(e.substr(0,s)),t[MINUTE]=toInt(e.substr(s,2)),t[SECOND]=toInt(e.substr(a)),getParsingFlags(r).bigHour=!0});addParseToken("Hmm",function(e,t,r){var s=e.length-2;t[HOUR]=toInt(e.substr(0,s)),t[MINUTE]=toInt(e.substr(s))});addParseToken("Hmmss",function(e,t,r){var s=e.length-4,a=e.length-2;t[HOUR]=toInt(e.substr(0,s)),t[MINUTE]=toInt(e.substr(s,2)),t[SECOND]=toInt(e.substr(a))});function localeIsPM(e){return(e+"").toLowerCase().charAt(0)==="p"}var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0);function localeMeridiem(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:defaultInvalidDate,ordinal:defaultOrdinal,dayOfMonthOrdinalParse:defaultDayOfMonthOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse},locales={},localeFamilies={},globalLocale;function commonPrefix(e,t){var r,s=Math.min(e.length,t.length);for(r=0;r<s;r+=1)if(e[r]!==t[r])return r;return s}function normalizeLocale(e){return e&&e.toLowerCase().replace("_","-")}function chooseLocale(e){for(var t=0,r,s,a,n;t<e.length;){for(n=normalizeLocale(e[t]).split("-"),r=n.length,s=normalizeLocale(e[t+1]),s=s?s.split("-"):null;r>0;){if(a=loadLocale(n.slice(0,r).join("-")),a)return a;if(s&&s.length>=r&&commonPrefix(n,s)>=r-1)break;r--}t++}return globalLocale}function isLocaleNameSane(e){return!!(e&&e.match("^[^/\\\\]*$"))}function loadLocale(e){var t=null,r;if(locales[e]===void 0&&typeof module<"u"&&module&&module.exports&&isLocaleNameSane(e))try{t=globalLocale._abbr,r=require,r("./locale/"+e),getSetGlobalLocale(t)}catch{locales[e]=null}return locales[e]}function getSetGlobalLocale(e,t){var r;return e&&(isUndefined(t)?r=getLocale(e):r=defineLocale(e,t),r?globalLocale=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),globalLocale._abbr}function defineLocale(e,t){if(t!==null){var r,s=baseConfig;if(t.abbr=e,locales[e]!=null)deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=locales[e]._config;else if(t.parentLocale!=null)if(locales[t.parentLocale]!=null)s=locales[t.parentLocale]._config;else if(r=loadLocale(t.parentLocale),r!=null)s=r._config;else return localeFamilies[t.parentLocale]||(localeFamilies[t.parentLocale]=[]),localeFamilies[t.parentLocale].push({name:e,config:t}),null;return locales[e]=new Locale(mergeConfigs(s,t)),localeFamilies[e]&&localeFamilies[e].forEach(function(a){defineLocale(a.name,a.config)}),getSetGlobalLocale(e),locales[e]}else return delete locales[e],null}function updateLocale(e,t){if(t!=null){var r,s,a=baseConfig;locales[e]!=null&&locales[e].parentLocale!=null?locales[e].set(mergeConfigs(locales[e]._config,t)):(s=loadLocale(e),s!=null&&(a=s._config),t=mergeConfigs(a,t),s==null&&(t.abbr=e),r=new Locale(t),r.parentLocale=locales[e],locales[e]=r),getSetGlobalLocale(e)}else locales[e]!=null&&(locales[e].parentLocale!=null?(locales[e]=locales[e].parentLocale,e===getSetGlobalLocale()&&getSetGlobalLocale(e)):locales[e]!=null&&delete locales[e]);return locales[e]}function getLocale(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return globalLocale;if(!isArray(e)){if(t=loadLocale(e),t)return t;e=[e]}return chooseLocale(e)}function listLocales(){return keys(locales)}function checkOverflow(e){var t,r=e._a;return r&&getParsingFlags(e).overflow===-2&&(t=r[MONTH]<0||r[MONTH]>11?MONTH:r[DATE]<1||r[DATE]>daysInMonth(r[YEAR],r[MONTH])?DATE:r[HOUR]<0||r[HOUR]>24||r[HOUR]===24&&(r[MINUTE]!==0||r[SECOND]!==0||r[MILLISECOND]!==0)?HOUR:r[MINUTE]<0||r[MINUTE]>59?MINUTE:r[SECOND]<0||r[SECOND]>59?SECOND:r[MILLISECOND]<0||r[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(e)._overflowDayOfYear&&(t<YEAR||t>DATE)&&(t=DATE),getParsingFlags(e)._overflowWeeks&&t===-1&&(t=WEEK),getParsingFlags(e)._overflowWeekday&&t===-1&&(t=WEEKDAY),getParsingFlags(e).overflow=t),e}var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((-?\d+)/i,rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,obsOffsets={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function configFromISO(e){var t,r,s=e._i,a=extendedIsoRegex.exec(s)||basicIsoRegex.exec(s),n,o,l,u,c=isoDates.length,d=isoTimes.length;if(a){for(getParsingFlags(e).iso=!0,t=0,r=c;t<r;t++)if(isoDates[t][1].exec(a[1])){o=isoDates[t][0],n=isoDates[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(a[3]){for(t=0,r=d;t<r;t++)if(isoTimes[t][1].exec(a[3])){l=(a[2]||" ")+isoTimes[t][0];break}if(l==null){e._isValid=!1;return}}if(!n&&l!=null){e._isValid=!1;return}if(a[4])if(tzRegex.exec(a[4]))u="Z";else{e._isValid=!1;return}e._f=o+(l||"")+(u||""),configFromStringAndFormat(e)}else e._isValid=!1}function extractFromRFC2822Strings(e,t,r,s,a,n){var o=[untruncateYear(e),defaultLocaleMonthsShort.indexOf(t),parseInt(r,10),parseInt(s,10),parseInt(a,10)];return n&&o.push(parseInt(n,10)),o}function untruncateYear(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function preprocessRFC2822(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function checkWeekday(e,t,r){if(e){var s=defaultLocaleWeekdaysShort.indexOf(e),a=new Date(t[0],t[1],t[2]).getDay();if(s!==a)return getParsingFlags(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function calculateOffset(e,t,r){if(e)return obsOffsets[e];if(t)return 0;var s=parseInt(r,10),a=s%100,n=(s-a)/100;return n*60+a}function configFromRFC2822(e){var t=rfc2822.exec(preprocessRFC2822(e._i)),r;if(t){if(r=extractFromRFC2822Strings(t[4],t[3],t[2],t[5],t[6],t[7]),!checkWeekday(t[1],r,e))return;e._a=r,e._tzm=calculateOffset(t[8],t[9],t[10]),e._d=createUTCDate.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),getParsingFlags(e).rfc2822=!0}else e._isValid=!1}function configFromString(e){var t=aspNetJsonRegex.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(configFromISO(e),e._isValid===!1)delete e._isValid;else return;if(configFromRFC2822(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:hooks.createFromInputFallback(e)}hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function defaults(e,t,r){return e??t??r}function currentDateArray(e){var t=new Date(hooks.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function configFromArray(e){var t,r,s=[],a,n,o;if(!e._d){for(a=currentDateArray(e),e._w&&e._a[DATE]==null&&e._a[MONTH]==null&&dayOfYearFromWeekInfo(e),e._dayOfYear!=null&&(o=defaults(e._a[YEAR],a[YEAR]),(e._dayOfYear>daysInYear(o)||e._dayOfYear===0)&&(getParsingFlags(e)._overflowDayOfYear=!0),r=createUTCDate(o,0,e._dayOfYear),e._a[MONTH]=r.getUTCMonth(),e._a[DATE]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=s[t]=a[t];for(;t<7;t++)e._a[t]=s[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[HOUR]===24&&e._a[MINUTE]===0&&e._a[SECOND]===0&&e._a[MILLISECOND]===0&&(e._nextDay=!0,e._a[HOUR]=0),e._d=(e._useUTC?createUTCDate:createDate).apply(null,s),n=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[HOUR]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==n&&(getParsingFlags(e).weekdayMismatch=!0)}}function dayOfYearFromWeekInfo(e){var t,r,s,a,n,o,l,u,c;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(n=1,o=4,r=defaults(t.GG,e._a[YEAR],weekOfYear(createLocal(),1,4).year),s=defaults(t.W,1),a=defaults(t.E,1),(a<1||a>7)&&(u=!0)):(n=e._locale._week.dow,o=e._locale._week.doy,c=weekOfYear(createLocal(),n,o),r=defaults(t.gg,e._a[YEAR],c.year),s=defaults(t.w,c.week),t.d!=null?(a=t.d,(a<0||a>6)&&(u=!0)):t.e!=null?(a=t.e+n,(t.e<0||t.e>6)&&(u=!0)):a=n),s<1||s>weeksInYear(r,n,o)?getParsingFlags(e)._overflowWeeks=!0:u!=null?getParsingFlags(e)._overflowWeekday=!0:(l=dayOfYearFromWeeks(r,s,a,n,o),e._a[YEAR]=l.year,e._dayOfYear=l.dayOfYear)}hooks.ISO_8601=function(){};hooks.RFC_2822=function(){};function configFromStringAndFormat(e){if(e._f===hooks.ISO_8601){configFromISO(e);return}if(e._f===hooks.RFC_2822){configFromRFC2822(e);return}e._a=[],getParsingFlags(e).empty=!0;var t=""+e._i,r,s,a,n,o,l=t.length,u=0,c,d;for(a=expandFormat(e._f,e._locale).match(formattingTokens)||[],d=a.length,r=0;r<d;r++)n=a[r],s=(t.match(getParseRegexForToken(n,e))||[])[0],s&&(o=t.substr(0,t.indexOf(s)),o.length>0&&getParsingFlags(e).unusedInput.push(o),t=t.slice(t.indexOf(s)+s.length),u+=s.length),formatTokenFunctions[n]?(s?getParsingFlags(e).empty=!1:getParsingFlags(e).unusedTokens.push(n),addTimeToArrayFromToken(n,s,e)):e._strict&&!s&&getParsingFlags(e).unusedTokens.push(n);getParsingFlags(e).charsLeftOver=l-u,t.length>0&&getParsingFlags(e).unusedInput.push(t),e._a[HOUR]<=12&&getParsingFlags(e).bigHour===!0&&e._a[HOUR]>0&&(getParsingFlags(e).bigHour=void 0),getParsingFlags(e).parsedDateParts=e._a.slice(0),getParsingFlags(e).meridiem=e._meridiem,e._a[HOUR]=meridiemFixWrap(e._locale,e._a[HOUR],e._meridiem),c=getParsingFlags(e).era,c!==null&&(e._a[YEAR]=e._locale.erasConvertYear(c,e._a[YEAR])),configFromArray(e),checkOverflow(e)}function meridiemFixWrap(e,t,r){var s;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(s=e.isPM(r),s&&t<12&&(t+=12),!s&&t===12&&(t=0)),t)}function configFromStringAndArray(e){var t,r,s,a,n,o,l=!1,u=e._f.length;if(u===0){getParsingFlags(e).invalidFormat=!0,e._d=new Date(NaN);return}for(a=0;a<u;a++)n=0,o=!1,t=copyConfig({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[a],configFromStringAndFormat(t),isValid(t)&&(o=!0),n+=getParsingFlags(t).charsLeftOver,n+=getParsingFlags(t).unusedTokens.length*10,getParsingFlags(t).score=n,l?n<s&&(s=n,r=t):(s==null||n<s||o)&&(s=n,r=t,o&&(l=!0));extend(e,r||t)}function configFromObject(e){if(!e._d){var t=normalizeObjectUnits(e._i),r=t.day===void 0?t.date:t.day;e._a=map([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(s){return s&&parseInt(s,10)}),configFromArray(e)}}function createFromConfig(e){var t=new Moment(checkOverflow(prepareConfig(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function prepareConfig(e){var t=e._i,r=e._f;return e._locale=e._locale||getLocale(e._l),t===null||r===void 0&&t===""?createInvalid({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),isMoment(t)?new Moment(checkOverflow(t)):(isDate(t)?e._d=t:isArray(r)?configFromStringAndArray(e):r?configFromStringAndFormat(e):configFromInput(e),isValid(e)||(e._d=null),e))}function configFromInput(e){var t=e._i;isUndefined(t)?e._d=new Date(hooks.now()):isDate(t)?e._d=new Date(t.valueOf()):typeof t=="string"?configFromString(e):isArray(t)?(e._a=map(t.slice(0),function(r){return parseInt(r,10)}),configFromArray(e)):isObject(t)?configFromObject(e):isNumber(t)?e._d=new Date(t):hooks.createFromInputFallback(e)}function createLocalOrUTC(e,t,r,s,a){var n={};return(t===!0||t===!1)&&(s=t,t=void 0),(r===!0||r===!1)&&(s=r,r=void 0),(isObject(e)&&isObjectEmpty(e)||isArray(e)&&e.length===0)&&(e=void 0),n._isAMomentObject=!0,n._useUTC=n._isUTC=a,n._l=r,n._i=e,n._f=t,n._strict=s,createFromConfig(n)}function createLocal(e,t,r,s){return createLocalOrUTC(e,t,r,s,!1)}var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=createLocal.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=createLocal.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:createInvalid()});function pickBy(e,t){var r,s;if(t.length===1&&isArray(t[0])&&(t=t[0]),!t.length)return createLocal();for(r=t[0],s=1;s<t.length;++s)(!t[s].isValid()||t[s][e](r))&&(r=t[s]);return r}function min(){var e=[].slice.call(arguments,0);return pickBy("isBefore",e)}function max(){var e=[].slice.call(arguments,0);return pickBy("isAfter",e)}var now=function(){return Date.now?Date.now():+new Date},ordering=["year","quarter","month","week","day","hour","minute","second","millisecond"];function isDurationValid(e){var t,r=!1,s,a=ordering.length;for(t in e)if(hasOwnProp(e,t)&&!(indexOf.call(ordering,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(s=0;s<a;++s)if(e[ordering[s]]){if(r)return!1;parseFloat(e[ordering[s]])!==toInt(e[ordering[s]])&&(r=!0)}return!0}function isValid$1(){return this._isValid}function createInvalid$1(){return createDuration(NaN)}function Duration(e){var t=normalizeObjectUnits(e),r=t.year||0,s=t.quarter||0,a=t.month||0,n=t.week||t.isoWeek||0,o=t.day||0,l=t.hour||0,u=t.minute||0,c=t.second||0,d=t.millisecond||0;this._isValid=isDurationValid(t),this._milliseconds=+d+c*1e3+u*6e4+l*1e3*60*60,this._days=+o+n*7,this._months=+a+s*3+r*12,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(e){return e instanceof Duration}function absRound(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function compareArrays(e,t,r){var s=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),n=0,o;for(o=0;o<s;o++)toInt(e[o])!==toInt(t[o])&&n++;return n+a}function offset(e,t){addFormatToken(e,0,0,function(){var r=this.utcOffset(),s="+";return r<0&&(r=-r,s="-"),s+zeroFill(~~(r/60),2)+t+zeroFill(~~r%60,2)})}offset("Z",":");offset("ZZ","");addRegexToken("Z",matchShortOffset);addRegexToken("ZZ",matchShortOffset);addParseToken(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=offsetFromString(matchShortOffset,e)});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(e,t){var r=(t||"").match(e),s,a,n;return r===null?null:(s=r[r.length-1]||[],a=(s+"").match(chunkOffset)||["-",0,0],n=+(a[1]*60)+toInt(a[2]),n===0?0:a[0]==="+"?n:-n)}function cloneWithOffset(e,t){var r,s;return t._isUTC?(r=t.clone(),s=(isMoment(e)||isDate(e)?e.valueOf():createLocal(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+s),hooks.updateOffset(r,!1),r):createLocal(e).local()}function getDateOffset(e){return-Math.round(e._d.getTimezoneOffset())}hooks.updateOffset=function(){};function getSetOffset(e,t,r){var s=this._offset||0,a;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=offsetFromString(matchShortOffset,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(a=getDateOffset(this)),this._offset=e,this._isUTC=!0,a!=null&&this.add(a,"m"),s!==e&&(!t||this._changeInProgress?addSubtract(this,createDuration(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?s:getDateOffset(this)}function getSetZone(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function setOffsetToUTC(e){return this.utcOffset(0,e)}function setOffsetToLocal(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=offsetFromString(matchOffset,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function hasAlignedHourOffset(e){return this.isValid()?(e=e?createLocal(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var e={},t;return copyConfig(e,this),e=prepareConfig(e),e._a?(t=e._isUTC?createUTC(e._a):createLocal(e._a),this._isDSTShifted=this.isValid()&&compareArrays(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function isLocal(){return this.isValid()?!this._isUTC:!1}function isUtcOffset(){return this.isValid()?this._isUTC:!1}function isUtc(){return this.isValid()?this._isUTC&&this._offset===0:!1}var aspNetRegex=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,isoRegex=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function createDuration(e,t){var r=e,s=null,a,n,o;return isDuration(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:isNumber(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(s=aspNetRegex.exec(e))?(a=s[1]==="-"?-1:1,r={y:0,d:toInt(s[DATE])*a,h:toInt(s[HOUR])*a,m:toInt(s[MINUTE])*a,s:toInt(s[SECOND])*a,ms:toInt(absRound(s[MILLISECOND]*1e3))*a}):(s=isoRegex.exec(e))?(a=s[1]==="-"?-1:1,r={y:parseIso(s[2],a),M:parseIso(s[3],a),w:parseIso(s[4],a),d:parseIso(s[5],a),h:parseIso(s[6],a),m:parseIso(s[7],a),s:parseIso(s[8],a)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(o=momentsDifference(createLocal(r.from),createLocal(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),n=new Duration(r),isDuration(e)&&hasOwnProp(e,"_locale")&&(n._locale=e._locale),isDuration(e)&&hasOwnProp(e,"_isValid")&&(n._isValid=e._isValid),n}createDuration.fn=Duration.prototype;createDuration.invalid=createInvalid$1;function parseIso(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function positiveMomentsDifference(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function momentsDifference(e,t){var r;return e.isValid()&&t.isValid()?(t=cloneWithOffset(t,e),e.isBefore(t)?r=positiveMomentsDifference(e,t):(r=positiveMomentsDifference(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function createAdder(e,t){return function(r,s){var a,n;return s!==null&&!isNaN(+s)&&(deprecateSimple(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=r,r=s,s=n),a=createDuration(r,s),addSubtract(this,a,e),this}}function addSubtract(e,t,r,s){var a=t._milliseconds,n=absRound(t._days),o=absRound(t._months);e.isValid()&&(s=s??!0,o&&setMonth(e,get(e,"Month")+o*r),n&&set$1(e,"Date",get(e,"Date")+n*r),a&&e._d.setTime(e._d.valueOf()+a*r),s&&hooks.updateOffset(e,n||o))}var add=createAdder(1,"add"),subtract=createAdder(-1,"subtract");function isString(e){return typeof e=="string"||e instanceof String}function isMomentInput(e){return isMoment(e)||isDate(e)||isString(e)||isNumber(e)||isNumberOrStringArray(e)||isMomentInputObject(e)||e===null||e===void 0}function isMomentInputObject(e){var t=isObject(e)&&!isObjectEmpty(e),r=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a,n,o=s.length;for(a=0;a<o;a+=1)n=s[a],r=r||hasOwnProp(e,n);return t&&r}function isNumberOrStringArray(e){var t=isArray(e),r=!1;return t&&(r=e.filter(function(s){return!isNumber(s)&&isString(e)}).length===0),t&&r}function isCalendarSpec(e){var t=isObject(e)&&!isObjectEmpty(e),r=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a,n;for(a=0;a<s.length;a+=1)n=s[a],r=r||hasOwnProp(e,n);return t&&r}function getCalendarFormat(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function calendar$1(e,t){arguments.length===1&&(arguments[0]?isMomentInput(arguments[0])?(e=arguments[0],t=void 0):isCalendarSpec(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||createLocal(),s=cloneWithOffset(r,this).startOf("day"),a=hooks.calendarFormat(this,s)||"sameElse",n=t&&(isFunction(t[a])?t[a].call(this,r):t[a]);return this.format(n||this.localeData().calendar(a,this,createLocal(r)))}function clone(){return new Moment(this)}function isAfter(e,t){var r=isMoment(e)?e:createLocal(e);return this.isValid()&&r.isValid()?(t=normalizeUnits(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function isBefore(e,t){var r=isMoment(e)?e:createLocal(e);return this.isValid()&&r.isValid()?(t=normalizeUnits(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function isBetween(e,t,r,s){var a=isMoment(e)?e:createLocal(e),n=isMoment(t)?t:createLocal(t);return this.isValid()&&a.isValid()&&n.isValid()?(s=s||"()",(s[0]==="("?this.isAfter(a,r):!this.isBefore(a,r))&&(s[1]===")"?this.isBefore(n,r):!this.isAfter(n,r))):!1}function isSame(e,t){var r=isMoment(e)?e:createLocal(e),s;return this.isValid()&&r.isValid()?(t=normalizeUnits(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(s=r.valueOf(),this.clone().startOf(t).valueOf()<=s&&s<=this.clone().endOf(t).valueOf())):!1}function isSameOrAfter(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function isSameOrBefore(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function diff(e,t,r){var s,a,n;if(!this.isValid())return NaN;if(s=cloneWithOffset(e,this),!s.isValid())return NaN;switch(a=(s.utcOffset()-this.utcOffset())*6e4,t=normalizeUnits(t),t){case"year":n=monthDiff(this,s)/12;break;case"month":n=monthDiff(this,s);break;case"quarter":n=monthDiff(this,s)/3;break;case"second":n=(this-s)/1e3;break;case"minute":n=(this-s)/6e4;break;case"hour":n=(this-s)/36e5;break;case"day":n=(this-s-a)/864e5;break;case"week":n=(this-s-a)/6048e5;break;default:n=this-s}return r?n:absFloor(n)}function monthDiff(e,t){if(e.date()<t.date())return-monthDiff(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),s=e.clone().add(r,"months"),a,n;return t-s<0?(a=e.clone().add(r-1,"months"),n=(t-s)/(s-a)):(a=e.clone().add(r+1,"months"),n=(t-s)/(a-s)),-(r+n)||0}hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?formatMoment(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):isFunction(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",formatMoment(r,"Z")):formatMoment(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function inspect(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,s,a,n;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",n=t+'[")]',this.format(r+s+a+n)}function format(e){e||(e=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var t=formatMoment(this,e);return this.localeData().postformat(t)}function from(e,t){return this.isValid()&&(isMoment(e)&&e.isValid()||createLocal(e).isValid())?createDuration({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function fromNow(e){return this.from(createLocal(),e)}function to(e,t){return this.isValid()&&(isMoment(e)&&e.isValid()||createLocal(e).isValid())?createDuration({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function toNow(e){return this.to(createLocal(),e)}function locale(e){var t;return e===void 0?this._locale._abbr:(t=getLocale(e),t!=null&&(this._locale=t),this)}var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function localeData(){return this._locale}var MS_PER_SECOND=1e3,MS_PER_MINUTE=60*MS_PER_SECOND,MS_PER_HOUR=60*MS_PER_MINUTE,MS_PER_400_YEARS=(365*400+97)*24*MS_PER_HOUR;function mod$1(e,t){return(e%t+t)%t}function localStartOfDate(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-MS_PER_400_YEARS:new Date(e,t,r).valueOf()}function utcStartOfDate(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-MS_PER_400_YEARS:Date.UTC(e,t,r)}function startOf(e){var t,r;if(e=normalizeUnits(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?utcStartOfDate:localStartOfDate,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=mod$1(t+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR);break;case"minute":t=this._d.valueOf(),t-=mod$1(t,MS_PER_MINUTE);break;case"second":t=this._d.valueOf(),t-=mod$1(t,MS_PER_SECOND);break}return this._d.setTime(t),hooks.updateOffset(this,!0),this}function endOf(e){var t,r;if(e=normalizeUnits(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?utcStartOfDate:localStartOfDate,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=MS_PER_HOUR-mod$1(t+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR)-1;break;case"minute":t=this._d.valueOf(),t+=MS_PER_MINUTE-mod$1(t,MS_PER_MINUTE)-1;break;case"second":t=this._d.valueOf(),t+=MS_PER_SECOND-mod$1(t,MS_PER_SECOND)-1;break}return this._d.setTime(t),hooks.updateOffset(this,!0),this}function valueOf(){return this._d.valueOf()-(this._offset||0)*6e4}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return new Date(this.valueOf())}function toArray(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function toObject(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function isValid$2(){return isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}addFormatToken("N",0,0,"eraAbbr");addFormatToken("NN",0,0,"eraAbbr");addFormatToken("NNN",0,0,"eraAbbr");addFormatToken("NNNN",0,0,"eraName");addFormatToken("NNNNN",0,0,"eraNarrow");addFormatToken("y",["y",1],"yo","eraYear");addFormatToken("y",["yy",2],0,"eraYear");addFormatToken("y",["yyy",3],0,"eraYear");addFormatToken("y",["yyyy",4],0,"eraYear");addRegexToken("N",matchEraAbbr);addRegexToken("NN",matchEraAbbr);addRegexToken("NNN",matchEraAbbr);addRegexToken("NNNN",matchEraName);addRegexToken("NNNNN",matchEraNarrow);addParseToken(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,s){var a=r._locale.erasParse(e,s,r._strict);a?getParsingFlags(r).era=a:getParsingFlags(r).invalidEra=e});addRegexToken("y",matchUnsigned);addRegexToken("yy",matchUnsigned);addRegexToken("yyy",matchUnsigned);addRegexToken("yyyy",matchUnsigned);addRegexToken("yo",matchEraYearOrdinal);addParseToken(["y","yy","yyy","yyyy"],YEAR);addParseToken(["yo"],function(e,t,r,s){var a;r._locale._eraYearOrdinalRegex&&(a=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[YEAR]=r._locale.eraYearOrdinalParse(e,a):t[YEAR]=parseInt(e,10)});function localeEras(e,t){var r,s,a,n=this._eras||getLocale("en")._eras;for(r=0,s=n.length;r<s;++r){switch(typeof n[r].since){case"string":a=hooks(n[r].since).startOf("day"),n[r].since=a.valueOf();break}switch(typeof n[r].until){case"undefined":n[r].until=1/0;break;case"string":a=hooks(n[r].until).startOf("day").valueOf(),n[r].until=a.valueOf();break}}return n}function localeErasParse(e,t,r){var s,a,n=this.eras(),o,l,u;for(e=e.toUpperCase(),s=0,a=n.length;s<a;++s)if(o=n[s].name.toUpperCase(),l=n[s].abbr.toUpperCase(),u=n[s].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(l===e)return n[s];break;case"NNNN":if(o===e)return n[s];break;case"NNNNN":if(u===e)return n[s];break}else if([o,l,u].indexOf(e)>=0)return n[s]}function localeErasConvertYear(e,t){var r=e.since<=e.until?1:-1;return t===void 0?hooks(e.since).year():hooks(e.since).year()+(t-e.offset)*r}function getEraName(){var e,t,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return s[e].name;return""}function getEraNarrow(){var e,t,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return s[e].narrow;return""}function getEraAbbr(){var e,t,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return s[e].abbr;return""}function getEraYear(){var e,t,r,s,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(r=a[e].since<=a[e].until?1:-1,s=this.clone().startOf("day").valueOf(),a[e].since<=s&&s<=a[e].until||a[e].until<=s&&s<=a[e].since)return(this.year()-hooks(a[e].since).year())*r+a[e].offset;return this.year()}function erasNameRegex(e){return hasOwnProp(this,"_erasNameRegex")||computeErasParse.call(this),e?this._erasNameRegex:this._erasRegex}function erasAbbrRegex(e){return hasOwnProp(this,"_erasAbbrRegex")||computeErasParse.call(this),e?this._erasAbbrRegex:this._erasRegex}function erasNarrowRegex(e){return hasOwnProp(this,"_erasNarrowRegex")||computeErasParse.call(this),e?this._erasNarrowRegex:this._erasRegex}function matchEraAbbr(e,t){return t.erasAbbrRegex(e)}function matchEraName(e,t){return t.erasNameRegex(e)}function matchEraNarrow(e,t){return t.erasNarrowRegex(e)}function matchEraYearOrdinal(e,t){return t._eraYearOrdinalRegex||matchUnsigned}function computeErasParse(){var e=[],t=[],r=[],s=[],a,n,o,l,u,c=this.eras();for(a=0,n=c.length;a<n;++a)o=regexEscape(c[a].name),l=regexEscape(c[a].abbr),u=regexEscape(c[a].narrow),t.push(o),e.push(l),r.push(u),s.push(o),s.push(l),s.push(u);this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100});addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100});function addWeekYearFormatToken(e,t){addFormatToken(0,[e,e.length],0,t)}addWeekYearFormatToken("gggg","weekYear");addWeekYearFormatToken("ggggg","weekYear");addWeekYearFormatToken("GGGG","isoWeekYear");addWeekYearFormatToken("GGGGG","isoWeekYear");addRegexToken("G",matchSigned);addRegexToken("g",matchSigned);addRegexToken("GG",match1to2,match2);addRegexToken("gg",match1to2,match2);addRegexToken("GGGG",match1to4,match4);addRegexToken("gggg",match1to4,match4);addRegexToken("GGGGG",match1to6,match6);addRegexToken("ggggg",match1to6,match6);addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,s){t[s.substr(0,2)]=toInt(e)});addWeekParseToken(["gg","GG"],function(e,t,r,s){t[s]=hooks.parseTwoDigitYear(e)});function getSetWeekYear(e){return getSetWeekYearHelper.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(e){return getSetWeekYearHelper.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getISOWeeksInISOWeekYear(){return weeksInYear(this.isoWeekYear(),1,4)}function getWeeksInYear(){var e=this.localeData()._week;return weeksInYear(this.year(),e.dow,e.doy)}function getWeeksInWeekYear(){var e=this.localeData()._week;return weeksInYear(this.weekYear(),e.dow,e.doy)}function getSetWeekYearHelper(e,t,r,s,a){var n;return e==null?weekOfYear(this,s,a).year:(n=weeksInYear(e,s,a),t>n&&(t=n),setWeekAll.call(this,e,t,r,s,a))}function setWeekAll(e,t,r,s,a){var n=dayOfYearFromWeeks(e,t,r,s,a),o=createUTCDate(n.year,0,n.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}addFormatToken("Q",0,"Qo","quarter");addRegexToken("Q",match1);addParseToken("Q",function(e,t){t[MONTH]=(toInt(e)-1)*3});function getSetQuarter(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}addFormatToken("D",["DD",2],"Do","date");addRegexToken("D",match1to2,match1to2NoLeadingZero);addRegexToken("DD",match1to2,match2);addRegexToken("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});addParseToken(["D","DD"],DATE);addParseToken("Do",function(e,t){t[DATE]=toInt(e.match(match1to2)[0])});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear");addRegexToken("DDD",match1to3);addRegexToken("DDDD",match3);addParseToken(["DDD","DDDD"],function(e,t,r){r._dayOfYear=toInt(e)});function getSetDayOfYear(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}addFormatToken("m",["mm",2],0,"minute");addRegexToken("m",match1to2,match1to2HasZero);addRegexToken("mm",match1to2,match2);addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second");addRegexToken("s",match1to2,match1to2HasZero);addRegexToken("ss",match1to2,match2);addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)});addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)});addFormatToken(0,["SSS",3],0,"millisecond");addFormatToken(0,["SSSS",4],0,function(){return this.millisecond()*10});addFormatToken(0,["SSSSS",5],0,function(){return this.millisecond()*100});addFormatToken(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});addFormatToken(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});addFormatToken(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});addFormatToken(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});addRegexToken("S",match1to3,match1);addRegexToken("SS",match1to3,match2);addRegexToken("SSS",match1to3,match3);var token,getSetMillisecond;for(token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);function parseMs(e,t){t[MILLISECOND]=toInt(("0."+e)*1e3)}for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr");addFormatToken("zz",0,0,"zoneName");function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}var proto=Moment.prototype;proto.add=add;proto.calendar=calendar$1;proto.clone=clone;proto.diff=diff;proto.endOf=endOf;proto.format=format;proto.from=from;proto.fromNow=fromNow;proto.to=to;proto.toNow=toNow;proto.get=stringGet;proto.invalidAt=invalidAt;proto.isAfter=isAfter;proto.isBefore=isBefore;proto.isBetween=isBetween;proto.isSame=isSame;proto.isSameOrAfter=isSameOrAfter;proto.isSameOrBefore=isSameOrBefore;proto.isValid=isValid$2;proto.lang=lang;proto.locale=locale;proto.localeData=localeData;proto.max=prototypeMax;proto.min=prototypeMin;proto.parsingFlags=parsingFlags;proto.set=stringSet;proto.startOf=startOf;proto.subtract=subtract;proto.toArray=toArray;proto.toObject=toObject;proto.toDate=toDate;proto.toISOString=toISOString;proto.inspect=inspect;typeof Symbol<"u"&&Symbol.for!=null&&(proto[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});proto.toJSON=toJSON;proto.toString=toString;proto.unix=unix;proto.valueOf=valueOf;proto.creationData=creationData;proto.eraName=getEraName;proto.eraNarrow=getEraNarrow;proto.eraAbbr=getEraAbbr;proto.eraYear=getEraYear;proto.year=getSetYear;proto.isLeapYear=getIsLeapYear;proto.weekYear=getSetWeekYear;proto.isoWeekYear=getSetISOWeekYear;proto.quarter=proto.quarters=getSetQuarter;proto.month=getSetMonth;proto.daysInMonth=getDaysInMonth;proto.week=proto.weeks=getSetWeek;proto.isoWeek=proto.isoWeeks=getSetISOWeek;proto.weeksInYear=getWeeksInYear;proto.weeksInWeekYear=getWeeksInWeekYear;proto.isoWeeksInYear=getISOWeeksInYear;proto.isoWeeksInISOWeekYear=getISOWeeksInISOWeekYear;proto.date=getSetDayOfMonth;proto.day=proto.days=getSetDayOfWeek;proto.weekday=getSetLocaleDayOfWeek;proto.isoWeekday=getSetISODayOfWeek;proto.dayOfYear=getSetDayOfYear;proto.hour=proto.hours=getSetHour;proto.minute=proto.minutes=getSetMinute;proto.second=proto.seconds=getSetSecond;proto.millisecond=proto.milliseconds=getSetMillisecond;proto.utcOffset=getSetOffset;proto.utc=setOffsetToUTC;proto.local=setOffsetToLocal;proto.parseZone=setOffsetToParsedOffset;proto.hasAlignedHourOffset=hasAlignedHourOffset;proto.isDST=isDaylightSavingTime;proto.isLocal=isLocal;proto.isUtcOffset=isUtcOffset;proto.isUtc=isUtc;proto.isUTC=isUtc;proto.zoneAbbr=getZoneAbbr;proto.zoneName=getZoneName;proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth);proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth);proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear);proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone);proto.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);function createUnix(e){return createLocal(e*1e3)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(e){return e}var proto$1=Locale.prototype;proto$1.calendar=calendar;proto$1.longDateFormat=longDateFormat;proto$1.invalidDate=invalidDate;proto$1.ordinal=ordinal;proto$1.preparse=preParsePostFormat;proto$1.postformat=preParsePostFormat;proto$1.relativeTime=relativeTime;proto$1.pastFuture=pastFuture;proto$1.set=set;proto$1.eras=localeEras;proto$1.erasParse=localeErasParse;proto$1.erasConvertYear=localeErasConvertYear;proto$1.erasAbbrRegex=erasAbbrRegex;proto$1.erasNameRegex=erasNameRegex;proto$1.erasNarrowRegex=erasNarrowRegex;proto$1.months=localeMonths;proto$1.monthsShort=localeMonthsShort;proto$1.monthsParse=localeMonthsParse;proto$1.monthsRegex=monthsRegex;proto$1.monthsShortRegex=monthsShortRegex;proto$1.week=localeWeek;proto$1.firstDayOfYear=localeFirstDayOfYear;proto$1.firstDayOfWeek=localeFirstDayOfWeek;proto$1.weekdays=localeWeekdays;proto$1.weekdaysMin=localeWeekdaysMin;proto$1.weekdaysShort=localeWeekdaysShort;proto$1.weekdaysParse=localeWeekdaysParse;proto$1.weekdaysRegex=weekdaysRegex;proto$1.weekdaysShortRegex=weekdaysShortRegex;proto$1.weekdaysMinRegex=weekdaysMinRegex;proto$1.isPM=localeIsPM;proto$1.meridiem=localeMeridiem;function get$1(e,t,r,s){var a=getLocale(),n=createUTC().set(s,t);return a[r](n,e)}function listMonthsImpl(e,t,r){if(isNumber(e)&&(t=e,e=void 0),e=e||"",t!=null)return get$1(e,t,r,"month");var s,a=[];for(s=0;s<12;s++)a[s]=get$1(e,s,r,"month");return a}function listWeekdaysImpl(e,t,r,s){typeof e=="boolean"?(isNumber(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,isNumber(t)&&(r=t,t=void 0),t=t||"");var a=getLocale(),n=e?a._week.dow:0,o,l=[];if(r!=null)return get$1(t,(r+n)%7,s,"day");for(o=0;o<7;o++)l[o]=get$1(t,(o+n)%7,s,"day");return l}function listMonths(e,t){return listMonthsImpl(e,t,"months")}function listMonthsShort(e,t){return listMonthsImpl(e,t,"monthsShort")}function listWeekdays(e,t,r){return listWeekdaysImpl(e,t,r,"weekdays")}function listWeekdaysShort(e,t,r){return listWeekdaysImpl(e,t,r,"weekdaysShort")}function listWeekdaysMin(e,t,r){return listWeekdaysImpl(e,t,r,"weekdaysMin")}getSetGlobalLocale("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=toInt(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}});hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale);hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var mathAbs=Math.abs;function abs(){var e=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),e.milliseconds=mathAbs(e.milliseconds),e.seconds=mathAbs(e.seconds),e.minutes=mathAbs(e.minutes),e.hours=mathAbs(e.hours),e.months=mathAbs(e.months),e.years=mathAbs(e.years),this}function addSubtract$1(e,t,r,s){var a=createDuration(t,r);return e._milliseconds+=s*a._milliseconds,e._days+=s*a._days,e._months+=s*a._months,e._bubble()}function add$1(e,t){return addSubtract$1(this,e,t,1)}function subtract$1(e,t){return addSubtract$1(this,e,t,-1)}function absCeil(e){return e<0?Math.floor(e):Math.ceil(e)}function bubble(){var e=this._milliseconds,t=this._days,r=this._months,s=this._data,a,n,o,l,u;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=absCeil(monthsToDays(r)+t)*864e5,t=0,r=0),s.milliseconds=e%1e3,a=absFloor(e/1e3),s.seconds=a%60,n=absFloor(a/60),s.minutes=n%60,o=absFloor(n/60),s.hours=o%24,t+=absFloor(o/24),u=absFloor(daysToMonths(t)),r+=u,t-=absCeil(monthsToDays(u)),l=absFloor(r/12),r%=12,s.days=t,s.months=r,s.years=l,this}function daysToMonths(e){return e*4800/146097}function monthsToDays(e){return e*146097/4800}function as(e){if(!this.isValid())return NaN;var t,r,s=this._milliseconds;if(e=normalizeUnits(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+s/864e5,r=this._months+daysToMonths(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(monthsToDays(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return t*24+s/36e5;case"minute":return t*1440+s/6e4;case"second":return t*86400+s/1e3;case"millisecond":return Math.floor(t*864e5)+s;default:throw new Error("Unknown unit "+e)}}function makeAs(e){return function(){return this.as(e)}}var asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asQuarters=makeAs("Q"),asYears=makeAs("y"),valueOf$1=asMilliseconds;function clone$1(){return createDuration(this)}function get$2(e){return e=normalizeUnits(e),this.isValid()?this[e+"s"]():NaN}function makeGetter(e){return function(){return this.isValid()?this._data[e]:NaN}}var milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years");function weeks(){return absFloor(this.days()/7)}var round=Math.round,thresholds={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function substituteTimeAgo(e,t,r,s,a){return a.relativeTime(t||1,!!r,e,s)}function relativeTime$1(e,t,r,s){var a=createDuration(e).abs(),n=round(a.as("s")),o=round(a.as("m")),l=round(a.as("h")),u=round(a.as("d")),c=round(a.as("M")),d=round(a.as("w")),h=round(a.as("y")),f=n<=r.ss&&["s",n]||n<r.s&&["ss",n]||o<=1&&["m"]||o<r.m&&["mm",o]||l<=1&&["h"]||l<r.h&&["hh",l]||u<=1&&["d"]||u<r.d&&["dd",u];return r.w!=null&&(f=f||d<=1&&["w"]||d<r.w&&["ww",d]),f=f||c<=1&&["M"]||c<r.M&&["MM",c]||h<=1&&["y"]||["yy",h],f[2]=t,f[3]=+e>0,f[4]=s,substituteTimeAgo.apply(null,f)}function getSetRelativeTimeRounding(e){return e===void 0?round:typeof e=="function"?(round=e,!0):!1}function getSetRelativeTimeThreshold(e,t){return thresholds[e]===void 0?!1:t===void 0?thresholds[e]:(thresholds[e]=t,e==="s"&&(thresholds.ss=t-1),!0)}function humanize(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,s=thresholds,a,n;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(s=Object.assign({},thresholds,t),t.s!=null&&t.ss==null&&(s.ss=t.s-1)),a=this.localeData(),n=relativeTime$1(this,!r,s,a),r&&(n=a.pastFuture(+this,n)),a.postformat(n)}var abs$1=Math.abs;function sign(e){return(e>0)-(e<0)||+e}function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var e=abs$1(this._milliseconds)/1e3,t=abs$1(this._days),r=abs$1(this._months),s,a,n,o,l=this.asSeconds(),u,c,d,h;return l?(s=absFloor(e/60),a=absFloor(s/60),e%=60,s%=60,n=absFloor(r/12),r%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",u=l<0?"-":"",c=sign(this._months)!==sign(l)?"-":"",d=sign(this._days)!==sign(l)?"-":"",h=sign(this._milliseconds)!==sign(l)?"-":"",u+"P"+(n?c+n+"Y":"")+(r?c+r+"M":"")+(t?d+t+"D":"")+(a||s||e?"T":"")+(a?h+a+"H":"")+(s?h+s+"M":"")+(e?h+o+"S":"")):"P0D"}var proto$2=Duration.prototype;proto$2.isValid=isValid$1;proto$2.abs=abs;proto$2.add=add$1;proto$2.subtract=subtract$1;proto$2.as=as;proto$2.asMilliseconds=asMilliseconds;proto$2.asSeconds=asSeconds;proto$2.asMinutes=asMinutes;proto$2.asHours=asHours;proto$2.asDays=asDays;proto$2.asWeeks=asWeeks;proto$2.asMonths=asMonths;proto$2.asQuarters=asQuarters;proto$2.asYears=asYears;proto$2.valueOf=valueOf$1;proto$2._bubble=bubble;proto$2.clone=clone$1;proto$2.get=get$2;proto$2.milliseconds=milliseconds;proto$2.seconds=seconds;proto$2.minutes=minutes;proto$2.hours=hours;proto$2.days=days;proto$2.weeks=weeks;proto$2.months=months;proto$2.years=years;proto$2.humanize=humanize;proto$2.toISOString=toISOString$1;proto$2.toString=toISOString$1;proto$2.toJSON=toISOString$1;proto$2.locale=locale;proto$2.localeData=localeData;proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1);proto$2.lang=lang;addFormatToken("X",0,0,"unix");addFormatToken("x",0,0,"valueOf");addRegexToken("x",matchSigned);addRegexToken("X",matchTimestamp);addParseToken("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)});addParseToken("x",function(e,t,r){r._d=new Date(toInt(e))});//! moment.js
hooks.version="2.30.1";setHookCallback(createLocal);hooks.fn=proto;hooks.min=min;hooks.max=max;hooks.now=now;hooks.utc=createUTC;hooks.unix=createUnix;hooks.months=listMonths;hooks.isDate=isDate;hooks.locale=getSetGlobalLocale;hooks.invalid=createInvalid;hooks.duration=createDuration;hooks.isMoment=isMoment;hooks.weekdays=listWeekdays;hooks.parseZone=createInZone;hooks.localeData=getLocale;hooks.isDuration=isDuration;hooks.monthsShort=listMonthsShort;hooks.weekdaysMin=listWeekdaysMin;hooks.defineLocale=defineLocale;hooks.updateLocale=updateLocale;hooks.locales=listLocales;hooks.weekdaysShort=listWeekdaysShort;hooks.normalizeUnits=normalizeUnits;hooks.relativeTimeRounding=getSetRelativeTimeRounding;hooks.relativeTimeThreshold=getSetRelativeTimeThreshold;hooks.calendarFormat=getCalendarFormat;hooks.prototype=proto;hooks.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var phpDateFormatter$1={exports:{}};/*!
 * @copyright Copyright &copy; Kartik Visweswaran, Krajee.com, 2014 - 2025
 * @version 1.3.6
 *
 * Date formatter utility library that allows formatting date/time variables or Date objects using PHP DateTime format.
 * This library is a standalone javascript library and does not depend on other libraries or plugins like jQuery. The
 * library also adds support for Universal Module Definition (UMD).
 *
 * @see http://php.net/manual/en/function.date.php
 *
 * For more JQuery plugins visit http://plugins.krajee.com
 * For more Yii related demos visit http://demos.krajee.com
 */var phpDateFormatter=phpDateFormatter$1.exports,hasRequiredPhpDateFormatter;function requirePhpDateFormatter(){return hasRequiredPhpDateFormatter||(hasRequiredPhpDateFormatter=1,function(e){(function(t,r){e.exports?e.exports=r():t.DateFormatter=r()})(typeof self<"u"?self:phpDateFormatter,function(){var t,r;return r={DAY:1e3*60*60*24,HOUR:3600,defaults:{dateSettings:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["AM","PM"],ordinal:function(s){var a=s%10,n={1:"st",2:"nd",3:"rd"};return Math.floor(s%100/10)===1||!n[a]?"th":n[a]}},separators:/[ \-+\/.:@]/g,validParts:/[dDjlNSwzWFmMntLoYyaABgGhHisueTIOPZcrU]/g,intParts:/[djwNzmnyYhHgGis]/g,tzParts:/\b(?:[PMCEA][SDP]T|(?:Australian|Pacific|Mountain|Central|Eastern|Atlantic) (?:Eastern) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,tzClip:/[^-+\dA-Z]/g},getInt:function(s,a){return parseInt(s,a||10)},compare:function(s,a){return typeof s=="string"&&typeof a=="string"&&s.toLowerCase()===a.toLowerCase()},lpad:function(s,a,n){var o=s.toString();return n=n||"0",o.length<a?r.lpad(n+o,a):o},merge:function(s){var a,n;for(s=s||{},a=1;a<arguments.length;a++)if(n=arguments[a],!!n)for(var o in n)n.hasOwnProperty(o)&&(typeof n[o]=="object"?r.merge(s[o],n[o]):s[o]=n[o]);return s},getIndex:function(s,a){for(var n=0;n<a.length;n++)if(a[n].toLowerCase()===s.toLowerCase())return n;return-1}},t=function(s){var a=this,n=r.merge(r.defaults,s);a.dateSettings=n.dateSettings,a.separators=n.separators,a.validParts=n.validParts,a.intParts=n.intParts,a.tzParts=n.tzParts,a.tzClip=n.tzClip},t.prototype={constructor:t,getMonth:function(s){var a=this,n;return n=r.getIndex(s,a.dateSettings.monthsShort)+1,n===0&&(n=r.getIndex(s,a.dateSettings.months)+1),n},parseDate:function(s,a){var n=this,o,l,u,c=!1,d=!1,h,f,m=n.dateSettings,p,y,g,F,k,S={date:null,year:null,month:null,day:null,hour:0,min:0,sec:0};if(!s)return null;if(s instanceof Date)return s;if(a==="U")return u=r.getInt(s),u?new Date(u*1e3):s;switch(typeof s){case"number":return new Date(s);case"string":break;default:return null}if(o=a.match(n.validParts),!o||o.length===0)throw new Error("Invalid date format definition.");for(u=o.length-1;u>=0;u--)o[u]==="S"&&o.splice(u,1);for(l=s.replace(n.separators,"\0").split("\0"),u=0;u<l.length;u++)switch(h=l[u],f=r.getInt(h),o[u]){case"y":case"Y":if(f)F=h.length,S.year=F===2?r.getInt((f<70?"20":"19")+h):f;else return null;c=!0;break;case"m":case"n":case"M":case"F":if(isNaN(f))if(p=n.getMonth(h),p>0)S.month=p;else return null;else if(f>=1&&f<=12)S.month=f;else return null;c=!0;break;case"d":case"j":if(f>=1&&f<=31)S.day=f;else return null;c=!0;break;case"g":case"h":if(y=o.indexOf("a")>-1?o.indexOf("a"):o.indexOf("A")>-1?o.indexOf("A"):-1,k=l[y],y!==-1)g=r.compare(k,m.meridiem[0])?0:r.compare(k,m.meridiem[1])?12:-1,f>=1&&f<=12&&g!==-1?S.hour=f%12===0?g:f+g:f>=0&&f<=23&&(S.hour=f);else if(f>=0&&f<=23)S.hour=f;else return null;d=!0;break;case"G":case"H":if(f>=0&&f<=23)S.hour=f;else return null;d=!0;break;case"i":if(f>=0&&f<=59)S.min=f;else return null;d=!0;break;case"s":if(f>=0&&f<=59)S.sec=f;else return null;d=!0;break}if(c===!0){var v=S.year||0,_=S.month?S.month-1:0,w=S.day||1;S.date=new Date(v,_,w,S.hour,S.min,S.sec,0)}else{if(d!==!0)return null;S.date=new Date(0,0,0,S.hour,S.min,S.sec,0)}return S.date},guessDate:function(s,a){if(typeof s!="string")return s;var n=this,o=s.replace(n.separators,"\0").split("\0"),l=/^[djmn]/g,u,c=a.match(n.validParts),d=new Date,h=0,f,m,p,y,g;if(!l.test(c[0]))return s;for(m=0;m<o.length;m++){if(h=2,y=o[m],g=r.getInt(y.substr(0,2)),isNaN(g))return null;switch(m){case 0:c[0]==="m"||c[0]==="n"?d.setMonth(g-1):d.setDate(g);break;case 1:c[0]==="m"||c[0]==="n"?d.setDate(g):d.setMonth(g-1);break;case 2:if(f=d.getFullYear(),u=y.length,h=u<4?u:4,f=r.getInt(u<4?f.toString().substr(0,4-u)+y:y.substr(0,4)),!f)return null;d.setFullYear(f);break;case 3:d.setHours(g);break;case 4:d.setMinutes(g);break;case 5:d.setSeconds(g);break}p=y.substr(h),p.length>0&&o.splice(m+1,0,p)}return d},parseFormat:function(s,a){var n=this,o=n.dateSettings,l,u=/\\?(.?)/gi,c=function(d,h){return l[d]?l[d]():h};return l={d:function(){return r.lpad(l.j(),2)},D:function(){return o.daysShort[l.w()]},j:function(){return a.getDate()},l:function(){return o.days[l.w()]},N:function(){return l.w()||7},w:function(){return a.getDay()},z:function(){var d=new Date(l.Y(),l.n()-1,l.j()),h=new Date(l.Y(),0,1);return Math.round((d-h)/r.DAY)},W:function(){var d=new Date(l.Y(),l.n()-1,l.j()-l.N()+3),h=new Date(d.getFullYear(),0,4);return r.lpad(1+Math.round((d-h)/r.DAY/7),2)},F:function(){return o.months[a.getMonth()]},m:function(){return r.lpad(l.n(),2)},M:function(){return o.monthsShort[a.getMonth()]},n:function(){return a.getMonth()+1},t:function(){return new Date(l.Y(),l.n(),0).getDate()},L:function(){var d=l.Y();return d%4===0&&d%100!==0||d%400===0?1:0},o:function(){var d=l.n(),h=l.W(),f=l.Y();return f+(d===12&&h<9?1:d===1&&h>9?-1:0)},Y:function(){return a.getFullYear()},y:function(){return l.Y().toString().slice(-2)},a:function(){return l.A().toLowerCase()},A:function(){var d=l.G()<12?0:1;return o.meridiem[d]},B:function(){var d=a.getUTCHours()*r.HOUR,h=a.getUTCMinutes()*60,f=a.getUTCSeconds();return r.lpad(Math.floor((d+h+f+r.HOUR)/86.4)%1e3,3)},g:function(){return l.G()%12||12},G:function(){return a.getHours()},h:function(){return r.lpad(l.g(),2)},H:function(){return r.lpad(l.G(),2)},i:function(){return r.lpad(a.getMinutes(),2)},s:function(){return r.lpad(a.getSeconds(),2)},u:function(){return r.lpad(a.getMilliseconds()*1e3,6)},e:function(){var d=/\((.*)\)/.exec(String(a))[1];return d||"Coordinated Universal Time"},I:function(){var d=new Date(l.Y(),0),h=Date.UTC(l.Y(),0),f=new Date(l.Y(),6),m=Date.UTC(l.Y(),6);return d-h!==f-m?1:0},O:function(){var d=a.getTimezoneOffset(),h=Math.abs(d);return(d>0?"-":"+")+r.lpad(Math.floor(h/60)*100+h%60,4)},P:function(){var d=l.O();return d.substr(0,3)+":"+d.substr(3,2)},T:function(){var d=(String(a).match(n.tzParts)||[""]).pop().replace(n.tzClip,"");return d||"UTC"},Z:function(){return-a.getTimezoneOffset()*60},c:function(){return"Y-m-d\\TH:i:sP".replace(u,c)},r:function(){return"D, d M Y H:i:s O".replace(u,c)},U:function(){return a.getTime()/1e3||0}},c(s,s)},formatDate:function(s,a){var n=this,o,l,u,c,d,h="",f="\\";if(typeof s=="string"&&(s=n.parseDate(s,a),!s))return null;if(s instanceof Date){for(u=a.length,o=0;o<u;o++)if(d=a.charAt(o),!(d==="S"||d===f)){if(o>0&&a.charAt(o-1)===f){h+=d;continue}c=n.parseFormat(d,s),o!==u-1&&n.intParts.test(d)&&a.charAt(o+1)==="S"&&(l=r.getInt(c)||0,c+=n.dateSettings.ordinal(l)),h+=c}return h}return""}},Object.freeze(t),t})}(phpDateFormatter$1)),phpDateFormatter$1.exports}var phpDateFormatterExports=requirePhpDateFormatter();const DateFormatter=getDefaultExportFromCjs(phpDateFormatterExports),parseDate=e=>{const[t,r,s]=e.split("/").map(Number);return new Date(s,r-1,t)},getDaysDifference=(e,t,r,s,a)=>{if(!e||!t)return 0;const n=new Date(e),o=new Date(t);if(isNaN(n.getTime())||isNaN(o.getTime()))return 0;if(n.getTime()===o.getTime())return 1;const l=Math.abs(o.getTime()-n.getTime()),u=Math.floor(l/(1e3*60*60*24));let c=0;if(!r.calculateUnselectableDays&&r.range){const h=s.filter(m=>{const p=new Date(m).getTime();return p>=n.getTime()&&p<=o.getTime()}).length;let f=0;for(let m=1;m<=u;m++){const p=new Date(e);p.setDate(p.getDate()+m);const y=p.getDay();a!=null&&a.includes(y)&&f++}c=h+f}const d=u>0?u+1:0;return Math.max(0,d-c)},displayValueHelper=e=>{if(!e)return"";const t=useAppStore(),r=t.getDateFormat?t.getDateFormat:"M j, Y",s=new DateFormatter({dateSettings:{months:hooks.months(),monthsShort:hooks.monthsShort()}});let a="";if(Array.isArray(e)){const n=[];for(const o of e)n.push(s.formatDate(o,r));a=n.join(" - ")}else e&&(a=s.formatDate(e,r));return a};function useDatePickerFieldHelper(){return{parseDate,getDaysDifference,displayValueHelper}}const useCallbackStore=defineStore("callbackStore",{state:()=>({callbacks:{}}),actions:{add(e,t){this.callbacks[e]=t},remove(e){delete this.callbacks[e]},runCallback(e,...t){this.callbacks[e]&&this.callbacks[e](...t)}}});function useWooProducts(){const e=useSettingsStore();function t(s){var n;(n=e.getWooProductsSettings)!=null&&n.currentProductId&&s.forEach(({action:o,calcField:l,wooMeta:u})=>{var c;if(u==="price"){const d=((c=e==null?void 0:e.getWooProductsSettings)==null?void 0:c.productPrice)||0;r(o,l,+d)}if(u==="quantity"){const d=document.querySelector("input.qty");if(d){const h=(d==null?void 0:d.value)||0;r(o,l,+h),d.addEventListener("change",f=>{const m=f.target,p=(m==null?void 0:m.value)||0;r(o,l,+p)})}}})}function r(s,a,n){if(!s)return;const o=useFieldsStore(),l=useSingleField(),{applyConditionForField:u}=useConditions(),c=o.getField(a);c&&(s==="set_value"?c.value=n:s==="set_value_disable"&&(c.value=n,c.disabled=!0),c.displayValue=l.getCommonFieldDisplayView(c),o.updateField(c.alias,c),(!c.hidden||c.calculateHidden)&&u(c.alias))}return{applyWooMetaActions:t}}const conditionInstance=useConditions(),useConditionsStore=defineStore("conditions",{state:()=>({conditions:{}}),actions:{setConditions(e){this.conditions=e},initConditions(e=[]){conditionInstance.addConditions(e)},initWooProductsConditions(){var s;const e=useSettingsStore(),t=useWooProducts(),r=((s=e.getWooProductsSettings)==null?void 0:s.metaLinks)||[];setTimeout(()=>t.applyWooMetaActions(r))},applyConditionForField(e){conditionInstance.applyConditionForField(e)},triggerCondition(){conditionInstance.triggerCondition()}}});let conditionsHistory=[];const multipleOptionsField$1=["checkbox","checkbox_with_img","toggle"],singleOptionsField$1=["dropDown","dropDown_with_img","radio","radio_with_img"];function addConditions(e){const t={};e.forEach(({optionsTo:s,optionsFrom:a,condition:n})=>{t[a]||(t[a]={}),t[a][s]||(t[a][s]=[]),n.forEach(({action:o,conditions:l,setVal:u,setOptions:c,sort:d})=>{t[a][s].push({optionTo:s,optionFrom:a,conditions:l,setVal:u,setOptions:c,action:o,sort:d})})}),useConditionsStore().setConditions(t)}function triggerCondition(){if(!useAppStore().isProActive)return;const t=useFieldsStore();for(const r of t.getFields)applyConditionForField(r.alias)}function applyConditionForField(e){var o;const t=useConditionsStore();if(!t.conditions[e])return;const r=useFieldsStore(),s=useSingleField(),a=Object.keys(t.conditions[e]),n=r.getField(e);if(n)for(const l of a){const u=t.conditions[e][l];let c=r.getField(l);if(!c)return;u.forEach(d=>{const h=n.value,f=[];d.conditions.forEach((p,y)=>{var F,k,S,v;let g=!1;switch(p.condition){case"==":if(singleOptionsField$1.includes(n.fieldName)&&"selectedOption"in n&&!Array.isArray(n.selectedOption)){const _=((k=(F=n==null?void 0:n.selectedOption)==null?void 0:F.optionValue)==null?void 0:k.split("_")[1])||void 0;_===void 0?g=!1:g=p.key==="any"?!!_:+_==+p.key}else g=h===+p.value;break;case"!=":if(singleOptionsField$1.includes(n.fieldName)&&"selectedOption"in n&&!Array.isArray(n.selectedOption))if(!n.selectedOption)g=!0;else{const _=((v=(S=n==null?void 0:n.selectedOption)==null?void 0:S.optionValue)==null?void 0:v.split("_")[1])||void 0;_===void 0?g=!1:g=p.key==="any"?!!_:+_!=+p.key}else g=h!==+p.value;break;case">=":g=Number(h||0)>+p.value;break;case"<=":g=Number(h||0)<+p.value;break;case"in":if(multipleOptionsField$1.includes(n.fieldName)&&"selectedOption"in n){const _=Array.isArray(n.selectedOption)?n.selectedOption:[],w=(_==null?void 0:_.map(b=>{var O;return+((O=b.optionValue)==null?void 0:O.split("_")[1])}))||[];g=Array.from(p.checkedValues).every(b=>w.includes(b))}break;case"not in":if(multipleOptionsField$1.includes(n.fieldName)&&"selectedOption"in n){const w=(Array.isArray(n.selectedOption)?n.selectedOption:[]).map(b=>{var O;return+((O=b.optionValue)==null?void 0:O.split("_")[1])})||[];g=Array.from(p.checkedValues).every(b=>!w.includes(b))}break;case"contains":if(multipleOptionsField$1.includes(n.fieldName)&&"selectedOption"in n){const w=(Array.isArray(n.selectedOption)?n.selectedOption:[]).map(b=>{var O;return+((O=b.optionValue)==null?void 0:O.split("_")[1])})||[];g=p.key==="any"?w.length>0:w.includes(Number(p.key))}break;default:g=!1}f.push(g),d.conditions.length>1&&y!==d.conditions.length-1&&f.push(p.logicalOperator)});let m=evaluateExpression(f);switch(n.hidden&&!n.calculateHidden&&(m=!1),d.action){case"hide":c=hide(m,c,d);break;case"show":c=show(m,c,d);break;case"disable":c=disable(m,c,d);break;case"unset":c=unset(m,c);break;case"set_value":c=setValue(m,c,d);break;case"set_value_and_disable":c=disable(m,c,d,"set_value");break;case"select_option":c=selectOption(m,c,d);break;case"disable_option":c=disable(m,c,d);break;case"select_option_and_disable":c=disable(m,c,d,"select_option");break;case"set_date":c=setDate(m,c,d);break;case"set_date_and_disable":c=disable(m,c,d,"set_date");break;case"set_time":c=setTime(m,c,d);break;case"set_period":c=setPeriod(m,c,d);break;case"set_period_and_disable":c=disable(m,c,d,"set_period");break;case"set_time_and_disable":c=setTime(m,c,d,!0);break;case"set_location":c=setLocation(m,c,d);break;case"set_location_and_disable":c=setLocation(m,c,d,!0);break;case"hide_leave_in_total":c=hideAndLeaveTotal(m,c,d);break}}),[...multipleOptionsField$1,...singleOptionsField$1].includes(c.fieldName)?c.displayValue=s.getMultipleOptionsFieldDisplayView(c):["datePicker","validated_form","timePicker"].includes(c.fieldName)||(c.displayValue=s.getCommonFieldDisplayView(c,(o=c.value)==null?void 0:o.toString())),r.updateField(c.alias,c)}}function setLocation(e,t,r,s){const a=useCallbackStore();if(e){if("selectedPoint"in t){const n=r.setVal;if(typeof n>"u")return t;const o=t.multiplyLocations[Number(n)];t.selectedPoint=o,s&&(t.disabled=!0),a.runCallback("updateGeolocation",t.alias)}}else t.disabled=!1,"selectedPoint"in t&&(t.selectedPoint={addressName:"",addressLink:"",latitude:0,longitude:0});return setTimeout(()=>{(!t.hidden||t.calculateHidden)&&applyConditionForField(t.alias)}),t}function hide(e,t,r){const s=checkInConditionHistory(r);return!t.hidden&&e?(addConditionHistory(r),t.hidden=!0):s.length&&!e&&(removeFromConditionHistory(r),conditionsHistory.filter(n=>n.optionTo===r.optionTo&&n.action===r.action).length||(t.hidden=!1),setTimeout(()=>{t.calculateHidden&&applyConditionForField(t.alias)})),t}function hideAndLeaveTotal(e,t,r){const s=checkInConditionHistory(r);return e?(addConditionHistory(r),t.hideAndLeaveTotal=!0):s.length&&!e&&(removeFromConditionHistory(r),conditionsHistory.filter(n=>n.optionTo===r.optionTo&&n.action===r.action).length||(t.hideAndLeaveTotal=!1)),setTimeout(()=>{(!t.hidden||t.calculateHidden)&&applyConditionForField(t.alias)}),t}function show(e,t,r){const s=checkInConditionHistory(r);return e&&!s.length?(addConditionHistory(r),t.hidden=!1,setTimeout(()=>{t.calculateHidden&&applyConditionForField(t.alias)})):s.length&&!e&&(setTimeout(()=>{t.calculateHidden&&applyConditionForField(t.alias)}),removeFromConditionHistory(r),conditionsHistory.filter(n=>n.optionTo===r.optionTo&&n.action===r.action).length||(t.hidden=!0)),t}function disable(e,t,r,s){var o,l;const a=checkInConditionHistory(r),n=useCallbackStore();if(e&&!a.length){if(addConditionHistory(r),r.action==="disable_option"){const u=[];(((l=(o=r.setVal)==null?void 0:o.toString())==null?void 0:l.split(","))||[]).forEach(d=>{u.push(+d)}),"disableOptions"in t&&(t.disableOptions=u,n.runCallback("updateDisableOptions",t.alias,t.disableOptions))}else t.disabled=!0;if(s)switch(s){case"set_value":t=setValue(e,t,r);break;case"select_option":t=selectOption(e,t,r);break;case"set_period":t=setPeriod(e,t,r);break;case"set_date":t=setDate(e,t,r);break}}else a.length&&!e&&(removeFromConditionHistory(r),r.action==="disable_option"&&"disableOptions"in t?(t.disableOptions=[],n.runCallback("updateDisableOptions",t.alias,t.disableOptions)):conditionsHistory.filter(c=>c.optionTo===r.optionTo&&c.action===r.action).length||(t.disabled=!1));return setTimeout(()=>{(!t.hidden||t.calculateHidden)&&applyConditionForField(t.alias)}),t}function unset(e,t){const r=useCallbackStore();return e&&(t.value=fieldMinValue(t),multipleOptionsField$1.includes(t.fieldName)&&"selectedOption"in t&&(t.selectedOption=[]),singleOptionsField$1.includes(t.fieldName)&&"selectedOption"in t&&(t.selectedOption=void 0),t.fieldName==="datePicker"&&"selectedDate"in t&&(t.selectedDate=void 0,r.runCallback("updateDatePicker",t.selectedDate,t.alias))),setTimeout(()=>{(!t.hidden||t.calculateHidden)&&applyConditionForField(t.alias)}),t}function setValue(e,t,r){if(e){const s=Number((r==null?void 0:r.setVal)||0);t.value=prepareSetValue(t,s);const a=useCallbackStore();e&&t.fieldName==="quantity"&&a.runCallback("updateQuantity",!0,t.value,t.alias),e&&t.fieldName==="range"&&a.runCallback("updateRange",t.value,t.alias)}return setTimeout(()=>{(!t.hidden||t.calculateHidden)&&applyConditionForField(t.alias)}),t}function setPeriod(e,t,r){var a;const s=useCallbackStore();if(e){const n=JSON.parse(((a=r==null?void 0:r.setVal)==null?void 0:a.toString())||"{}");if(typeof n.start>"u"||typeof n.end>"u")return t;if(t.fieldName==="multi_range"){let o=0;const{start:l,end:u}=n;u-l>0&&(o=u-l),t.value=o,"values"in t&&(t.values=[l,u],s.runCallback("updateMultiRange",t.values,t.alias))}else if(t.fieldName==="datePicker"){const{parseDate:o}=useDatePickerFieldHelper(),{start:l,end:u}=n,c=o(l),d=o(u);"selectedDate"in t&&(t.selectedDate=[c,d],s.runCallback("updateDatePicker",t.selectedDate,t.alias))}}return setTimeout(()=>{(!t.hidden||t.calculateHidden)&&applyConditionForField(t.alias)}),t}function setTime(e,t,r,s){var n;const a=useCallbackStore();if(e){if("range"in t&&t.range){const o=JSON.parse(((n=r==null?void 0:r.setVal)==null?void 0:n.toString())||"{}");a.runCallback("updateRangeTimePicker",o,t.alias)}else a.runCallback("updateSingleTimePicker",r.setVal,t.alias);s&&(t.disabled=!0)}else t.disabled=!1;return setTimeout(()=>{(!t.hidden||t.calculateHidden)&&applyConditionForField(t.alias)}),t}function setDate(e,t,r){var a;const s=useCallbackStore();if(e&&t.fieldName==="datePicker"){if("range"in t&&t.range||!r.setVal)return t;const{parseDate:n}=useDatePickerFieldHelper(),o=n((a=r==null?void 0:r.setVal)==null?void 0:a.toString());"selectedDate"in t&&(t.selectedDate=o,s.runCallback("updateDatePicker",t.selectedDate,t.alias))}return setTimeout(()=>{(!t.hidden||t.calculateHidden)&&applyConditionForField(t.alias)}),t}function selectOption(e,t,r){var s,a,n;if(e){if(t.value=fieldMinValue(t),multipleOptionsField$1.includes(t.fieldName)&&"selectedOption"in t){t.selectedOption=[];const o=((n=(a=(s=r.setVal)==null?void 0:s.toString())==null?void 0:a.split(","))==null?void 0:n.map(c=>+c))||[],l=t.options.filter((c,d)=>o.includes(d));t.selectedOption=l||[];let u=0;if(l!=null&&l.length){const c=l.map(d=>{var f;return+((f=d.optionValue)==null?void 0:f.split("_")[0])||0});for(const d of c)u+=d}t.value=+u}if(singleOptionsField$1.includes(t.fieldName)&&"selectedOption"in t){t.selectedOption=void 0;const o=t.options.find((u,c)=>c===Number(r.setVal||0));t.selectedOption=o;let l=0;o&&(l=o.optionValue.split("_")[0]||0),t.value=+l}}return setTimeout(()=>{(!t.hidden||t.calculateHidden)&&applyConditionForField(t.alias)}),t}function addConditionHistory(e){return checkInConditionHistory(e).length||conditionsHistory.push(e),conditionsHistory}function removeFromConditionHistory(e){const t=conditionsHistory.findIndex(r=>r.optionTo===e.optionTo&&r.optionFrom===e.optionFrom&&r.action===e.action&&r.sort===e.sort);return t!==-1&&conditionsHistory.splice(t,1),conditionsHistory}function checkInConditionHistory(e){return conditionsHistory.filter(t=>t.optionTo===e.optionTo&&t.optionFrom===e.optionFrom&&t.action===e.action&&e.sort===t.sort)}function evaluateExpression(e){let t=e[0];for(let r=1;r<e.length;r+=2){const s=e[r],a=e[r+1];s==="||"?t=t||a:s==="&&"&&(t=t&&a)}return t}function fieldMinValue(e){return"minValue"in e?Number(e.minValue||0):"min"in e?+e.min:0}function prepareSetValue(e,t){const r=fieldMinValue(e);if(r&&r>t)return r;const s=fieldMinValue(e);return s&&s>t?s:t}function useConditions(){return{addConditions,applyConditionForField,triggerCondition}}const discounts=ref({}),originalDiscounts=ref({}),promocodes=ref([]),originalPromocodes=ref([]);function addDiscounts(e){const t={};e.forEach(r=>{r.isPromo&&r.promocode&&!originalPromocodes.value.includes(r.promocode)&&originalPromocodes.value.push(r.promocode),r.conditions.forEach(s=>{s.fieldAlias.split(",").forEach(n=>{t[n]||(t[n]=[]),t[n].push({...s,isPromo:r.isPromo,promocode:r.promocode,discountId:+r.discountId,discountConditionId:+s.discountConditionId})})}),originalDiscounts.value[+r.discountId]=r}),discounts.value=t}function applyDiscounts(e){var o;if(!discounts.value[e==null?void 0:e.alias])return e;const t=(o=JSON.parse(JSON.stringify(discounts.value[e.alias])))==null?void 0:o.reverse(),r=t.filter(l=>l.isPromo),s=t.filter(l=>!l.isPromo),a=[...r,...s];let n=!1;for(const l of a){const u=originalDiscounts.value[l.discountId];if(u&&isDiscountValid(u)&&evaluateDiscountCondition(e,l)&&checkPromocodeConditions(u)&&!n){const c=calculateDiscount(e.value||0,l);e.value=(e.originalValue||0)-c,e.hasDiscount=!0,e.discount={discountType:l.discountType,isPromo:l.isPromo,promocode:l.promocode,viewType:u.viewType,discountName:u.title,extraView:parseAppliedDiscount(c,u,l,e)},n=!0}}return n||(e.discount=void 0,e.hasDiscount=!1),e}function isDiscountValid(e){const t=new Date().toISOString().split("T")[0];return e.period==="single_day"&&e.singleDate!==t||e.period==="period"&&(t<e.periodStartDate||t>e.periodEndDate)?!1:e.discountStatus==="active"}function checkPromocodeConditions(e){return e.isPromo?promocodes.value.length&&e.isPromo&&!!promocodes.value.includes((e==null?void 0:e.promocode)||""):!0}function evaluateDiscountCondition(e,t){const r=e.value||0;switch(t.conditionSymbol){case"<":return r!==0&&r<+t.overPrice;case">":return r!==0&&r>+t.overPrice;case"=":return r===+t.overPrice;default:return!1}}function calculateDiscount(e,t){return t.discountType==="percent_of_amount"?e*+t.discountAmount/100:+t.discountAmount}function parseAppliedDiscount(e,t,r,s){const a=useCurrency(),n=a.formatCurrency(e,a.getCurrencyOptions(s));return t.viewType==="show_with_title"?`-${n}`:r.discountType==="percent_of_amount"?`${Number(r.discountAmount)}% off`:`-${n} off`}function applyPromocode(e){const{recalculateTotals:t}=useFields(),{triggerCondition:r}=useConditions();promocodes.value.includes(e)||(promocodes.value.push(e),t(),r(),t())}function removePromocode(e){const{recalculateTotals:t}=useFields(),{triggerCondition:r}=useConditions();promocodes.value=promocodes.value.filter((s,a)=>a!==e),t(),r(),t()}function hasPromocodes(){return originalPromocodes.value.length>0}function useDiscounts(){return{addDiscounts,applyDiscounts,applyPromocode,removePromocode,hasPromocodes,promocodes:computed(()=>promocodes.value),originalPromocodes:computed(()=>originalPromocodes.value)}}var RELEASE_TRAIN="v3",runtimeVersionToUrlVersion=function(t){return t===3?"v3":t},ORIGIN="https://js.stripe.com",STRIPE_JS_URL="".concat(ORIGIN,"/v3"),V3_URL_REGEX=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,STRIPE_JS_URL_REGEX=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,EXISTING_SCRIPT_MESSAGE="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",isStripeJSURL=function(t){return V3_URL_REGEX.test(t)||STRIPE_JS_URL_REGEX.test(t)},findScript=function(){for(var t=document.querySelectorAll('script[src^="'.concat(ORIGIN,'"]')),r=0;r<t.length;r++){var s=t[r];if(isStripeJSURL(s.src))return s}return null},injectScript=function(t){var r="",s=document.createElement("script");s.src="".concat(STRIPE_JS_URL).concat(r);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(s),s},registerWrapper=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"5.10.0",startTime:r})},stripePromise$1=null,onErrorListener=null,onLoadListener=null,onError=function(t){return function(r){t(new Error("Failed to load Stripe.js",{cause:r}))}},onLoad=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},loadScript=function(t){return stripePromise$1!==null?stripePromise$1:(stripePromise$1=new Promise(function(r,s){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var a=findScript();if(!(a&&t)){if(!a)a=injectScript(t);else if(a&&onLoadListener!==null&&onErrorListener!==null){var n;a.removeEventListener("load",onLoadListener),a.removeEventListener("error",onErrorListener),(n=a.parentNode)===null||n===void 0||n.removeChild(a),a=injectScript(t)}}onLoadListener=onLoad(r,s),onErrorListener=onError(s),a.addEventListener("load",onLoadListener),a.addEventListener("error",onErrorListener)}catch(o){s(o);return}}),stripePromise$1.catch(function(r){return stripePromise$1=null,Promise.reject(r)}))},initStripe=function(t,r,s){if(t===null)return null;var a=r[0],n=a.match(/^pk_test/),o=runtimeVersionToUrlVersion(t.version),l=RELEASE_TRAIN;n&&o!==l&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("5.10.0"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var u=t.apply(void 0,r);return registerWrapper(u,s),u},stripePromise,loadCalled=!1,getStripePromise=function(){return stripePromise||(stripePromise=loadScript(null).catch(function(t){return stripePromise=null,Promise.reject(t)}),stripePromise)};Promise.resolve().then(function(){return getStripePromise()}).catch(function(e){loadCalled||console.warn(e)});var loadStripe=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];loadCalled=!0;var a=Date.now();return getStripePromise().then(function(n){return initStripe(n,r,a)})};const randomId$1=Math.random().toString(36).substring(2,15),usePaymentStore=defineStore(`paymentStore_${randomId$1}`,()=>{const e=ref(null),t=ref(null),r=ref(""),s=ref(!1),a=ref(""),n=ref(""),o=ref("");return{reset:()=>{r.value="",s.value=!1,o.value=""},updatePaymentType:p=>{p!==r.value&&(r.value=p,useFieldsStore().checkRequiredFields()&&(s.value=!0))},setPaymentMethodId:p=>{a.value=p},setPaymentIntentId:p=>{n.value=p},showForm:s,paymentType:r,stripeInstance:e,cardComponent:t,initializeStripe:async p=>{e.value||(e.value=await loadStripe(p))},setCardComponent:p=>{t.value=p},paymentMethodId:a,paymentIntentId:n,paymentAfterSubmitStoredPm:o,setPaymentAfterSubmitStoredPm:p=>{o.value=p}}}),discountInstance=useDiscounts(),useDiscountsStore=defineStore("discounts",{state:()=>({}),getters:{getUsedPromocodes:()=>discountInstance.promocodes.value||[]},actions:{initDiscounts(e=[]){e=convertKeysToCamelCase(e),discountInstance.addDiscounts(e)},applyDiscount(e){return discountInstance.applyDiscounts(e)}}});function customBtoa(e){typeof e!="string"&&(e=JSON.stringify(e));const t=e.replace(/\\"/g,'\\\\\\"');return window.btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(r,s)=>String.fromCharCode(+("0x"+s))))}var T;const AJAX_URL=((T=window.ajax_window)==null?void 0:T.ajax_url)||"";class SubmitsAPI{static async makeRequest(t){const{action:r,nonce:s,data:a}=t,n=new FormData,o=t.files||[];n.append("action",r),n.append("data",customBtoa(JSON.stringify(a))),n.append("nonce",s),o!=null&&o.length&&o.forEach(l=>{if(Array.isArray(l==null?void 0:l.files))for(const u of l.files)n.append([l.alias,u.name].join("_ccb_"),u)});try{return await(await fetch(AJAX_URL,{method:"POST",body:n})).json()}catch(l){return console.error(`API Request Failed (${r}):`,l),{success:!1,message:typeof l=="object"&&l!==null&&"message"in l?l==null?void 0:l.message:"Request failed"}}}}async function handleSubmissionRequest(e){return await SubmitsAPI.makeRequest(e)}const usePaymentAfterSubmitStore=defineStore("paymentAfterSubmitStore",()=>{const e=ref(!1),t=ref(),r=ref(!1),s=u=>{r.value=u},a=u=>{t.value=u},n=u=>{!u&&!r.value&&(t.value=void 0),e.value=u},o=computed(()=>e.value),l=computed(()=>t.value);return{getSubmit:o,getLastOrderId:l,isPaymentAfterSubmit:r,setSubmit:n,setIsPaymentAfterSubmit:s,setLastOrderId:a}}),useNotificationsStore=defineStore("notifications",()=>{const e=useSettingsStore(),t=ref(!1),r=ref(""),s=ref(""),a=ref(""),n=h=>{t.value=h},o=h=>{r.value=h},l=h=>{a.value=h},u=()=>{c({status:!1,message:"",type:""})},c=h=>{["success","finish"].includes(h.type)&&e.setSummaryDisplayShowSummary(!0),t.value=h.status,r.value=h.message,a.value=h.type,s.value=h.description||""},d=computed(()=>a.value);return{message:r,description:s,notificationStatus:t,updateNotificationStatus:n,updateMessage:o,resetNotifications:u,notificationType:a,updateNotificationType:l,updateNotifications:c,getNotificationType:d}});function splitByLastUnderscore(e){const t=e.lastIndexOf("_");return t!==-1?e.substring(0,t):e}const validateEmail=e=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(String(e).toLowerCase()),orderFormRequiredFields=ref([]),nameFieldValidation=e=>{var t;return e.required?e.type==="name"&&!((t=e.value)!=null&&t.trim()):!1},emailFieldValidation=e=>{var t,r;return e.required?e.type==="email"&&(!((t=e.value)!=null&&t.trim())||!validateEmail(e.value)):e.type==="email"&&(((r=e.value)==null?void 0:r.trim())===""||!validateEmail(e.value))},textFieldValidation$1=e=>{var r,s,a,n;let t=0;return"characterLimit"in e.attributes&&(t=e.attributes.characterLimit||0),["textarea","input-textbox"].includes(e.type)?e.required?!((r=e.value)!=null&&r.trim())||(((s=e.value)==null?void 0:s.length)||0)>t:((a=e.value)==null?void 0:a.trim())===""||(((n=e.value)==null?void 0:n.length)||0)>t:!1},checkCheckboxFieldValidation=e=>e.required?e.type==="checkbox"&&e.value.length===0:!1,commonFieldValidation=e=>{var t;return e.required&&["phone","number"].includes(e.type)?((t=e.value)==null?void 0:t.trim())==="":e.required&&["dropdown","radio","time-picker","date-picker"].includes(e.type)&&!e.value},filterOrderFormRequiredFields=e=>{clearOrderFormRequiredFields();const t=e.filter(r=>nameFieldValidation(r)||emailFieldValidation(r)||commonFieldValidation(r)||textFieldValidation$1(r)||checkCheckboxFieldValidation(r));orderFormRequiredFields.value=t},checkOrderFormRequiredFields$1=e=>(filterOrderFormRequiredFields(e),orderFormRequiredFields.value.length>0),checkFieldRequired$1=e=>orderFormRequiredFields.value.filter(t=>t.id===e.id).length>0,maybeStartOrderFormValidation$1=e=>{orderFormRequiredFields.value.length>0&&filterOrderFormRequiredFields(e)},clearOrderFormRequiredFields=()=>{orderFormRequiredFields.value=[]};function useOrderFormFieldsRequired(){return{checkOrderFormRequiredFields:checkOrderFormRequiredFields$1,clearOrderFormRequiredFields,maybeStartOrderFormValidation:maybeStartOrderFormValidation$1,checkFieldRequired:checkFieldRequired$1}}const{maybeStartOrderFormValidation,checkOrderFormRequiredFields}=useOrderFormFieldsRequired();function initializeFields(e){useOrderFormStore().updateFormFields(e.map(r=>{const s=r.attributes;let a=s.default_value,n=[];return(r.type==="checkbox"||r.type==="dropdown")&&(a=a.map(o=>{const l=o.split(" "),c=+l[l.length-1].split("_")[1];return isNaN(c)||n.push(c),splitByLastUnderscore(o)})),r.type==="formatted-text"&&(a=r.attributes.text),{id:+r.id,type:r.type,label:s.label||"",placeholder:s.placeholder||"",required:s.required==="1",value:a,sortId:Number(r.sort_id||0),fieldWidth:Number(r.field_width||0),...n.length?{selectedIdx:n}:{},attributes:{...s.confirmation?{confirmation:s.confirmation==="1"}:{},...s.confirmation_label?{confirmationLabel:s.confirmation_label}:{},...s.confirmation_placeholder?{confirmationPlaceholder:s.confirmation_placeholder}:{},...s.position?{position:s.position.toLowerCase()==="horizontal"?"horizontal":"vertical"}:{},...s.display?{display:s.display.toLowerCase()==="horizontal"?"horizontal":"vertical"}:{},...s.primary?{primary:s.primary==="1"}:{},...s.character_limit?{characterLimit:Number(s.character_limit||0)}:{},...s.multiselect?{multiselect:s.multiselect==="1"}:{},...s.range?{range:s.range==="1"}:{},...s.format?{format:s.format==="1"}:{},...s.options?{options:s.options}:{}}}}))}function validateForm(){const e=useOrderFormStore();return e.updateErrors({}),e.getFormFields.forEach(t=>{t.required&&!t.value&&e.updateErrors({[t.id]:`${t.label} is required`})}),Object.keys(e.getErrors).length===0}function validateOrderFormSettings(){var c,d,h;const e=useOrderFormStore(),t=useSettingsStore(),r=useNotificationsStore(),s=useAppStore(),a=(c=t.getFormSettings)==null?void 0:c.summaryDisplay,n=useFieldsStore();if(a!=null&&a.enable&&!n.checkRequiredFields())return!0;const o=checkOrderFormRequiredFields(e.getFormFields);if(t.setTermsAndConditionsTrigger(!0),o||t.getTermsAndConditionsStatus)return!0;t.setTermsAndConditionsTrigger(!1);const l=(d=t.getFormSettings)==null?void 0:d.adminEmailAddress,u=(h=t.getFormSettings)==null?void 0:h.emailSubject;return!l||!u?(r.updateNotifications({status:!0,type:"error",message:"Error: Missing Settings!",description:`Please fill in all necessary fields in the settings to complete your <span style="font-weight: 700">Order Form</span> <a href="https://docs.stylemixthemes.com/cost-calculator-builder/pro-plugin-features/send-form" target="_blank">setup</a> in "${s.getCalcTitle}"`}),!0):!1}function submitForm(){validateForm()}function updateValue(e,t,r){const s=useOrderFormStore(),a=s.getFormFields;for(let n=0;n<a.length;n++){const o=a[n];+o.id===e&&(a[n].value=t,typeof r<"u"&&(o.selectedIdx=r))}s.updateFormFields(a),maybeStartOrderFormValidation(a)}function useOrderForm(){return{validateOrderFormSettings,initializeFields,submitForm,updateValue}}const orderFormInstance=useOrderForm(),useOrderFormStore=defineStore("orderForms",{state:()=>({nextButtonStatus:!0,nextButton:!1,contactFormDisabled:!1,formFields:[],errors:{}}),actions:{updateFormFields(e){this.formFields=e},updateErrors(e){this.errors=e},updateNextButtonStatus(e){e===!0&&(this.contactFormDisabled=!1),this.nextButtonStatus=e},updateNextButton(e){this.nextButton=e},updateContactFormDisabled(e){this.contactFormDisabled=e},initOrderForm(e=[]){orderFormInstance.initializeFields(e)},resetBtnData(){const e=useSubmissionStore(),t=usePaymentStore();e.reset(),t.reset(),this.nextButtonStatus=!0,this.nextButton=!1,this.contactFormDisabled=!1}},getters:{getNextButtonStatus:e=>e.nextButtonStatus,getNextButton:e=>e.nextButton,getContactFormDisabled:e=>e.contactFormDisabled,getFormFields:e=>e.formFields,getErrors:e=>e.errors}}),getNonces=()=>"ccb_frontend_nonces"in window&&typeof window.ccb_frontend_nonces=="object"&&window.ccb_frontend_nonces!==null?window.ccb_frontend_nonces:window.ccb_nonces||{},prepareOrderData=(e,t)=>{const r=useAppStore(),s=usePaymentStore(),a=useDiscountsStore(),n=useOrderFormStore(),o=[];if(t!=null&&t.length)for(const m of t)o.push({...m});else for(const m of n.getFormFields)m.type!=="space"&&o.push({...m,attributes:{...m.attributes,label:m.label}});const l=getOrderDetails(),u=l.fields,c=l.hiddenFields,d=s.paymentMethodId||"",h=s.paymentIntentId||"";let f=[];for(const m of getClearFields())if(m.fieldName==="repeater"&&"groupElements"in m){const p=[];m.groupElements.forEach(y=>{if("entries"in y&&typeof y.entries=="function")for(const[g,F]of y.entries())p.push(F)}),f.push({...m,groupElements:p})}else if(m.fieldName==="group"&&"groupElements"in m){const p=[];m.groupElements.forEach(y=>{if("entries"in y&&typeof y.entries=="function")for(const[g,F]of y.entries())p.push(F)}),f=[...f,...p]}else f.push(m);return{orderDetails:u,status:"pending",hiddenOrderDetails:c,paymentMethod:e,descriptions:f,calcName:r.getCalcTitle,id:Number(r.getCalcId||0),promocodes:a.getUsedPromocodes,formDetails:{fields:o},...d?{paymentMethodId:d||""}:{},...h?{paymentIntentId:h||""}:{}}},getUsedFiles=()=>{var a;const{getFields:e}=useFields();let t=e().filter(n=>n.fieldName==="file_upload");e().filter(n=>n.fieldName==="repeater").forEach(n=>{let o={};const l=[];n.groupElements.forEach(c=>{for(const[d,h]of c.entries())h.fieldName==="file_upload"&&l.push(h)});const u=l.map(c=>{if(!o[c.alias]){o[c.alias]=0;const d=`${c.alias}_${o[c.alias]}`;o[c.alias]++,c.options||(c.options={value:void 0}),window.ccb_rep_files&&(c.options.value=window.ccb_rep_files[d]),c.customAlias=d,c.inRepeater=!0}return c});t.push(...u)});const s=[];for(const n of t)n.alias.includes("file_upload")&&s.push({alias:n.customAlias||n.alias,files:(n.inRepeater?(a=n.options)==null?void 0:a.value:n.files)||[],inRepeater:n.inRepeater||!1});return s},getClearFields=()=>{const{getFields:e}=useFields(),t=useSettingsStore();return e().filter(r=>{var s;return r.alias&&!["total","html","line","page_break"].includes(r.fieldName)&&(r.fieldName==="repeater"||r.fieldName==="group"||r.addToSummary===!0||r.addToSummary===!1||r.alias.indexOf("file")!==-1)&&(!r.hidden||r.calculateHidden)&&((s=t.general)!=null&&s.hideEmptyForOrdersPdfEmails?!0:["validated_form","text"].includes(r.fieldName)?r.displayValue:r.value)})},getOrderDetails=()=>{const e=getClearFields(),t=e.map(s=>s.alias),r=e.filter(s=>s.alias&&!t.includes(s.alias));return{fields:orderDetailsHelper(e),hiddenFields:orderDetailsHelper(r)}},orderDetailsHelper=e=>{var r;const t=[];for(const s of e)if(s.fieldName==="repeater"){const a=[];s.groupElements.forEach(n=>{for(const[o,l]of n.entries())a.push({...l})}),t.push({alias:s.alias,groupTitle:s.label,groupElements:orderDetailsHelper(a),length:(r=s.groupElements)==null?void 0:r.length})}else if(s.fieldName==="group")s.groupElements.forEach(a=>{var n;for(const[o,l]of a.entries()){const u={...l,title:l.label||"",originalValue:l.value||0,value:((n=l.displayValue)==null?void 0:n.toString())||"",options:"options"in l?l.options.map(c=>({label:c.optionText||"",value:c.optionConverted||"",converted:c.optionConverted||""})):[]};"options"in u&&Array.isArray(u.options)&&"selectedOption"in u&&Array.isArray(u.selectedOption)&&(u.options=u.selectedOption.map(c=>({label:c.optionText,value:c.optionConverted,converted:c.optionConverted}))),t.push(u)}});else{const a={alias:s.alias,title:s.label,value:s.displayValue,addToSummary:s.addToSummary,originalValue:s.value||0,...typeof s.repeaterIdx<"u"?{idx:s.repeaterIdx}:{}};"selectedOption"in s&&Array.isArray(s.selectedOption)&&(a.temps=s.selectedOption.map(n=>n.optionValue)),"selectedOption"in s&&s.selectedOption&&!Array.isArray(s.selectedOption)&&(a.temps=[s==null?void 0:s.selectedOption.optionValue]),s.alias.includes("file_upload")&&!s.useCurrency&&"extraDisplayView"in s?a.value=s.displayValue||"":"options"in s&&Array.isArray(s.options)&&"selectedOption"in s&&Array.isArray(s.selectedOption)&&(a.options=s.selectedOption.map(n=>({label:n.optionText,value:n.optionConverted,converted:n.optionConverted}))),"summaryView"in s&&s.summaryView&&(a.summary_value=s.displayValue||"",a.summary_view=s.summaryView,"extraDisplayView"in s&&(a.extraView=s.extraDisplayView)),"extraDisplayView"in s&&s.extraDisplayView&&(a.option_unit=s.extraDisplayView.toString()),s.fieldName!=="line"&&t.push(a)}return t},getNonce=e=>getNonces()[e].toString()||"",makePayment=async(e,t)=>{const r=useSubmissionStore(),s=usePaymentStore(),a=prepareOrderData(e);a.orderId=t;const n={data:a,nonce:getNonce("ccb_payment"),action:"ccb_payment",files:getUsedFiles()},o=await handleSubmissionRequest(n);return o.success&&e==="paypal"&&(window.location.href=o.url||""),s.updatePaymentType(""),r.setOrderId(o.orderId),o},makeWooCommercePayment=async(e,t)=>{var u,c;const r=useSubmissionStore(),s=usePaymentStore(),a=prepareOrderData(e);a.orderId=t;const n={data:a,nonce:getNonce("ccb_woocommerce_payment"),action:"ccb_woocommerce_payment",files:getUsedFiles()},o=await handleSubmissionRequest(n);s.updatePaymentType(""),r.setOrderId(o.orderId);const l=useSettingsStore();return((u=l.getWooCheckoutSettings)==null?void 0:u.redirectTo)!=="stay"?(window.location.href=o.page||"",{success:!0,message:"Redirecting..."}):((c=l.getWooCheckoutSettings)==null?void 0:c.redirectTo)==="stay"?{success:!0,message:"Stay on page"}:o},createOrder=async(e,t)=>{var o,l,u,c,d,h;const r=useSettingsStore(),s=useSubmissionStore(),a=usePaymentAfterSubmitStore(),n=prepareOrderData(e,t);if(e==="woocommerce"){if(!((o=r.getWooCheckoutSettings)!=null&&o.productId))return{success:!1,message:"Invalid Product Id"};const f=(l=r.getWooCheckoutSettings)==null?void 0:l.productId,m=(u=r.getWooProductsSettings)==null?void 0:u.currentProductId;n.product_id=f==="current_product"?m:+f}if(a.isPaymentAfterSubmit&&a.getLastOrderId&&e&&e!=="no_payments")return s.setSendPaymentType(e),e==="woocommerce"?await makeWooCommercePayment(e,a.getLastOrderId):await makePayment(e,a.getLastOrderId);{n.isPaymentAfterSubmit=a.isPaymentAfterSubmit,n.orderId=a.getLastOrderId;const f={data:n,nonce:getNonce("ccb_add_order"),action:"create_cc_order",files:getUsedFiles()},m=await handleSubmissionRequest(f);if(m.success&&e==="paypal"&&(window.location.href=m.url||""),a.isPaymentAfterSubmit&&e==="no_payments"&&m.data)a.setLastOrderId(m.data.orderId),a.setSubmit(!0);else if(a.isPaymentAfterSubmit&&e&&e!=="no_payments"){const p=usePaymentStore();a.setSubmit(!1),p.updatePaymentType("")}else{if(e==="woocommerce"&&((c=r.getWooCheckoutSettings)==null?void 0:c.redirectTo)!=="stay")return window.location.href=m.page||"",{success:!0,message:"Redirecting..."};if(e==="woocommerce"&&((d=r.getWooCheckoutSettings)==null?void 0:d.redirectTo)==="stay")return{success:!0,message:"Stay on page"}}return s.setSendPaymentType(e),s.setOrderId(m.orderId?m.orderId:(h=m.data)==null?void 0:h.orderId),m}},completeOrder=async(e,t)=>{if(e){const r=useSubmissionStore(),s={orderId:e,status:t};r.setOrderId(e);const a={data:s,nonce:getNonce("ccb_update_order"),action:"update_order_status"};await handleSubmissionRequest(a)}},razorpayPaymentReceived=async(e,t)=>{const r=prepareOrderData("razorpay");r.orderId=e,r.paymentCurrency=t;const s={data:r,nonce:getNonce("ccb_razorpay_receive"),action:"ccb_razorpay_payment_received"};await handleSubmissionRequest(s)};function useOrder(){return{createOrder,completeOrder,makePayment,razorpayPaymentReceived}}const useSubmissionStore=defineStore("submission",{state:()=>({orderId:void 0,sendPaymentType:""}),actions:{reset(){this.sendPaymentType="",this.orderId=void 0},setSendPaymentType(e){this.sendPaymentType=e},setOrderId(e){this.orderId=e},resetSubmissions(){const e=usePaymentStore(),t=useNotificationsStore();this.reset(),e.reset(),t.resetNotifications(),this.orderId=void 0},submissionCreateOrder(e){const t=useNotificationsStore(),r=useSettingsStore(),s=usePaymentStore(),a=usePaymentAfterSubmitStore();a.getSubmit&&a.setSubmit(!1);const{createOrder:n,completeOrder:o,makePayment:l,razorpayPaymentReceived:u}=useOrder();t.resetNotifications();const c={cash:"cash_payment"},d=useAppStore();e!=null&&e.length||d.setSubmissionLoader(!0);const h=s.paymentType,f=h||"no_payments";if(f==="stripe"){if(s!=null&&s.stripeInstance&&"createPaymentMethod"in s.stripeInstance&&typeof s.stripeInstance.createPaymentMethod=="function"){const p=useOrderFormStore().getFormFields,y={};for(const g of p)g.type==="email"&&(y.email=g.value),g.type==="name"&&(y.name=g.value),g.type==="phone"&&(y.phone=g.value);s.stripeInstance.createPaymentMethod({card:s.cardComponent,type:"card",billing_details:y}).then(async g=>{if(g.error!==void 0&&g.error.message!==void 0)d.setSubmissionLoader(!1),t.updateNotifications({status:!0,type:"error",message:g.error.message});else{const F=g.paymentMethod.id||"";s.setPaymentMethodId(F),n("stripe").then(k=>{let S="";k!=null&&k.success?k!=null&&k.requiresAction&&(s!=null&&s.stripeInstance)?s.stripeInstance.handleCardAction(r.getStripeSecretKey).then(async v=>{v.error?(d.setSubmissionLoader(!1),t.updateNotifications({status:!0,type:"error",message:"Your card was not authenticated!"})):v.paymentIntent.status==="requires_confirmation"&&(s.setPaymentMethodId(""),s.setPaymentIntentId(k.paymentIntentId||""),l("stripe",Number(k.orderId||0)).then(_=>{_.success?S=_.clientSecret||"":(d.setSubmissionLoader(!1),t.updateNotifications({status:!0,type:_.success?"finish":"error",message:_.message}))}))}):(o(k.orderId,"complete"),S=k.clientSecret||""):(d.setSubmissionLoader(!1),t.updateNotifications({status:!0,type:"error",message:(k==null?void 0:k.message)||"Something went wrong"})),S&&(s!=null&&s.stripeInstance)&&s.stripeInstance.retrievePaymentIntent(S).then(()=>{d.setSubmissionLoader(!1),t.updateNotifications({status:!0,type:"finish",message:"Your order has been placed"})})})}}).catch(g=>{d.setSubmissionLoader(!1),t.updateNotifications({status:!0,type:"error",message:g.message})})}}else f==="razorpay"?n("razorpay").then(m=>{if(m!=null&&m.success&&"data"in m){const p=m.data;if(p.key=r.getRazorpayKeyId,p.handler=y=>{var g;if(y){t.updateNotifications({status:!0,type:"finish",message:"Your order has been placed"});const F=(g=p==null?void 0:p.notes)==null?void 0:g.ccb_order_id;u(F,r.getRazorpayPaymentCurrency)}},"Razorpay"in window&&typeof window.Razorpay=="function"){const y=window.Razorpay,g=new y(p);g==null||g.on("payment.failed",F=>{var k;t.updateNotifications({type:"error",message:((k=F==null?void 0:F.error)==null?void 0:k.reason)||"Something went wrong",status:!0})}),g==null||g.open()}}else t.updateNotifications({status:!0,type:"error",message:(m==null?void 0:m.message)||"Something went wrong"})}):n(c[f]||f,e).then(m=>{var p;if(m&&(d.setSubmissionLoader(!1),!a.getSubmit)){const y=f==="woocommerce"?"success":"finish";t.updateNotifications({type:m!=null&&m.success?y:"error",message:m.message?m.message:((p=m==null?void 0:m.data)==null?void 0:p.message)||"",status:!0})}})}},getters:{getOrderId:e=>e.orderId,getSendPaymentType:e=>e.sendPaymentType}}),validateUrl=e=>/^(http(s)?:\/\/)?(www\.)?[a-zA-Z0-9-]+(\.[a-zA-Z]{2,})+(\.[a-zA-Z]{2,})?$/.test(e),scrollIntoRequired=(e,t,r)=>{var o,l;let s=`#ccb_app_${r} div[data-id="${e}"]`;typeof t<"u"&&(s+=`[data-repeater="${t}"]`);const a=((o=$(s).offset())==null?void 0:o.top)||0,n=a-(((l=$(window))==null?void 0:l.scrollTop())||0);(n>((window==null?void 0:window.innerHeight)||0)||n<20)&&$([document.documentElement,document.body]).animate({scrollTop:a-50},500)},isValueInMinMax=e=>{let t=e.value;return e.unit&&e.multiply&&(t=t/e.unit),e.min&&t<e.min?!1:!(e.max&&t>e.max)},fileUploadFieldValidation=e=>{var t;return e.required&&e.fieldName==="file_upload"&&(!("files"in e)||"files"in e&&((t=e.files)==null?void 0:t.length)===0&&e.allowPrice&&e.price>0)},quantityFieldValidation=e=>e.fieldName==="quantity"&&(e.required&&(e.value||0)<=0||!isValueInMinMax(e)),singleOptionFieldValidation=e=>e.required&&["dropDown","radio","radio_with_img","dropDown_with_img"].includes(e.fieldName)&&"selectedOption"in e&&!e.selectedOption,multiOptionsFieldValidation=e=>e.required?["checkbox","toggle","checkbox_with_img"].includes(e.fieldName)&&"selectedOption"in e&&Array.isArray(e.selectedOption)&&(e.selectedOption.length<=0||"minAllowedOptions"in e&&e.selectedOption.length<+e.minAllowedOptions):["checkbox","toggle","checkbox_with_img"].includes(e.fieldName)&&"selectedOption"in e&&Array.isArray(e.selectedOption)&&"minAllowedOptions"in e&&e.selectedOption.length<+e.minAllowedOptions,datePickerFieldValidation=e=>e.required?e.fieldName==="datePicker"&&"selectedDate"in e&&(!e.range&&e.selectedDate===null||e.range&&!Array.isArray(e.selectedDate)||e.range&&Array.isArray(e.selectedDate)&&(e.selectedDate[0]===null||e.selectedDate[1]===null)):e.fieldName==="datePicker"&&"selectedDate"in e&&e.range&&Array.isArray(e.selectedDate)&&(e.selectedDate[0]===null||e.selectedDate[1]===null),textFieldValidation=e=>e.required?e.fieldName==="text"&&(e.displayValue.trim()===""||"numberOfCharacters"in e&&e.numberOfCharacters<e.displayValue.length):e.fieldName==="text"&&"numberOfCharacters"in e&&e.displayValue!==""&&(e.numberOfCharacters||0)!==0&&e.numberOfCharacters<e.displayValue.length,rangeFieldValidation=e=>e.required&&["multi_range","range"].includes(e.fieldName)&&!e.value,validatedFormFieldValidation=e=>e.required?e.fieldName==="validated_form"&&"fieldType"in e&&(e.displayValue.trim()===""||e.fieldType==="email"&&!validateEmail(e.displayValue)||e.fieldType==="website_url"&&!validateUrl(e.displayValue)):"fieldType"in e&&["email","website_url"].includes(e.fieldType)?e.fieldType==="email"&&e.displayValue!==""?!validateEmail(e.displayValue):e.fieldType==="website_url"&&e.displayValue!==""?!validateUrl(e.displayValue):!1:!1,timePickerFieldValidation=e=>e.required&&e.fieldName==="timePicker"&&!Array.isArray(e.displayValue)&&e.displayValue.trim()==="",geolocationFieldValidation=e=>{var t;return e.required&&e.fieldName==="geolocation"&&"displayValue"in e&&((t=e.displayValue)==null?void 0:t.length)===0},applyRequiredFieldsValidation=e=>e.filter(t=>quantityFieldValidation(t)||rangeFieldValidation(t)||multiOptionsFieldValidation(t)||singleOptionFieldValidation(t)||textFieldValidation(t)||validatedFormFieldValidation(t)||datePickerFieldValidation(t)||timePickerFieldValidation(t)||fileUploadFieldValidation(t)||geolocationFieldValidation(t)),resetRequiredFields=()=>{useFieldsStore().setRequiredFields([])},filterRequiredFields=e=>{let t=e;if(e.forEach(r=>{if(r.fieldName==="repeater"&&"groupElements"in r){const s=[];r.groupElements.forEach(a=>{if("entries"in a&&typeof a.entries=="function")for(const[n,o]of a.entries())s.push(o)}),t=[...t,...s]}}),t=t.filter(r=>!r.hidden&&r.fieldName!=="total"&&r.fieldName!=="repeater"),t=applyRequiredFieldsValidation(t),t.length){const r=useAppStore();scrollIntoRequired(t[0].alias,t[0].repeaterIdx,r.getCalcId||0)}return t},hasRequiredFields=e=>{const t=useFieldsStore();resetRequiredFields();const r=filterRequiredFields(e);return t.setRequiredFields(r),t.getRequiredFields.length>0},maybeStartValidation=e=>{const t=useFieldsStore();if(t.getRequiredFields.length>0){const r=filterRequiredFields(e);t.setRequiredFields(r)}},checkFieldRequired=e=>{const t=useFieldsStore();return"repeaterIdx"in e&&typeof e.repeaterIdx<"u"?t.getRequiredFields.filter(r=>r.alias===e.alias&&r.repeaterIdx===e.repeaterIdx).length>0:t.getRequiredFields.filter(r=>r.alias===e.alias).length>0};function useFieldsRequired(){return{hasRequiredFields,resetRequiredFields,maybeStartValidation,checkFieldRequired}}let timeout=null;const discountStore=useDiscounts();function addField(e,t,r){e=convertKeysToCamelCase(e);const s=e.alias.replace(/\_field_id.*/,""),a=e.options||[];if(a.length){for(let o=0;o<(a==null?void 0:a.length);o++){const l=a[o];l.optionValue.includes("_")||(a[o].optionValue=`${l.optionValue}_${o}`)}e.options=a}let n;switch(s){case"quantity":n=createQuantityField(e);break;case"radio":case"dropDown":case"radio_with_img":case"dropDown_with_img":n=createSingleOptionField(e);break;case"checkbox":case"toggle":case"checkbox_with_img":n=createMultiOptionsField(e);break;case"text":n=createTextField(e);break;case"line":n=createDividerField(e);break;case"html":n=createHtmlField(e);break;case"file_upload":n=createFileUploadField(e);break;case"range":n=createRangeField(e);break;case"multi_range":n=createMultiRangeField(e);break;case"geolocation":n=createGeolocationField(e);break;case"datePicker":n=createDatePickerField(e);break;case"timePicker":n=createTimePickerField(e);break;case"total":n=createFormulaField(e);break;case"repeater":n=createRepeaterField(e);break;case"group":n=createGroupField(e);break;case"validated_form":n=createValidatedFormField(e);break}return n&&n.fieldName!=="repeater"&&(n.repeaterIdx=t,"repeaterAlias"in n&&(n.repeaterAlias=r)),n}function addPage(e){useFieldsStore().pages.set(e.alias,e)}function updateField(e,t){var u;const r=useFieldsStore(),s=usePaymentAfterSubmitStore(),n=(u=useSettingsStore().getFormSettings)==null?void 0:u.summaryDisplay;s.getSubmit&&s.setSubmit(!1);const o=useOrderFormStore();if(n!=null&&n.enable||(o.updateNextButton(!1),o.updateNextButtonStatus(!0)),useFieldsRequired().maybeStartValidation(getFieldsArray()),r.fields.has(e)){if(useSubmissionStore().resetSubmissions(),t.fieldName!=="total")r.fields.set(e,t);else{const d=useCurrency();e&&t&&(t.displayValue=d.formatCurrency(t.value||0,d.getCurrencyOptions(t)),r.fields.set(e,t))}debouncedRecalculateTotals()}else"repeaterAlias"in t&&t.repeaterAlias&&debouncedRecalculateTotals()}function resetFields(){useFieldsStore().fields.forEach(t=>{"value"in t&&(t!=null&&t.value)&&(t.value=Number(t.defaultValue||0))})}function getFieldsArray(){const e=useFieldsStore();return Array.from(e.fields.values())}const updateFormulaHook=()=>{setTimeout(()=>{const e=useAppStore(),t=getFieldsArray().filter(n=>n.fieldName==="total"),r=getFieldsArray().filter(n=>n.fieldName==="repeater"),s=[...t,...r],a=new CustomEvent("ccb_formula_update",{detail:{formulas:s,calcId:e.getCalcId}});document.dispatchEvent(a)})},debouncedRecalculateTotals=()=>{const e=useCurrency(),t=useFieldsStore();t.getDefaultTotals||t.setDefaultTotals({label:"Total",fieldName:"total",value:0,displayValue:e.formatCurrency(0,e.getCurrencyOptions())}),timeout&&clearTimeout(timeout),timeout=setTimeout(()=>{recalculateTotals(),updateFormulaHook()},300)};function recalculateTotals(){const fieldsArray=getFieldsArray(),currencyFormatter=useCurrency(),repeaterFields=fieldsArray.filter(e=>e.fieldName==="repeater");let repeaterValue=0;for(let repeater of repeaterFields){if(repeater.sumAllAvailable||repeater.enableFormula)if(repeater.sumAllAvailable){for(const e of repeater.groupElements)for(const t of e.values())repeaterValue+=t.value||0;repeater.value=repeaterValue,repeater.originalValue=repeaterValue,repeater.displayValue=currencyFormatter.formatCurrency(repeaterValue,currencyFormatter.getCurrencyOptions(repeater))}else{let i=0;const repeaterFormulas={};repeater.originalFormula||(repeater.originalFormula=repeater.formula);for(const e of repeater.groupElements)repeaterFormulas[i]=repeater.originalFormula,(repeaterFormulas[i].match(/\w+_field_id_\d+/g)||[]).forEach(r=>{for(const s of e.values())if(s.alias===r){let a=s.value||0;repeaterFormulas[i]=repeaterFormulas[i].replace(new RegExp("\\b"+r+"\\b","g"),a.toString())}}),i++;repeater.formula=Object.keys(repeaterFormulas).map(e=>`(${repeaterFormulas[e].trim()})`).join(" + "),repeater.originalValue=eval(repeater.formula),repeater.value=repeater.originalValue,repeater=discountStore.applyDiscounts(repeater)}repeater.displayValue=currencyFormatter.formatCurrency(repeater.value||0,currencyFormatter.getCurrencyOptions(repeater)),repeater.originalDisplayView=currencyFormatter.formatCurrency(repeater.originalValue||0,currencyFormatter.getCurrencyOptions(repeater))}const totalFields=fieldsArray.filter(e=>e.fieldName==="total").sort((e,t)=>e.id-t.id);if(repeaterFields.length||totalFields.length){const e={},t={};totalFields.forEach(r=>{!r.originalFormula&&r.formula?r.originalFormula=r.formula:r.formula=r.originalFormula,(r.formula.match(/total_field_id_\d+/g)||[]).length===0?e[r.alias]=r:t[r.alias]=r}),Object.values(e).forEach(evaluateFormula),Object.keys(t).forEach(r=>{const s=t[r];evaluateFormula(s),e[r]||(e[r]=s,delete t[r])})}else{const e=fieldsArray.reduce((r,s)=>(r+=s.value||0,r),0),t=useFieldsStore();t.getDefaultTotals&&(t.getDefaultTotals.label="Total",t.getDefaultTotals.value=e,t.getDefaultTotals.displayValue=currencyFormatter.formatCurrency(e,currencyFormatter.getCurrencyOptions()))}}const evaluateFormula=total=>{const currencyFormatter=useCurrency(),fieldsStore=useFieldsStore(),fieldsMap=fieldsStore.fields,mergedFieldsMap=new Map;for(const[e,t]of fieldsMap)if("groupElements"in t)for(const r of t.groupElements){mergedFieldsMap.set(e,t);for(const s of r.values())mergedFieldsMap.set(s.alias,s)}else mergedFieldsMap.set(e,t);const fieldsAliasList=total.formula.match(/\w+_field_id_\d+/g)||[];fieldsAliasList.forEach(e=>{const t=mergedFieldsMap.get(e);if(t){let r=t.hidden&&!t.calculateHidden?0:t.value||0;total.formula=total.formula.replace(new RegExp("\\b"+e+"\\b","g"),r.toString())}}),total.originalValue=eval(total.formula),total.value=total.originalValue,total=discountStore.applyDiscounts(total),total.displayValue=currencyFormatter.formatCurrency(total.value||0,currencyFormatter.getCurrencyOptions(total)),total.originalDisplayView=currencyFormatter.formatCurrency(total.originalValue||0,currencyFormatter.getCurrencyOptions(total)),fieldsMap.set(total.alias,total)};function getField(e){return useFieldsStore().fields.get(e)}function setPageBreakEnabled(e){const t=useFieldsStore();t.pageBreakEnabled=e}function getPageBreakEnabled(){return useFieldsStore().pageBreakEnabled}function getPages(){const e=useFieldsStore();return Array.from(e.pages.values())}function parseContactFormDescriptions(){const e=getFieldsArray(),t=[],r=["total","html","line"];for(const a of e)if(!r.includes(a.fieldName)&&!(["validated_form","text"].includes(a.fieldName)&&a.displayValue===""||!a.value))if(a.fieldName==="repeater"&&"groupElements"in a){t.push(a);for(const n of a.groupElements)for(const o of n.values())t.push(o)}else t.push(a);let s="";for(const a of t)a.hidden||(s+=`
${a.label} ${a.displayValue}`);return`${s}
`}function parseContactFormTotals(e){const t=getFieldsArray();let r="";for(const s of t)e.includes(s.alias)&&!s.hidden&&(r+=`
${s.label} ${s.displayValue}`);if(!r){const s=t.find(a=>a.fieldName==="total"||a.fieldName==="repeater");s&&(r=`
${s.label} ${s.displayValue}`)}return r}function getActivePage(){const t=useFieldsStore().activePageIndex;return getPages()[t]}function updateActivePageIndex(e){const t=useFieldsStore();t.activePageIndex=e}function getPageIndex(e){return getPages().findIndex(s=>s.alias===e)}function useFields(){return{getField,addField,updateField,resetFields,getFields:getFieldsArray,recalculateTotals:debouncedRecalculateTotals,setPageBreakEnabled,getPageBreakEnabled,addPage,getPages,getActivePage,updateActivePageIndex,getPageIndex,parseContactFormDescriptions,parseContactFormTotals}}const fieldsInstance=useFields(),requiredFieldsInstance=useFieldsRequired(),randomId=Math.random().toString(36).substring(2,15),useFieldsStore=defineStore(`fieldsStore_${randomId}`,{state:()=>({fields:new Map,pages:new Map,defaultTotals:null,activePageIndex:0,pageBreakEnabled:!1,requiredFields:[]}),getters:{getActivePageIndex(){return this.activePageIndex},getRequiredFields(e){return e.requiredFields},getFields(){return fieldsInstance.getFields()},getPages(){return fieldsInstance.getPages()||[]},getPageBreakFields(){const e=fieldsInstance.getPages();return e?e.filter(t=>t.type==="page-break"):[]},getSummaryList(){var t;const e=useSettingsStore();if(Array.isArray(this.getFields)){let r=this.getFields.filter(s=>!(["total","line","html"].includes(s.fieldName)||!s.addToSummary));return(t=e.general)!=null&&t.hideEmpty||(r=r.filter(s=>["validated_form","text"].includes(s.fieldName)?s.displayValue:s.value||s.fieldName==="repeater")),r}return[]},getTotalsList(e){var r,s;const t=useSettingsStore();if(Array.isArray(this.getFields)){let a=(r=this.getFields)==null?void 0:r.filter(n=>n.fieldName==="total"||n.fieldName==="repeater"&&(n.sumAllAvailable||n.enableFormula));return a.length===0?[e.defaultTotals]:((s=t.general)!=null&&s.hideEmpty||(a=a.filter(n=>n.value)),a)}return[e.defaultTotals]},getField(){return e=>fieldsInstance.getField(e)},getDefaultTotals(e){return e.defaultTotals}},actions:{setRequiredFields(e){this.requiredFields=e},updateActivePageIndex(e){this.activePageIndex=e},initPageBreaker(e=[]){for(const t of e)t.type==="page-break"&&fieldsInstance.addPage(t)},initFields(e=[]){const t=useAppStore(),r=["radio_with_img","dropDown_with_img","checkbox_with_img","file_upload","multi_range","geolocation","datePicker","timePicker","repeater","group","validated_form"],s=useConditionsStore();for(const a of e){const n=a.alias.replace(/\_field_id.*/,"");if(!(!t.isProActive&&r.includes(n)))if(a.type==="page-break"&&a.groupElements)a.groupElements.forEach(o=>{const l=o.alias.replace(/\_field_id.*/,"");if(!(!t.isProActive&&r.includes(l)))if(o.type==="Group"&&o.groupElements){const u=fieldsInstance.addField(o);u&&this.fields.set(o.alias,u),o.groupElements.forEach(c=>{const d=fieldsInstance.addField(c);this.fields.set(c.alias,d)})}else{const u=fieldsInstance.addField(o);this.fields.set(o.alias,u)}}),fieldsInstance.setPageBreakEnabled(!0);else if(a.type==="Group"&&a.groupElements){const o=fieldsInstance.addField(a);o&&this.fields.set(a.alias,o),a.groupElements.forEach(l=>{if(l.type==="Total"){const u=fieldsInstance.addField(l);this.fields.set(l.alias,u)}})}else{const o=fieldsInstance.addField(a);o&&this.fields.set(a.alias,o)}}this.recalculateTotals(),s.triggerCondition()},updateField(e,t){fieldsInstance.updateField(e,t)},recalculateTotals(){fieldsInstance.recalculateTotals()},checkRequiredFields(){return!requiredFieldsInstance.hasRequiredFields(fieldsInstance.getFields())},checkPageRequiredFields(e){return!requiredFieldsInstance.hasRequiredFields(e)},checkFieldRequired(e){return requiredFieldsInstance.checkFieldRequired(e)},setDefaultTotals(e){this.defaultTotals=e}}}),conditions=ref({}),multipleOptionsField=["checkbox","checkbox_with_img","toggle"],singleOptionsField=["dropDown","dropDown_with_img","radio","radio_with_img"],disableNextButton=ref(!1);function initPageConditions(){useFieldsStore().getPages.filter(r=>"groupElements"in r&&"conditions"in r).forEach(r=>{conditions.value={...conditions.value,[r.alias]:r.conditions}})}function checkPageFieldsConditions(){const e=useFieldsStore(),t=[],r=useFields().getActivePage(),s=r.condition;Array.isArray(r.conditions)&&r.conditions.forEach(n=>{const o=e.getField(n.field);if(!o)return!1;const l=checkFieldCondition(o,n);t.push(l)});let a=!1;return s==="and"?a=t.every(n=>n):s==="any"&&(a=t.some(n=>n)),r.action==="not_skip"&&(disableNextButton.value=a),a}function checkFieldCondition(e,t){var a,n;let r=!1;const s=e.value;switch(t.condition){case"==":if(singleOptionsField.includes(e.fieldName)&&"selectedOption"in e&&!Array.isArray(e.selectedOption)){const o=((n=(a=e==null?void 0:e.selectedOption)==null?void 0:a.optionValue)==null?void 0:n.split("_")[1])||void 0;o===void 0?r=!1:r=t.key==="any"?!!o:+o==+t.key}else r=s===+t.value;break;case"!=":r=s!==+t.value;break;case">=":r=Number(s||0)>+t.value;break;case"<=":r=Number(s||0)<+t.value;break;case"in":if(multipleOptionsField.includes(e.fieldName)&&"selectedOption"in e){const o=Array.isArray(e.selectedOption)?e.selectedOption:[],l=(o==null?void 0:o.map(u=>{var c;return+((c=u.optionValue)==null?void 0:c.split("_")[1])}))||[];r=Array.from(t.checkedValues).every(u=>l.includes(u))}break;case"not in":if(multipleOptionsField.includes(e.fieldName)&&"selectedOption"in e){const l=(Array.isArray(e.selectedOption)?e.selectedOption:[]).map(u=>{var c;return+((c=u.optionValue)==null?void 0:c.split("_")[1])})||[];r=Array.from(t.checkedValues).every(u=>!l.includes(u))}break;case"contains":if(multipleOptionsField.includes(e.fieldName)&&"selectedOption"in e){const l=(Array.isArray(e.selectedOption)?e.selectedOption:[]).map(u=>{var c;return+((c=u.optionValue)==null?void 0:c.split("_")[1])})||[];r=t.key==="any"?l.length>0:l.includes(Number(t.key))}break;default:r=!1}return r}function usePageConditions(){return{checkPageFieldsConditions,initPageConditions,disableNextButton}}const _hoisted_1$1={class:"ccb-loader"},_sfc_main$1=defineComponent({__name:"Loader",setup(e){const t=useAppearanceStore(),r=computed(()=>{if(Number(t.getAppearanceLoaderType)===0)return defineAsyncComponent(()=>__vitePreload(()=>import("./default-CX1CDf19.js"),__vite__mapDeps([0]),import.meta.url));if(Number(t.getAppearanceLoaderType)===1)return defineAsyncComponent(()=>__vitePreload(()=>import("./dots-nm3S4Xyt.js"),__vite__mapDeps([1]),import.meta.url));if(Number(t.getAppearanceLoaderType)===2)return defineAsyncComponent(()=>__vitePreload(()=>import("./lazyDots-DT4FNsHv.js"),__vite__mapDeps([2]),import.meta.url));if(Number(t.getAppearanceLoaderType)===3)return defineAsyncComponent(()=>__vitePreload(()=>import("./segment-Dza6x9NT.js"),__vite__mapDeps([3]),import.meta.url));if(Number(t.getAppearanceLoaderType)===4)return defineAsyncComponent(()=>__vitePreload(()=>import("./spinner-CsjfLlOF.js"),__vite__mapDeps([4]),import.meta.url))});return(s,a)=>(openBlock(),createElementBlock("div",_hoisted_1$1,[(openBlock(),createBlock(resolveDynamicComponent(r.value)))]))}}),_hoisted_1={class:"ccb-app-container"},_sfc_main=defineComponent({__name:"App",setup(e){const t=useAppStore(),r=useAppearanceStore(),s=useSettingsStore(),a=useFieldsStore(),n=useConditionsStore(),o=useDiscountsStore(),l=useOrderFormStore(),u=usePageConditions(),c=useTranslationsStore(),d=inject("calc_id"),h=`calc_data_${d}`,f=window[h];"settings"in f&&(t.setProStatus(f.pro_active),t.setCalcId(+d),t.setCalcId(f.settings.calc_id),t.setDateFormat(f.dateFormat),t.setCalcTitle(f.settings.title),s.initSettingsStore(f.settings),r.initAppearanceStore(f.appearance),l.initOrderForm(f.form_fields),s.initGeolocationSettingsStore(f.geolocation),s.initPdfSettings(f.pdf_settings),s.initQuoteSettings(f.quote_settings),c.initTranslations(f.translations));const m=computed(()=>t.isThankYouPage?defineAsyncComponent(()=>__vitePreload(()=>import("./index-DHYu4yvI.js"),__vite__mapDeps([5]),import.meta.url)):defineAsyncComponent(()=>__vitePreload(()=>import("./index-BkAjG_KZ.js").then(p=>p.i),__vite__mapDeps([5,6]),import.meta.url)));return onMounted(()=>{t.checkIfLive(),n.initConditions(f.conditions),n.initWooProductsConditions(),a.initFields(f.fields),a.initPageBreaker(f.fields),o.initDiscounts(f.discounts),u.initPageConditions(),window.addEventListener("load",()=>{setTimeout(()=>t.updateAppLoader(!1),0)})}),(p,y)=>(openBlock(),createElementBlock("div",_hoisted_1,[withDirectives(createBaseVNode("div",null,[(openBlock(),createBlock(resolveDynamicComponent(m.value)))],512),[[vShow,!unref(t).getAppLoader]]),withDirectives(createVNode(unref(_sfc_main$1),null,null,512),[[vShow,unref(t).getAppLoader]])]))}}),rootElements=document.querySelectorAll(".ccb-main-widget");rootElements.forEach(e=>{const t=ref(null),r=e.getAttribute("data-calc-id"),s=createApp(_sfc_main).provide("calc_id",r);t.value=s;const a=createPinia();s.use(a),s.mount(e)});export{_sfc_main$1 as _,useSettingsStore as a,useAppStore as b,useSubmissionStore as c,usePaymentAfterSubmitStore as d,usePaymentStore as e,useFieldsStore as f,useDiscounts as g,useOrderFormStore as h,useFields as i,useNotificationsStore as j,usePageConditions as k,customBtoa as l,useCallbackStore as m,useConditionsStore as n,useSingleField as o,useCurrency as p,useDatePickerFieldHelper as q,validateUrl as r,useOrderForm as s,useOrderFormFieldsRequired as t,useAppearanceStore as u,validateEmail as v,splitByLastUnderscore as w};
//# sourceMappingURL=widget-D6xpv4O_.js.map
