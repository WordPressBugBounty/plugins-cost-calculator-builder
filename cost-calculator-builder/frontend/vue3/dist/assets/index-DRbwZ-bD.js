import{d as D,B as E,e as V,f as v,c as o,o as a,l as i,m as d,h as I,u as t,N as L,L as l,Q as C,M as A,I as N,E as F}from"./runtime-dom.esm-bundler-B-pJJbN8.js";import{f as M,u as R,n as W,o as z,i as Q,k as $}from"./widget-CzevC9ht.js";import{_ as j}from"./RequiredHint.vue_vue_type_style_index_0_lang-D_vz_XyH.js";import{u as G}from"./translationsStore-DAijv8YO.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./jquery-C7OTzgKr.js";const J={class:"ccb-field__label"},K={class:"ccb-field__title"},U={key:0,class:"ccb-field-required-mark"},X={key:0,class:"ccb-field__descriptions ccb-before"},Y={key:0,class:"ccb-field__description"},Z={class:"ccb-dropdown"},ee={key:0,class:"ccb-dropdown__label"},se={key:1,class:"ccb-dropdown__label"},te={class:"ccb-dropdown__list"},ae=["onClick"],oe={class:"ccb-dropdown--option-label"},ie={key:0,class:"ccb-dropdown--option-converted"},le={key:1,class:"ccb-field__descriptions ccb-after"},ne={key:0,class:"ccb-field__description"},ce=D({__name:"Dropdown",props:{field:{}},setup(S){const m=Q(),x=$(),B=S,{field:e}=E(B),k=M(),T=z(),g=R(),O=W(),u=G(),r=V(!1),p=V(null),w=()=>{r.value?document.removeEventListener("click",f):document.addEventListener("click",f),r.value=!r.value},f=s=>{p.value&&"contains"in p.value&&!p.value.contains(s.target)&&(r.value=!1,document.removeEventListener("click",f))},h=(s,n=!0)=>{var c;if((s==null?void 0:s.optionValue)!==((c=b.value)==null?void 0:c.optionValue)){let _=0;s!=null&&s.optionValue&&e.value.summaryView!=="show_label_not_calculable"&&(_=+(s==null?void 0:s.optionValue).split("_")[0]||0),e.value.selectedOption=s,e.value.value=_,e.value.displayValue=T.getMultipleOptionsFieldDisplayView(e.value),k.updateField(e.value.alias,e.value),O.applyConditionForField(e.value.alias),m.getPageBreakEnabled()&&m.getActivePage().action==="not_skip"&&x.checkPageFieldsConditions()}n&&w()},b=v(()=>e.value.selectedOption),P=v(()=>{var s;return(s=e.value.options)==null?void 0:s.map(n=>({...n}))}),y=v(()=>k.checkFieldRequired(e.value)),q=v(()=>{var s;return((s=e.value)==null?void 0:s.additionalStyles)||""});return(s,n)=>(a(),o("div",{class:F(["ccb-field ccb-dropdown-field",{active:r.value,required:y.value,"ccb-field-disabled":t(e).disabled,[q.value]:!0}])},[i("div",J,[y.value?(a(),I(j,{key:0,text:t(u).getTranslations.requiredField},null,8,["text"])):d("",!0),i("div",K,[L(l(t(e).label),1),t(e).required?(a(),o("span",U,"*")):d("",!0)])]),t(g).getAppearanceDescriptionPosition==="before"?(a(),o("div",X,[t(e).description?(a(),o("div",Y,l(t(e).description),1)):d("",!0)])):d("",!0),i("div",{class:"ccb-field__input-wrapper",ref_key:"dropdownWrapper",ref:p},[i("div",Z,[i("div",{class:"ccb-dropdown__input",onClick:w},[b.value?(a(),o("span",se,l(b.value.optionText),1)):(a(),o("span",ee,l(t(u).getTranslations.selectValue),1)),n[1]||(n[1]=i("span",{class:"ccb-dropdown__icon"},[i("i",{class:"ccb-icon-Path-3485"})],-1))]),i("div",te,[i("ul",null,[i("li",{onClick:n[0]||(n[0]=C(()=>h(void 0,!0),["prevent"]))},l(t(u).getTranslations.selectValue),1),(a(!0),o(A,null,N(P.value,(c,_)=>(a(),o("li",{key:c.optionValue,onClick:C(()=>h(c),["prevent"]),class:F(["ccb-dropdown--option",{"ccb-option-disabled":t(e).disableOptions.includes(_)}])},[i("span",oe,l(c.optionText),1),t(e).showValueInOption?(a(),o("span",ie,l(t(u).getTranslations.price)+": "+l(c.optionConverted),1)):d("",!0)],10,ae))),128))])])])],512),t(g).getAppearanceDescriptionPosition==="after"?(a(),o("div",le,[t(e).description?(a(),o("div",ne,l(t(e).description),1)):d("",!0)])):d("",!0)],2))}}),be=H(ce,[["__scopeId","data-v-0ff33d66"]]);export{be as default};
//# sourceMappingURL=index-DRbwZ-bD.js.map
