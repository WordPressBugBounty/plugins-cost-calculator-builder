const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./vue3-apexcharts-CVOFrM66.css","./index-ChG-KUZ6.css","./main-CWmBI_q2.css","./PieChart-By7vKXm6.css"])))=>i.map(i=>d[i]);
import{d as k,c as h,a as W,_ as L,l,o as r,F as y,z as E,b as $,q as S,r as F,t as A,k as I,m as O,C as T,n,u as a,s as f,A as D,G as x,p as P,w as U,O as B,D as N}from"./pinia-Bf90yW2D.js";import{u as V}from"./index-zJ5WwVDM.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{S as z,m as M}from"./vue3-apexcharts-MBY3P6gO.js";import"./vue-datepicker-BwVPix_-.js";/* empty css             */const q={class:"ccb-singlepage-content"},G=k({__name:"ChartsSection",setup(m){const e=V(),d=h(()=>e.getSingleCharts),p=h(()=>c=>{if(c==="bar")return W(()=>L(()=>import("./BarChart-CUCOBqU7.js"),__vite__mapDeps([0,1,2]),import.meta.url));if(c==="columns")return W(()=>L(()=>import("./ColumnsChart-Dra1CrgD.js"),__vite__mapDeps([0,1,2]),import.meta.url));if(c==="line")return W(()=>L(()=>import("./LinearChart-PqW3TRSS.js"),__vite__mapDeps([0,1,2]),import.meta.url));if(c==="pie")return W(()=>L(()=>import("./PieChart-BVZ2iAyK.js"),__vite__mapDeps([0,1,2,3]),import.meta.url))}),_=h(()=>e.getChartsPageSettings);return(c,u)=>(r(),l("div",q,[(r(!0),l(y,null,E(d.value,g=>(r(),l(y,{key:g.key},[_.value[g.key]?(r(),$(F(p.value(g.type)),{key:g.key,chart:g,page:"single"},null,8,["chart"])):S("",!0)],64))),128))]))}}),H=w(G,[["__scopeId","data-v-36759fb2"]]),K={key:0,class:"ccb-widget-settings-dropdown"},j={class:"ccb-widget-settings-list"},J=["onClick"],Q=k({__name:"WidgetSettings",props:{items:{},current:{}},emits:["update"],setup(m,{emit:e}){const d=m,p=e,{items:_,current:c}=A(d),u=I(!1),g=I(null);function b(){u.value=!u.value}function i(o){u.value=!1,p("update",o.value,c.value||"")}const s=()=>{u.value=!1},t=o=>{g.value&&!g.value.contains(o.target)&&s()};return O(()=>{document.addEventListener("click",t)}),T(()=>{document.removeEventListener("click",t)}),(o,v)=>(r(),l("div",{class:"ccb-widget-settings-wrapper",ref_key:"dropdownRef",ref:g},[n("div",{class:"ccb-widget-settings-block",onClick:b},v[0]||(v[0]=[n("span",null,null,-1),n("span",null,null,-1),n("span",null,null,-1)])),u.value?(r(),l("div",K,[n("div",j,[(r(!0),l(y,null,E(a(_),C=>(r(),l("div",{key:C.value,class:"ccb-widget-settings-item",onClick:Ee=>i(C)},f(C.label),9,J))),128))])])):S("",!0)],512))}}),R=w(Q,[["__scopeId","data-v-e41820f3"]]),X={class:"ccb-dashboard-card card-wrapper"},Y={class:"ccb-dashboard-content"},Z={class:"ccb-dashboard-content-header"},ee={class:"ccb-dashboard-title"},te={key:0,class:"ccb-dashboard-currency"},se={class:"ccb-dashboard-sub"},ne={class:"ccb-dashboard-content-footer"},ae={class:"ccb-dashboard-value"},ie={class:"ccb-dashboard-chart"},ce=k({__name:"LargeWidget",props:{cart:{},items:{},currency:{}},emits:["change"],setup(m,{emit:e}){const d=V(),p=e,_=m,{cart:c,items:u}=A(_),g=(i,s)=>{p("change",i,s)},b=h(()=>i=>{const s=parseFloat(i);return s>1e3?(s/1e3).toFixed(1)+"k":s});return(i,s)=>(r(),l("div",X,[a(d).isLoading?(r(),$(a(z),{key:0})):S("",!0),n("div",{class:D(["ccb-dashboard-card-wrapper",{"is-loading":a(d).isLoading}])},[n("div",Y,[n("div",Z,[n("div",ee,[x(f(a(c).title)+" ",1),i.currency&&a(c).key==="revenue"?(r(),l("span",te," ("+f(i.currency)+") ",1)):S("",!0)]),n("div",se,[P(a(R),{items:a(u),onUpdate:g,current:a(c).key},null,8,["items","current"])])]),n("div",ne,[n("div",ae,f(b.value(a(c).value)),1)])]),n("div",ie,[P(a(M),{options:a(c).options,series:a(c).series,width:"100%",height:"24"},null,8,["options","series"])])],2)]))}}),oe=w(ce,[["__scopeId","data-v-bc0e2d20"]]),re={class:"ccb-dashboard-card card-wrapper"},de={class:"ccb-dashboard-content"},le={class:"ccb-dashboard-content-header"},ge={class:"ccb-dashboard-title"},ue={key:0,class:"ccb-dashboard-currency"},_e={class:"ccb-dashboard-sub"},pe={class:"ccb-dashboard-content-footer"},ve={class:"ccb-dashboard-value"},me=k({__name:"SmallWidget",props:{cart:{},items:{},currency:{}},emits:["change"],setup(m,{emit:e}){const d=V(),p=e,_=m,{cart:c,items:u}=A(_),g=(i,s)=>{p("change",i,s)},b=h(()=>i=>{const s=parseFloat(i);return s>1e3?(s/1e3).toFixed(1)+"k":s});return(i,s)=>(r(),l("div",re,[a(d).isLoading?(r(),$(a(z),{key:0})):S("",!0),n("div",{class:D(["ccb-dashboard-card-wrapper",{"is-loading":a(d).isLoading}])},[n("div",de,[n("div",le,[n("div",ge,[x(f(a(c).title)+" ",1),i.currency&&a(c).key==="revenue"?(r(),l("span",ue," ("+f(i.currency)+") ",1)):S("",!0)]),n("div",_e,[P(a(R),{items:a(u),onUpdate:g,current:a(c).key},null,8,["items","current"])])]),n("div",pe,[n("div",ve,f(b.value(a(c).value)),1)])])],2)]))}}),be=w(me,[["__scopeId","data-v-9abbf4bf"]]),he={class:"ccb-singlepage-sidebar"},fe={class:"ccb-singlepage-add-widget-container"},Se={class:"ccb-singlepage-widgets-options"},ye={class:"ccb-singlepage-widget-option"},ke={class:"ccb-singlepage-widget-option-select"},we=["value"],Ce={class:"ccb-dashboard-row"},$e=k({__name:"WidgetsSection",setup(m){const e=V(),d=I(""),p=h(()=>e.getSingleCarts),_=I([{value:"hide",label:"Hide"},{value:"small/large",label:"Small/Large"},{value:"delete",label:"Delete"}]),c=h(()=>e.getWidgetsPageSettings),u=h(()=>{const i=e.getSingleCarts.map(s=>s.key);return e.getAvailableWidgets.filter(s=>!i.includes(s.key))}),g=()=>{var i;if((i=d.value)!=null&&i.trim()){if(e.getSingleCarts.find(o=>o.key===d.value.trim()))return;const t=u.value.find(o=>o.key===d.value);if(t){t.size="large",t.options={...t.options,chart:{...t.options.chart}};const o=[...e.getSingleCarts,t],v=e.getSolidPageSettings;v.widgets||(v.widgets={}),v.widgets[t.key||""]=!0,e.updatePageSettings(v),e.updateSingleCarts(o),e.saveWidgets(),e.savePageSettings()}}d.value=""},b=(i,s)=>{const t=e.getSingleCarts.find(o=>o.key===s);if(t){if(i==="hide"){const o=e.getSolidPageSettings;t.key&&t.key in o.widgets&&(o.widgets[t.key]=!1,e.updatePageSettings(o),e.saveWidgets(),e.savePageSettings())}if(i==="small/large"&&(t.size=t.size==="large"?"small":"large",e.updateSingleCarts(e.getSingleCarts),e.saveWidgets()),i==="delete"){const o=e.getSolidPageSettings;if(t.key&&t.key in o.widgets){delete o.widgets[t.key];const v=e.getSingleCarts.filter(C=>C.key!==s);e.updateSingleCarts(v),e.updatePageSettings(o),e.saveWidgets(),e.savePageSettings()}}}};return(i,s)=>(r(),l("div",he,[n("div",fe,[n("div",Se,[n("div",ye,[s[2]||(s[2]=n("span",null,"Type",-1)),n("div",ke,[U(n("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>d.value=t)},[s[1]||(s[1]=n("option",{value:"",selected:""},"Select widget",-1)),(r(!0),l(y,null,E(u.value,t=>(r(),l("option",{value:t.key},f(t.title),9,we))),256))],512),[[B,d.value]])])])]),n("button",{class:D(["ccb-singlepage-add-widget",{"ccb-is-loading-for-settings":a(e).isLoading||!d.value}]),onClick:N(g,["prevent"])}," Add widget ",2)]),n("div",Ce,[(r(!0),l(y,null,E(p.value,(t,o)=>(r(),l(y,{key:o},[c.value[t.key||""]&&t.size==="large"?(r(),$(a(oe),{key:0,cart:t,items:_.value,onChange:b,currency:a(e).getCurrency},null,8,["cart","items","currency"])):S("",!0),c.value[t.key||""]&&t.size==="small"?(r(),$(a(be),{key:1,cart:t,items:_.value,onChange:b,currency:a(e).getCurrency},null,8,["cart","items","currency"])):S("",!0)],64))),128))])]))}}),Pe=w($e,[["__scopeId","data-v-32cb9cff"]]),We={class:"ccb-singlepage-layout"},Le=k({__name:"SinglePage",setup(m){return(e,d)=>(r(),l("div",We,[P(H),P(Pe)]))}}),Re=w(Le,[["__scopeId","data-v-2465b9ea"]]);export{Re as default};
//# sourceMappingURL=SinglePage-D_HXdajg.js.map
