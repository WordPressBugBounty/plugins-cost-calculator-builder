{"version":3,"file":"Input-DNlAyu0Y.js","sources":["../../src/widget/features/calculator-fields/components/Range/styles/Input.vue"],"sourcesContent":["<template>\n  <div class=\"slider-wrapper ccb-input-range-field\">\n    <div class=\"slider-input\">\n      <input\n        type=\"number\"\n        v-model=\"realValue\"\n        :min=\"min\"\n        :max=\"max\"\n        @change=\"minValueInput\"\n      />\n    </div>\n    <Slider\n      v-model=\"realValue\"\n      :min=\"min\"\n      :max=\"max\"\n      :step=\"step\"\n      :disabled=\"field.disabled\"\n      show-tooltip=\"focus\"\n      class=\"custom-slider\"\n      :format=\"getFormatValue\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { toRefs, computed, watch, ref } from \"vue\";\nimport Slider from \"@vueform/slider\";\nimport { IRangeField } from \"@/widget/shared/types/fields\";\n\ntype Props = {\n  field: IRangeField;\n  modelValue: number;\n};\n\nconst props = defineProps<Props>();\nconst emit = defineEmits<{\n  (event: \"update:modelValue\", value: number): void;\n}>();\n\nconst realValue = ref(props.modelValue);\n\nconst { field } = toRefs(props);\n\nconst min = computed(() => Number(field.value.min));\nconst max = computed(() => Number(field.value.max));\nconst step = computed(() =>\n  field.value.jump ? 1 : Number(field.value.step || 1),\n);\n\nconst minValueInput = (e: Event) => {\n  const target = e.target as HTMLInputElement;\n  const value = Number(target.value);\n  if (value < min.value) {\n    target.value = min.value.toString();\n    realValue.value = min.value;\n  }\n\n  if (value > max.value) {\n    target.value = max.value.toString();\n    realValue.value = max.value;\n  }\n};\n\nconst getFormatValue = (num: number): string => {\n  const rounded = num.toFixed(2);\n  return parseFloat(rounded).toString();\n};\n\nwatch(\n  () => props.modelValue,\n  (val) => {\n    realValue.value = val;\n  },\n);\n\nwatch(realValue, (val) => {\n  emit(\"update:modelValue\", val);\n});\n</script>\n\n<style lang=\"scss\">\n.ccb-input-range-field {\n  position: relative;\n  padding: 6px 8px 10px 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  .slider-base {\n    height: 8px;\n  }\n\n  .slider-tooltip {\n    margin-bottom: 16px !important;\n  }\n\n  .slider-handle {\n    width: 32px !important;\n    height: 32px !important;\n    top: calc(\n      (var(--slider-handle-height, 16px) - var(--slider-height, 6px)) / 2 * -1 +\n        -8px\n    ) !important;\n    background-color: #fff;\n    box-shadow: 0px 5px 30px 0px rgba(0, 0, 0, 0.1);\n  }\n\n  .slider-handle {\n    z-index: 1;\n\n    &.slider-active {\n      border: 1px solid var(--ccb-fields-border-color);\n    }\n  }\n\n  .custom-slider {\n    flex: 1;\n    min-width: 0;\n    padding-left: 26px;\n  }\n\n  .slider-input {\n    width: 55px !important;\n    flex-shrink: 0;\n    input {\n      box-sizing: border-box;\n      appearance: none;\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      border: none;\n      outline: none;\n      background: none;\n      padding: 0;\n      margin: 0;\n      color: var(--ccb-text-color);\n\n      border-radius: 4px;\n      border: 1px solid var(--ccb-fields-border-color);\n      width: 55px !important;\n      padding: 10px;\n\n      &::-webkit-outer-spin-button,\n      &::-webkit-inner-spin-button {\n        -webkit-appearance: none;\n        margin: 0;\n      }\n\n      &[type=\"number\"] {\n        -moz-appearance: textfield;\n      }\n    }\n  }\n}\n</style>\n"],"names":["props","__props","emit","__emit","realValue","ref","field","toRefs","min","computed","max","step","minValueInput","e","target","value","getFormatValue","num","rounded","watch","val"],"mappings":"0XAkCA,MAAMA,EAAQC,EACRC,EAAOC,EAIPC,EAAYC,EAAIL,EAAM,UAAU,EAEhC,CAAE,MAAAM,CAAA,EAAUC,EAAOP,CAAK,EAExBQ,EAAMC,EAAS,IAAM,OAAOH,EAAM,MAAM,GAAG,CAAC,EAC5CI,EAAMD,EAAS,IAAM,OAAOH,EAAM,MAAM,GAAG,CAAC,EAC5CK,EAAOF,EAAS,IACpBH,EAAM,MAAM,KAAO,EAAI,OAAOA,EAAM,MAAM,MAAQ,CAAC,CACrD,EAEMM,EAAiBC,GAAa,CAClC,MAAMC,EAASD,EAAE,OACXE,EAAQ,OAAOD,EAAO,KAAK,EAC7BC,EAAQP,EAAI,QACPM,EAAA,MAAQN,EAAI,MAAM,SAAS,EAClCJ,EAAU,MAAQI,EAAI,OAGpBO,EAAQL,EAAI,QACPI,EAAA,MAAQJ,EAAI,MAAM,SAAS,EAClCN,EAAU,MAAQM,EAAI,MAE1B,EAEMM,EAAkBC,GAAwB,CACxC,MAAAC,EAAUD,EAAI,QAAQ,CAAC,EACtB,OAAA,WAAWC,CAAO,EAAE,SAAS,CACtC,EAEA,OAAAC,EACE,IAAMnB,EAAM,WACXoB,GAAQ,CACPhB,EAAU,MAAQgB,CAAA,CAEtB,EAEMD,EAAAf,EAAYgB,GAAQ,CACxBlB,EAAK,oBAAqBkB,CAAG,CAAA,CAC9B"}