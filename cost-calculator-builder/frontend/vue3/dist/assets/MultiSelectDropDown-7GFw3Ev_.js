import{u as F}from"./useOrderFormDropdown-BuxaiDHG.js";import{t as N}from"./widget-vibN-GXC.js";import{u as M}from"./translationsStore-B4g6iBqy.js";import{d as A,t as O,k as W,c as y,m as q,l as u,o as i,p as l,u as o,q as p,F as w,y as x,D as E,s as v}from"./pinia-CqDt-rav.js";import"./jquery-C7OTzgKr.js";const L={class:"ccb-dropdown multi-select"},P={key:0,class:"anchor ccb-heading-5 ccb-light-3 ccb-selected"},R=["onClick"],$={key:1,class:"anchor ccb-heading-5 ccb-light ccb-selected"},j={key:2,class:"anchor ccb-heading-5 ccb-light-3"},z={class:"ccb-order-dropdown__list"},G={class:"ccb-default-checkbox"},H=["for"],J=["id","name","checked","value","onChange"],K={class:"ccb-checkbox-label"},ee=A({__name:"MultiSelectDropDown",props:{field:{}},emits:["toggle"],setup(V,{emit:T}){const C=T,_=V,{field:e}=O(_),b=W(null),{toggleBody:m}=F(_,C,b),g=M(),S=a=>{var r;const s=((r=e.value.selectedIdx)==null?void 0:r.filter(t=>t!==a))||[];e.value.selectedIdx=s},n=y(()=>e.value.selectedIdx||[]),D=a=>{var h,f,k;let s=e.value.selectedIdx||[];n.value.includes(a)?s=((h=e.value.selectedIdx)==null?void 0:h.filter(d=>d!==a))||[]:s.push(a);let r=[];const t=((k=(f=e.value)==null?void 0:f.attributes)==null?void 0:k.options)||[];for(let d=0;d<t.length;d++){const B=t[d];s.includes(d)&&r.push(B.optionText||"")}const{updateValue:c}=N();e.value.value=r,c(e.value.id,e.value.value,s)},I=y(()=>Math.random().toString(36).substring(2,15));return q(()=>{var a;Array.isArray((a=e.value)==null?void 0:a.value)&&(e.value.value=e.value.value[0])}),(a,s)=>{var r;return i(),u("div",{class:"ccb-field__input-wrapper",ref_key:"dropdownWrapper",ref:b},[l("div",L,[l("div",{class:"ccb-order-dropdown__input",onClick:s[0]||(s[0]=(...t)=>o(m)&&o(m)(...t))},[s[1]||(s[1]=l("i",{class:"ccb-icon-Path-3485 ccb-select-arrow"},null,-1)),o(e).attributes&&o(e).attributes.options&&n.value.length>0?(i(),u("span",P,[n.value.length&&n.value.length<3?(i(!0),u(w,{key:0},x(n.value,(t,c)=>(i(),u("span",{class:"selected",key:c},[E(v(o(e).attributes.options[t].optionText)+" ",1),l("i",{class:"ccb-icon-close",onClick:h=>S(t)},null,8,R)]))),128)):p("",!0)])):p("",!0),n.value.length>=3?(i(),u("span",$,v(n.value.length)+" "+v(o(g).getTranslations.optionsSelected),1)):p("",!0),n.value.length===0?(i(),u("span",j,v(o(g).getTranslations.selectValues),1)):p("",!0)]),l("div",z,[l("ul",null,[(r=o(e).attributes)!=null&&r.options?(i(!0),u(w,{key:0},x(o(e).attributes.options,(t,c)=>(i(),u("li",{key:c},[l("div",G,[l("label",{for:o(e).id+"order_dropdown_checkbox_"+c},[l("input",{type:"checkbox",id:o(e).id+"order_dropdown_checkbox_"+c,name:I.value,checked:n.value.includes(c),value:t.optionText,onChange:()=>D(c)},null,40,J),l("span",K,v(t.optionText),1)],8,H)])]))),128)):p("",!0)])])])],512)}}});export{ee as default};
//# sourceMappingURL=MultiSelectDropDown-7GFw3Ev_.js.map
