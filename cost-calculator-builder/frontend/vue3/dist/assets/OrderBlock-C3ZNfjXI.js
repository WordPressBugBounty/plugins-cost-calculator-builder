import{Q as ge}from"./browser-CdqJbDhe.js";import{u as he,c as E}from"./Orders--qyyg-8T.js";import{a as fe,C as ke,k as xe,b as i,m as l,g as u,p as n,q as w,N,D as d,F as S,H as I,L as j,I as we}from"./convert-case-to-camel-case.utils-DRsbC-qG.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./AdminHeader-9XKcH3dM.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./index-xsH4HHeE.js";import"./orders-D-qMG5eV.js";/* empty css               */import"./index-BZCOha1n.js";import"./vue-datepicker-CIUlv0WE.js";/* empty css             */const Se={class:"pdf-total-summary",style:{padding:"20px 30px"}},Ce={class:"pdf-total-summary--header-name",style:{width:"46%"}},Be={class:"pdf-total-summary--header-unit",style:{width:"34%"}},ze={class:"pdf-total-summary--header-total",style:{width:"20%","text-align":"right"}},$e={class:"pdf-total-summary--body"},Te={class:"pdf-total-summary--body-items"},Oe={class:"pdf-total-summary--body-item-name",style:{width:"46%"}},Ne={class:"pdf-total-summary--body-item-name-title"},De={key:0,class:"pdf-total-summary--body-item-name-extra"},Ae={class:"ccb-pdf-extra-wrap-label"},Ie={class:"ccb-pdf-extra-wrap-value",style:{"white-space":"nowrap"}},Le={key:0,class:"pdf-total-summary--body-item-name-extra"},Pe={class:"ccb-pdf-extra-wrap",style:{"padding-left":"10px"}},Ve={class:"ccb-pdf-extra-wrap-label"},Qe={class:"pdf-total-summ ary--body-item-total",style:{width:"46%","text-align":"right","font-weight":"700"}},Re={key:1,style:{"list-style":"none"}},Fe={class:"pdf-total-summary--body-item-box pdf-keep"},qe={key:0,class:"pdf-order-block-qr-code"},He=["src"],Ue={class:"pdf-order-block-payment-info pdf-keep"},Ge={class:"pdf-order-block-payment-info--totals"},Me={class:"total-item-discount__title-box"},Ee={class:"total-item-discount__title-box-value"},je={class:"total-item-discount__value"},Je={class:"pdf-order-block-total-info"},Ke={style:{display:"flex","column-gap":"4px","align-items":"center"}},We={class:"pdf-order-block-payment-info--payment-item",style:{"box-sizing":"border-box"}},Xe={key:0},Ye={key:1},Ze={key:0,class:"pdf-order-block-promocodes",style:{opacity:"0.7",padding:"0 10px"}},et={class:"ccb-payment-info-images"},tt={class:"ccb-payment-info-image"},at=["src"],st={class:"ccb-payment-info-image"},ot=["src"],gt=fe({__name:"OrderBlock",props:{pdf:{},item:{},content:{}},setup(J){const C=he(),K=J,{item:r,content:W}=ke(K),V=xe(""),X=e=>{ge.toDataURL(e).then(a=>{V.value=a})},Y=e=>E(Number(e.total_amount),{currency:e.currency.currency_sign,currencyPosition:e.currency.currency_position,numAfterInteger:e.currency.number_of_decimals,thousandsSeparator:e.currency.thousand_separator,decimalSeparator:e.currency.decimal_separator}),Q=i(()=>e=>{const a=C.getCurrentOrder;return E(Number(e),{currency:a.currency.currency_sign,currencyPosition:a.currency.currency_position,numAfterInteger:a.currency.number_of_decimals,thousandsSeparator:a.currency.thousand_separator,decimalSeparator:a.currency.decimal_separator})}),Z=i(()=>e=>{if(e.discount.discount_view==="show_with_title")return e.discount.discount_title||"Discount";if(e.discount.discount_type==="percent_of_amount")return`${e.discount.discount_amount}%`;const a=Q.value(Number(e.discount.discount_amount||0));return e.discount.discount_view==="show_with_title"?`-${a}`:`-${a} off`}),ee=i(()=>Y(C.getCurrentOrder)),te=i(()=>{var a,t,s,o,p,m,y,_,v,b,g,h,f,k;let e={flex:1};if((t=(a=r.value)==null?void 0:a.tabs)!=null&&t.design){const c=r.value.tabs.design;(p=(o=(s=c.data)==null?void 0:s.tableBackground)==null?void 0:o.data)!=null&&p.status&&(e={flex:1,backgroundColor:(y=(m=c.data)==null?void 0:m.tableBackground)==null?void 0:y.value}),(b=(v=(_=c.data)==null?void 0:_.tableText)==null?void 0:v.data)!=null&&b.status&&(e.color=(h=(g=c.data)==null?void 0:g.tableText)==null?void 0:h.value),(k=(f=c.data)==null?void 0:f.fontSize)!=null&&k.value&&(e.fontSize=`${c.data.fontSize.value}px`)}return e}),ae=i(()=>{var a,t,s,o,p,m,y,_,v,b,g,h,f,k,c,x,B,z,$,T,O,D,A,P,M;let e={padding:0,height:"max-content"};if((p=(o=(s=(t=(a=r.value)==null?void 0:a.tabs)==null?void 0:t.lines)==null?void 0:s.data)==null?void 0:o.showBorder)!=null&&p.value){const ye=(b=(v=(_=(y=(m=r.value)==null?void 0:m.tabs)==null?void 0:y.lines)==null?void 0:_.data)==null?void 0:v.borderBorderSize)==null?void 0:b.value,_e=(c=(k=(f=(h=(g=r.value)==null?void 0:g.tabs)==null?void 0:h.lines)==null?void 0:f.data)==null?void 0:k.borderColor)==null?void 0:c.value,ve=((T=($=(z=(B=(x=r.value)==null?void 0:x.tabs)==null?void 0:B.lines)==null?void 0:z.data)==null?void 0:$.borderStyle)==null?void 0:T.value)||"solid",be=(M=(P=(A=(D=(O=r.value)==null?void 0:O.tabs)==null?void 0:D.lines)==null?void 0:A.data)==null?void 0:P.angleBorderSize)==null?void 0:M.value;e.border=`${ye}px ${ve} ${_e}`,e.borderRadius=`${be}px`}return e}),R=i(()=>{var e,a,t,s,o;return((o=(s=(t=(a=(e=r.value)==null?void 0:e.tabs)==null?void 0:a.images)==null?void 0:t.data)==null?void 0:s.signatureImage)==null?void 0:o.value)||""}),se=i(()=>{var e,a,t,s,o;return{width:`${((o=(s=(t=(a=(e=r.value)==null?void 0:e.tabs)==null?void 0:a.images)==null?void 0:t.data)==null?void 0:s.signatureSize)==null?void 0:o.value)||0}px`}}),oe=i(()=>{var e,a,t,s,o;return{width:`${((o=(s=(t=(a=(e=r.value)==null?void 0:e.tabs)==null?void 0:a.images)==null?void 0:t.data)==null?void 0:s.stampSize)==null?void 0:o.value)||0}px`}}),F=i(()=>{var e,a,t,s,o;return((o=(s=(t=(a=(e=r.value)==null?void 0:e.tabs)==null?void 0:a.images)==null?void 0:t.data)==null?void 0:s.stampImage)==null?void 0:o.value)||""}),ne=i(()=>{var a,t,s,o,p,m,y,_,v,b,g,h,f,k;let e={};if((t=(a=r.value)==null?void 0:a.tabs)!=null&&t.design){const c=r.value.tabs.design;(p=(o=(s=c.data)==null?void 0:s.headingBackground)==null?void 0:o.data)!=null&&p.status&&(e={backgroundColor:(y=(m=c.data)==null?void 0:m.headingBackground)==null?void 0:y.value}),(b=(v=(_=c.data)==null?void 0:_.headingText)==null?void 0:v.data)!=null&&b.status&&(e.color=(h=(g=c.data)==null?void 0:g.headingText)==null?void 0:h.value),(k=(f=c.data)==null?void 0:f.titleFontSize)!=null&&k.value&&(e.fontSize=`${c.data.titleFontSize.value}px`)}return e}),L=i(()=>{var e;return((e=W.value)==null?void 0:e.promocodes)||[]}),re=i(()=>{var e,a,t,s,o;return((o=(s=(t=(a=(e=r.value)==null?void 0:e.tabs)==null?void 0:a.content)==null?void 0:t.data)==null?void 0:s.showHeading)==null?void 0:o.value)||!1}),le=i(()=>{var e,a,t,s,o;return((o=(s=(t=(a=(e=r.value)==null?void 0:e.tabs)==null?void 0:a.content)==null?void 0:t.data)==null?void 0:s.headingName)==null?void 0:o.value)||""}),ue=i(()=>{var e,a,t,s,o;return((o=(s=(t=(a=(e=r.value)==null?void 0:e.tabs)==null?void 0:a.content)==null?void 0:t.data)==null?void 0:s.headingUnit)==null?void 0:o.value)||""}),ie=i(()=>{var e,a,t,s,o;return((o=(s=(t=(a=(e=r.value)==null?void 0:e.tabs)==null?void 0:a.content)==null?void 0:t.data)==null?void 0:s.headingValue)==null?void 0:o.value)||""}),ce=i(()=>{var e;return(((e=C.getCurrentOrder)==null?void 0:e.calculator_fields)||[]).sort((a,t)=>a.sort_id-t.sort_id).filter(a=>!a.alias.includes("repeater"))}),de=i(()=>{var a,t,s,o,p,m,y,_,v,b,g,h,f,k,c,x,B,z,$,T;let e={};if((p=(o=(s=(t=(a=r.value)==null?void 0:a.tabs)==null?void 0:t.lines)==null?void 0:s.data)==null?void 0:o.showLines)!=null&&p.value){const O=(b=(v=(_=(y=(m=r.value)==null?void 0:m.tabs)==null?void 0:y.lines)==null?void 0:_.data)==null?void 0:v.lineBorderSize)==null?void 0:b.value,D=(c=(k=(f=(h=(g=r.value)==null?void 0:g.tabs)==null?void 0:h.lines)==null?void 0:f.data)==null?void 0:k.lineBorderStyle)==null?void 0:c.value,A=(T=($=(z=(B=(x=r.value)==null?void 0:x.tabs)==null?void 0:B.lines)==null?void 0:z.data)==null?void 0:$.lineBorderColor)==null?void 0:T.value;e={borderBottom:`${O}px ${D} ${A}`}}return e}),pe=i(()=>{var a,t,s,o,p,m,y,_,v,b;const e=((p=(o=(s=(t=(a=r.value)==null?void 0:a.tabs)==null?void 0:t.content)==null?void 0:s.data)==null?void 0:o.showQrCode)==null?void 0:p.value)||!1;if(e){const g=((b=(v=(_=(y=(m=r.value)==null?void 0:m.tabs)==null?void 0:y.content)==null?void 0:_.data)==null?void 0:v.qrCodeLink)==null?void 0:b.value)||"https://google.com";X(g)}return e}),q=i(()=>{var t,s;const e=((t=C.getCurrentOrder)==null?void 0:t.totals)||[];return[...((s=C.getCurrentOrder)==null?void 0:s.other_totals)||[],...e]}),H=i(()=>{var e,a,t,s,o;return((o=(s=(t=(a=(e=r.value)==null?void 0:e.tabs)==null?void 0:a.content)==null?void 0:t.data)==null?void 0:s.showPaymentMethod)==null?void 0:o.value)||!1}),U=i(()=>{var e,a,t,s,o;return((o=(s=(t=(a=(e=r.value)==null?void 0:e.tabs)==null?void 0:a.content)==null?void 0:t.data)==null?void 0:s.showGrandTotal)==null?void 0:o.value)||!1}),me=i(()=>{var a,t,s,o,p,m,y,_,v,b,g,h,f,k,c,x,B,z,$,T,O;let e={};if(!H.value&&!U.value||!((a=q.value)!=null&&a.length))return e;if((m=(p=(o=(s=(t=r.value)==null?void 0:t.tabs)==null?void 0:s.lines)==null?void 0:o.data)==null?void 0:p.showLines)!=null&&m.value){const D=(g=(b=(v=(_=(y=r.value)==null?void 0:y.tabs)==null?void 0:_.lines)==null?void 0:v.data)==null?void 0:b.lineBorderSize)==null?void 0:g.value,A=(x=(c=(k=(f=(h=r.value)==null?void 0:h.tabs)==null?void 0:f.lines)==null?void 0:k.data)==null?void 0:c.lineBorderStyle)==null?void 0:x.value,P=(O=(T=($=(z=(B=r.value)==null?void 0:B.tabs)==null?void 0:z.lines)==null?void 0:$.data)==null?void 0:T.lineBorderColor)==null?void 0:O.value;e={borderTop:`${D}px ${A} ${P}`}}return e}),G=i(()=>{var e;return((e=C==null?void 0:C.getCurrentOrder)==null?void 0:e.payment_type_label)||""});return(e,a)=>(u(),l("div",{class:"ccb-pdf-layout__item order_block",style:N(te.value)},[n("div",{class:"ccb-pdf-layout__item--wrapper order_block","data-id":"order_block",style:N(ae.value)},[n("div",Se,[re.value?(u(),l("div",{key:0,class:"pdf-total-summary--header",style:N(ne.value)},[n("span",Ce,d(le.value),1),n("span",Be,d(ue.value),1),n("span",ze,d(ie.value),1)],4)):w("",!0),n("div",$e,[n("div",Te,[(u(!0),l(S,null,I(ce.value,t=>(u(),l("div",{class:"pdf-total-summary--body-item pdf-keep",key:t.label,style:N(de.value)},[n("span",Oe,[n("span",Ne,d(t.label),1),t.alias.includes("checkbox")||t.alias.includes("toggle")?(u(),l(S,{key:0},[t.summary_view==="show_value"&&"options"in t&&Array.isArray(t.options)&&t.options.length>0?(u(),l("span",De,[(u(!0),l(S,null,I(t.options,s=>(u(),l("span",{class:"ccb-pdf-extra-wrap",key:s.label,style:{"padding-left":"10px"}},[n("span",Ae,d(s.label),1),n("span",Ie,d(s.value),1)]))),128))])):w("",!0)],64)):(u(),l(S,{key:1},["option_unit"in t&&t.option_unit?(u(),l("span",Le,[n("span",Pe,[n("span",Ve,d(t.option_unit),1)])])):w("",!0)],64))]),n("span",Qe,[t.alias.includes("checkbox")||t.alias.includes("toggle")?(u(),l(S,{key:0},[t.summary_view==="show_value"?(u(),l(S,{key:0},[j(d(t.converted),1)],64)):(u(),l("ul",Re,[(u(!0),l(S,null,I(t.options,s=>(u(),l("li",{key:s.optionValue},d(s.label),1))),128))]))],64)):(u(),l(S,{key:1},[j(d(t.value),1)],64))])],4))),128)),n("div",Fe,[pe.value?(u(),l("div",qe,[n("img",{src:V.value,alt:"QR Code"},null,8,He)])):w("",!0),n("div",Ue,[n("div",Ge,[(u(!0),l(S,null,I(q.value,t=>{var s;return u(),l("span",{key:t.label,class:"pdf-order-block-payment-info--totals-item pdf-keep",style:{"box-sizing":"border-box"}},[t.has_discount&&t.discount?(u(),l("span",{key:0,class:we(["total-item-discount",{"with-badge":((s=t==null?void 0:t.discount)==null?void 0:s.discount_view)==="show_without_title"}])},[n("span",Me,[a[0]||(a[0]=n("span",{class:"total-item-discount__title-box-label"},"Discount: ",-1)),n("span",Ee,d(Z.value(t)),1)]),n("span",je,d(Q.value(t.discount.before_discount_value||0)),1)],2)):w("",!0),n("span",Je,[n("span",Ke,d(t.label),1),n("span",null,d(t.converted),1)])])}),128))]),n("div",{class:"pdf-order-block-payment-info--payment",style:N(me.value)},[n("span",We,[H.value&&G.value?(u(),l("span",Xe," Payment method: "+d(G.value),1)):w("",!0),U.value?(u(),l("span",Ye,d(ee.value),1)):w("",!0)])],4),L.value&&L.value.length>0?(u(),l("div",Ze,[a[1]||(a[1]=n("span",null,"Applied promocodes: ",-1)),n("span",null,[(u(!0),l(S,null,I(L.value,(t,s)=>(u(),l("span",{key:s},d(t)+d(s<L.value.length-1?", ":""),1))),128))])])):w("",!0)])]),n("div",et,[n("div",tt,[F.value?(u(),l("img",{key:0,src:F.value,alt:"stamp-image",style:N(oe.value)},null,12,at)):w("",!0)]),n("div",st,[R.value?(u(),l("img",{key:0,src:R.value,alt:"signature-image",style:N(se.value)},null,12,ot)):w("",!0)])])])])])],4)],4))}});export{gt as default};
//# sourceMappingURL=OrderBlock-C3ZNfjXI.js.map
