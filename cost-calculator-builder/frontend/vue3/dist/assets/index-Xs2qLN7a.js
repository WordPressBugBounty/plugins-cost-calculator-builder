import{u as M,f as Q,n as W,m as z,q as L,o as j}from"./widget-Bz06zDR2.js";import{Q as G}from"./vue-datepicker-CXFWgY7D.js";/* empty css             */import{c as I}from"./ThankYouPage-BvV35OvX.js";import{_ as J}from"./RequiredHint.vue_vue_type_style_index_0_lang-D9F99cWG.js";import{u as K}from"./translationsStore-C4wu_Y0X.js";import{d as O,B as X,f as r,c as u,o as n,l as D,m as d,h as Y,u as s,N as Z,a as V,L as m,E as ee}from"./runtime-dom.esm-bundler-q8x4SZ5d.js";import"./jquery-C7OTzgKr.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const ae={class:"ccb-field__label"},te={class:"ccb-field__title"},le={key:0,class:"ccb-field-required-mark"},se={key:0,class:"ccb-field__descriptions ccb-before"},re={key:0,class:"ccb-field__description"},ie={class:"ccb-field__input-wrapper"},oe={key:1,class:"ccb-field__descriptions ccb-after"},ne={key:0,class:"ccb-field__description"},_e=O({__name:"DatePicker",props:{field:{}},setup(C){const P=C,{field:e}=X(P),_=M(),b=Q(),F=W(),g=j(),x=z(),A=K(),{parseDate:k,getDaysDifference:h,displayValueHelper:p}=L(),q=()=>p(l.value),l=r({get(){return e.value.selectedDate},set(a){e.value.selectedDate=a}}),w=r(()=>b.checkFieldRequired(e.value)),E=r(()=>e.value.placeholder?e.value.placeholder:"Select Date"),f=r(()=>{var a;return e.value.isHaveUnselectable?(a=e.value.notAllowedWeekDays)==null?void 0:a.map(t=>t===7?0:t):[]}),B=r(()=>{var i;const a=new Date;let t=[];if(!e.value.isHaveUnselectable)return t;for(let o=1;o<=e.value.daysFromCurrent;o++){const c=new Date(a);c.setDate(c.getDate()+o),t.push(c)}return(i=e.value.notAllowedDates)!=null&&i.current&&t.push(a),t}),H=r(()=>{var a;return e.value.isHaveUnselectable&&((a=e.value.notAllowedDates)!=null&&a.allPast)?new Date:""}),N=r(()=>{const a=[];if(!e.value.isHaveUnselectable)return a;const t=e.value.notAllowedDates;if(t&&t.period&&t.period.length)for(const i of t.period){const o=new Date(k(i.start||"")),c=new Date(k(i.end||""));for(let v=new Date(o);v<=c;v.setDate(v.getDate()+1))a.push(new Date(v))}return a}),y=r(()=>[...N.value,...B.value]),U=r(()=>{var a;return e.value.dayPriceEnabled?e.value.useCurrency||e.value.fieldCurrency?g.getCommonFieldDisplayView(e.value):((a=e.value.value)==null?void 0:a.toString())||"":p(l.value)}),$=r(()=>{var a;if(e.value.dayPriceEnabled){const t=[p(l.value)],i=e.value.useCurrency||e.value.fieldCurrency?g.getCommonFieldDisplayView(e.value):(a=e.value.value)==null?void 0:a.toString();if(e.value.range&&Array.isArray(l.value)){const o=h(l.value[0],l.value[1],e.value,y.value,f.value);o&&t.push(`${o} day(s) x ${e.value.dayPrice}`)}else l.value&&t.push(`1 day(s) x ${i}`);return t}return[]}),T=r(()=>e.value.dayPriceEnabled?Array.isArray(l.value)?h(l.value[0],l.value[1],e.value,y.value,f.value)*e.value.dayPrice:(l.value?1:0)*e.value.dayPrice:0),S=(a,t)=>{t&&t!==e.value.alias||(e.value.selectedDate=a||void 0,e.value.value=T.value,e.value.displayValue=U.value,e.value.extraDisplayView=$.value,b.updateField(e.value.alias,e.value),F.applyConditionForField(e.value.alias))},R=r(()=>{var a;return((a=e.value)==null?void 0:a.additionalStyles)||""});return x.add("updateDatePicker",S),(a,t)=>(n(),u("div",{class:ee(["ccb-field ccb-datePicker",{required:w.value,"ccb-field-disabled":s(e).disabled,[R.value]:!0}])},[D("div",ae,[w.value?(n(),Y(J,{key:0,text:s(A).getTranslations.requiredField},null,8,["text"])):d("",!0),D("div",te,[Z(m(s(e).label),1),s(e).required?(n(),u("span",le,"*")):d("",!0),V(I)])]),s(_).descriptionPosition==="before"?(n(),u("div",se,[s(e).description?(n(),u("div",re,m(s(e).description),1)):d("",!0)])):d("",!0),D("div",ie,[V(s(G),{modelValue:l.value,"onUpdate:modelValue":[t[0]||(t[0]=i=>l.value=i),S],"auto-apply":s(e).autoCloseEnabled,range:s(e).range,placeholder:E.value,"enable-time-picker":!1,"disabled-week-days":f.value,"disabled-dates":y.value,"min-date":H.value,format:q},null,8,["modelValue","auto-apply","range","placeholder","disabled-week-days","disabled-dates","min-date"])]),s(_).descriptionPosition==="after"?(n(),u("div",oe,[s(e).description?(n(),u("div",ne,m(s(e).description),1)):d("",!0)])):d("",!0)],2))}});export{_e as default};
//# sourceMappingURL=index-Xs2qLN7a.js.map
