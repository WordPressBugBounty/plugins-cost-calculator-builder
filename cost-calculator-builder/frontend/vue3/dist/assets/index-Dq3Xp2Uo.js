import{u as Q,f as W,n as z,m as j,a as G,q as I,o as J}from"./widget-C6bCLy2c.js";import{Q as K}from"./vue-datepicker-CjkUgv9k.js";/* empty css             */import{c as O}from"./ThankYouPage-C4ljj3w4.js";import{_ as X}from"./RequiredHint.vue_vue_type_style_index_0_lang-DWClyS2l.js";import{u as Y}from"./translationsStore-Crbl8s4V.js";import{d as Z,B as ee,f as r,c as u,o,l as _,m as c,h as ae,u as l,N as te,a as P,L as b,E as le}from"./runtime-dom.esm-bundler-DVhL8Vyv.js";import"./jquery-C7OTzgKr.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const se={class:"ccb-field__label"},re={class:"ccb-field__title"},ie={key:0,class:"ccb-field-required-mark"},ne={key:0,class:"ccb-field__descriptions ccb-before"},oe={key:0,class:"ccb-field__description"},ue={class:"ccb-field__input-wrapper"},ce={key:1,class:"ccb-field__descriptions ccb-after"},de={key:0,class:"ccb-field__description"},ke=Z({__name:"DatePicker",props:{field:{}},setup(x){const F=x,{field:e}=ee(F),g=Q(),k=W(),A=z(),h=J(),q=j(),v=Y(),E=G(),{parseDate:w,getDaysDifference:S,displayValueHelper:y}=I(),p=r(()=>E.getLanguage),T=()=>y(s.value,p.value),s=r({get(){return e.value.selectedDate},set(a){e.value.selectedDate=a}}),V=r(()=>k.checkFieldRequired(e.value)),B=r(()=>e.value.placeholder?e.value.placeholder:v.getTranslations.selectDate),D=r(()=>{var a;return e.value.isHaveUnselectable?(a=e.value.notAllowedWeekDays)==null?void 0:a.map(t=>t===7?0:t):[]}),H=r(()=>{var i;const a=new Date;let t=[];if(!e.value.isHaveUnselectable)return t;for(let n=1;n<=e.value.daysFromCurrent;n++){const d=new Date(a);d.setDate(d.getDate()+n),t.push(d)}return(i=e.value.notAllowedDates)!=null&&i.current&&t.push(a),t}),N=r(()=>{var a;return e.value.isHaveUnselectable&&((a=e.value.notAllowedDates)!=null&&a.allPast)?new Date:""}),U=r(()=>{const a=[];if(!e.value.isHaveUnselectable)return a;const t=e.value.notAllowedDates;if(t&&t.period&&t.period.length)for(const i of t.period){const n=new Date(w(i.start||"")),d=new Date(w(i.end||""));for(let f=new Date(n);f<=d;f.setDate(f.getDate()+1))a.push(new Date(f))}return a}),m=r(()=>[...U.value,...H.value]),$=r(()=>{var a;return e.value.dayPriceEnabled?e.value.useCurrency||e.value.fieldCurrency?h.getCommonFieldDisplayView(e.value):((a=e.value.value)==null?void 0:a.toString())||"":y(s.value,p.value)}),L=r(()=>{var a;if(e.value.dayPriceEnabled){const t=[y(s.value,p.value)],i=e.value.useCurrency||e.value.fieldCurrency?h.getCommonFieldDisplayView(e.value):(a=e.value.value)==null?void 0:a.toString();if(e.value.range&&Array.isArray(s.value)){const n=S(s.value[0],s.value[1],e.value,m.value,D.value);n&&t.push(`${n} day(s) x ${e.value.dayPrice}`)}else s.value&&t.push(`1 day(s) x ${i}`);return t}return[]}),R=r(()=>e.value.dayPriceEnabled?Array.isArray(s.value)?S(s.value[0],s.value[1],e.value,m.value,D.value)*e.value.dayPrice:(s.value?1:0)*e.value.dayPrice:0),C=(a,t)=>{t&&t!==e.value.alias||(e.value.selectedDate=a||void 0,e.value.value=R.value,e.value.displayValue=$.value,e.value.extraDisplayView=L.value,k.updateField(e.value.alias,e.value),A.applyConditionForField(e.value.alias))},M=r(()=>{var a;return((a=e.value)==null?void 0:a.additionalStyles)||""});return q.add("updateDatePicker",C),(a,t)=>(o(),u("div",{class:le(["ccb-field ccb-datePicker",{required:V.value,"ccb-field-disabled":l(e).disabled,[M.value]:!0}])},[_("div",se,[V.value?(o(),ae(X,{key:0,text:l(v).getTranslations.requiredField},null,8,["text"])):c("",!0),_("div",re,[te(b(l(e).label),1),l(e).required?(o(),u("span",ie,"*")):c("",!0),P(O)])]),l(g).descriptionPosition==="before"?(o(),u("div",ne,[l(e).description?(o(),u("div",oe,b(l(e).description),1)):c("",!0)])):c("",!0),_("div",ue,[P(l(K),{modelValue:s.value,"onUpdate:modelValue":[t[0]||(t[0]=i=>s.value=i),C],locale:p.value,"auto-apply":l(e).autoCloseEnabled,range:l(e).range,placeholder:B.value,"enable-time-picker":!1,"disabled-week-days":D.value,"disabled-dates":m.value,"min-date":N.value,format:T,"select-text":l(v).getTranslations.select,"cancel-text":l(v).getTranslations.cancel},null,8,["modelValue","locale","auto-apply","range","placeholder","disabled-week-days","disabled-dates","min-date","select-text","cancel-text"])]),l(g).descriptionPosition==="after"?(o(),u("div",ce,[l(e).description?(o(),u("div",de,b(l(e).description),1)):c("",!0)])):c("",!0)],2))}});export{ke as default};
//# sourceMappingURL=index-Dq3Xp2Uo.js.map
