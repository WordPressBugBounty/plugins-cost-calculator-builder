const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./widget-DjdrLe91.css","./RequiredHint-uxu_wpFZ.css","./index-BGrcVZ_9.css","./OrderEmail-CDL72wGN.css","./OrderPhone-DLhTHF1_.css","./OrderTextarea-BeyyFHRz.css","./OrderNumber-C85wQNJC.css","./OrderSpace-DPu2rkSM.css","./OrderRadio-O_dAVVhO.css","./OrderCheckbox-Deqpj7bR.css","./OrderDate-TdMkE5W0.css","./main-CWmBI_q2.css","./index-BjxbVEsn.css"])))=>i.map(i=>d[i]);
import{g as a,d as N,B as K,f as n,h as A,o as i,i as _e,u as b,c as _,E as R,l as g,m as C,w as pe,a1 as fe,N as U,L as W,e as P,k as be,a as B,M as I,I as ge,F as ve,T as ye}from"./runtime-dom.esm-bundler-q8x4SZ5d.js";import{a as Q,s as Se,h as Fe,c as xe,b as Te,e as V,d as j,f as G,i as Ee}from"./widget-G8qGMCyR.js";import{c as ke}from"./index-cJSN9pYs.js";import{_ as c}from"./translationsStore-C4wu_Y0X.js";import{_ as J}from"./ThankYouPage-VtHWX-ye.js";import{_ as he}from"./RequiredHint.vue_vue_type_style_index_0_lang-D9F99cWG.js";import{_ as Ce}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Ae=v=>new DOMParser().parseFromString("<!doctype html><body>"+v,"text/html").body.textContent||"",we={name:a(()=>c(()=>import("./OrderName-sA5URdvZ.js"),__vite__mapDeps([0,1]),import.meta.url)),dropdown:a(()=>c(()=>import("./index-DCWi-Mk8.js"),__vite__mapDeps([0,1,2]),import.meta.url)),email:a(()=>c(()=>import("./OrderEmail-DU35sL7a.js"),__vite__mapDeps([0,1,3]),import.meta.url)),phone:a(()=>c(()=>import("./OrderPhone-Ceck1T_I.js"),__vite__mapDeps([0,1,4]),import.meta.url)),text:a(()=>c(()=>import("./OrderText-CCUqqMVd.js"),__vite__mapDeps([0,1]),import.meta.url)),textarea:a(()=>c(()=>import("./OrderTextarea-fR7pSiSN.js"),__vite__mapDeps([0,1,5]),import.meta.url)),"input-textbox":a(()=>c(()=>import("./OrderTextBox-x23dbdy8.js"),__vite__mapDeps([0,1]),import.meta.url)),number:a(()=>c(()=>import("./OrderNumber-JJAljkRE.js"),__vite__mapDeps([0,1,6]),import.meta.url)),space:a(()=>c(()=>import("./OrderSpace-Btv9uxJQ.js"),__vite__mapDeps([7]),import.meta.url)),radio:a(()=>c(()=>import("./OrderRadio-DtWD_jdm.js"),__vite__mapDeps([0,1,8]),import.meta.url)),checkbox:a(()=>c(()=>import("./OrderCheckbox-mWMiiuUU.js"),__vite__mapDeps([0,1,9]),import.meta.url)),"formatted-text":a(()=>c(()=>import("./OrderFormattedText-BjHUJACj.js"),[],import.meta.url)),"date-picker":a(()=>c(()=>import("./OrderDate-CZPkFO_Z.js"),__vite__mapDeps([0,1,10,11]),import.meta.url)),"time-picker":a(()=>c(()=>import("./index-CHFchv5J.js"),__vite__mapDeps([0,1,12,11]),import.meta.url))},Ie=N({__name:"OrderFormItem",props:{name:{},field:{}},setup(v){const m=v,{field:p,name:F}=K(m),x=n(()=>{const u=F.value;return we[u]||""});return(u,T)=>(i(),A(_e(x.value),{field:b(p)},null,8,["field"]))}}),Oe={class:"ccb-order-field__wrapper"},De={for:"terms_and_conditions"},Le={class:"ccb-checkbox-label"},Pe=["href"],Be=N({__name:"TermsAndConditions",setup(v){const m=Q(),p=n({get(){var r,t;return((t=(r=m.getFormSettings)==null?void 0:r.termsAndConditions)==null?void 0:t.checkbox)||!1},set(r){m.updateTermsValue(r)}}),F=n(()=>{var r,t;return((t=(r=m.getFormSettings)==null?void 0:r.termsAndConditions)==null?void 0:t.text)||""}),x=n(()=>{var r,t;return((t=(r=m.getWarningTexts)==null?void 0:r.formFields)==null?void 0:t.termsAndConditionsField)||"Please, check out our terms and click on the checkbox"}),u=n(()=>m.checkTermsAndConditionsApproved),T=n(()=>{var r,t;return((t=(r=m.getFormSettings)==null?void 0:r.termsAndConditions)==null?void 0:t.linkText)||""}),l=n(()=>{var r,t;return((t=(r=m.getFormSettings)==null?void 0:r.termsAndConditions)==null?void 0:t.link)||""});return(r,t)=>(i(),_("div",{class:R(["ccb-default-checkbox ccb-terms-check",{"ccb-terms-and-conditions-required":u.value}])},[g("div",Oe,[u.value?(i(),A(he,{key:0,text:x.value},null,8,["text"])):C("",!0),g("label",De,[pe(g("input",{type:"checkbox",id:"terms_and_conditions",name:"terms_and_conditions","onUpdate:modelValue":t[0]||(t[0]=E=>p.value=E),value:!0},null,512),[[fe,p.value]]),g("span",Le,[U(W(F.value)+" ",1),g("a",{href:l.value,target:"_blank"},[U(W(T.value)+" ",1),t[1]||(t[1]=g("i",{class:"ccb-icon-click-out"},null,-1))],8,Pe)])])])],2))}}),Ve=Ce(Be,[["__scopeId","data-v-2bd1d70a"]]),Re={key:0,class:"ccb-order-form__submit ccb-col-12"},Ne=["innerHTML"],$e={key:1,class:"ccb-order-form__submit ccb-col-12"},Ge=N({__name:"OrderFormList",props:{payment:{type:Boolean}},setup(v){const m=v,{payment:p}=K(m),{formFields:F,validateOrderFormSettings:x}=Se(),u=Fe(),T=xe(),l=Q(),r=Te(),t=P(null),E=P(!1),$=Ee(),X=n(()=>{var e;return((e=l.getFormSettings)==null?void 0:e.openModalBtnText)||"Make Order"}),Y=n(()=>{var o,s;const e=(o=l.getFormSettings)==null?void 0:o.summaryDisplay;return w.value==="woocommerce"?"Add to cart":e!=null&&e.enable?e.submitBtnText||"View Summary":((s=l.getFormSettings)==null?void 0:s.submitBtnText)||"Submit Order"}),k=P(!1),O=n(()=>r.getIsLive),Z=()=>{if(O.value){k.value=!0,setTimeout(()=>{k.value=!1},5e3);return}(w.value==="woocommerce"||!x())&&T.submissionCreateOrder()},ee=e=>{const o=e.detail.inputs.map(s=>({label:s.name||"",value:s.value.replace(/\n/g," ")||"",attributes:{label:s.name||"",type:s.name||""}}));T.submissionCreateOrder(o)},M=n(()=>{const e=V(),o=j();return p.value?o.isPaymentAfterSubmit&&o.getSubmit?!1:e.showForm:!0}),w=n(()=>V().paymentType),te=n(()=>{var o;if((o=l.getFormSettings)!=null&&o.contactFormId)return!1;const e=j();return!(e.isPaymentAfterSubmit&&e.getSubmit)}),q=n(()=>{const e=G(),o=V();return M.value?!1:o.paymentType&&!e.checkRequiredFields()?!0:!o.paymentType}),oe=()=>{G().checkRequiredFields()&&(u.updateNextButtonStatus(!1),u.updateNextButton(!0),E.value=!0,setTimeout(()=>{ie()}))},re=n(()=>{const o=`ccb_front_template_${r.getCalcId}`,s=window[o];return s&&"cf7_form"in s?s.cf7_form:""}),se=()=>{var s;if(t.value=document.querySelector(`#ccb_app_${r.getCalcId}`),!t.value||((s=t.value)==null?void 0:s.getElementsByClassName("ccb-contact-form7").length)<=0||t.value.getElementsByClassName("ccb-contact-form7")[0].getElementsByTagName("form").length<=0)return;let e=t.value.getElementsByClassName("ccb-contact-form7")[0].getElementsByTagName("form")[0];[...e.getElementsByTagName("p")].forEach(d=>{d.classList.contains("ccb-hidden")&&(d.classList.remove("ccb-hidden"),d.style.display="block")}),e.getElementsByClassName("wpcf7-response-output").length>0&&(e.getElementsByClassName("wpcf7-response-output")[0].innerHTML="")},ne=e=>{var o;e.preventDefault(),!O.value&&E.value&&(ee(e),E.value=!1,((o=e==null?void 0:e.detail)==null?void 0:o.status)==="mail_sent"&&u.updateContactFormDisabled(!0))},ae=()=>{var e,o,s,d,h,y;if((e=l.getFormSettings)!=null&&e.contactFormId){let S=(o=l.getFormSettings)==null?void 0:o.body;const D=(s=t.value)==null?void 0:s.querySelector(".wpcf7-form");if(S.indexOf("[ccb-subtotal]")!==-1){let f=$.parseContactFormDescriptions();S=S.replaceAll("[ccb-subtotal]",f)}const me=(h=(d=l.getFormSettings)==null?void 0:d.formulas)==null?void 0:h.map(f=>f.alias),le=$.parseContactFormTotals(me),ue=/\[ccb-total(?:-\d+)?\]/g;S=S.replaceAll(ue,`${le}
`);const H=D==null?void 0:D.querySelector("textarea");if(H&&(H.value=Ae(S)),window.wpcf7&&"init"in window.wpcf7){const f=(y=t.value)==null?void 0:y.querySelectorAll(".wpcf7 > form");f==null||f.forEach(L=>{var z;(z=window.wpcf7)==null||z.init(L),O.value&&L.addEventListener("submit",de=>{de.preventDefault(),k.value=!0,setTimeout(()=>{k.value=!1},5e3)})})}}},ce=()=>{document.addEventListener("wpcf7mailsent",ne,!1)},ie=()=>{se(),ce(),ae()};return be(()=>{}),(e,o)=>{var s,d,h;return i(),_("div",{class:R(["ccb-order-form",{"ccb-order-form-legacy":!((s=b(l).getFormSettings)!=null&&s.contactFormId)}])},[b(u).getNextButtonStatus&&w.value!=="woocommerce"?(i(),_("div",Re,[B(J,{type:"success",text:X.value,"on-click":oe,disabled:q.value},null,8,["text","disabled"])])):(i(),_(I,{key:1},[M.value&&w.value!=="woocommerce"?(i(),_(I,{key:0},[(d=b(l).getFormSettings)!=null&&d.contactFormId?(i(),_("div",{key:0,class:R(["ccb-contact-form7",{"calc-cf7-disabled":b(u).getContactFormDisabled}])},[g("div",{class:"ccb-contact-form7-container",innerHTML:re.value},null,8,Ne)],2)):(i(),_(I,{key:1},[(i(!0),_(I,null,ge(b(F),y=>(i(),A(Ie,{field:y,key:y.id,name:y.type},null,8,["field","name"]))),128)),(h=b(l).getFormSettings)!=null&&h.accessTermsEmail?(i(),A(Ve,{key:0})):C("",!0)],64))],64)):C("",!0),te.value?(i(),_("div",$e,[B(J,{type:"success",text:Y.value,"on-click":Z,disabled:q.value},null,8,["text","disabled"])])):C("",!0),B(ye,{name:"fade"},{default:ve(()=>[k.value?(i(),A(ke,{key:0})):C("",!0)]),_:1})],64))],2)}}});export{Ge as _};
//# sourceMappingURL=OrderFormList.vue_vue_type_style_index_0_lang-BHED5tIp.js.map
