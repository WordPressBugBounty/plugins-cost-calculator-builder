{"version":3,"file":"index-Bz5gnlHg.js","sources":["../../src/sticky/widgets/floating-bar/FloatingBar.vue"],"sourcesContent":["<template>\n  <div\n    class=\"sticky-calculator-banner\"\n    :style=\"getBannerPosition\"\n    :class=\"classList\"\n  >\n    <div class=\"sticky-calculator-banner--container ccb-desktop\">\n      <div class=\"sticky-calculator-banner--left\">\n        <div\n          class=\"sticky-bar-icon is-image\"\n          v-if=\"!appStore.getStickySettings?.hideIcon\"\n        >\n          <template v-if=\"appStore.getStickySettings?.icon\">\n            <img :src=\"appStore.getStickySettings.icon\" alt=\"icon svg\" />\n          </template>\n          <template v-else>\n            <i class=\"ccb-icon-Calculators-filled\"></i>\n          </template>\n        </div>\n        <div class=\"sticky-bar-text\">\n          <span class=\"sticky-bar-text__title\">{{ getTitle }}</span>\n          <span\n            class=\"sticky-bar-text__description\"\n            v-if=\"appStore.getStickySettings?.customDesc.trim()?.length\"\n            >{{ appStore.getStickySettings.customDesc }}</span\n          >\n        </div>\n      </div>\n      <div class=\"sticky-calculator-banner--right\">\n        <div class=\"sticky-bar-totals\" v-if=\"showTotal\">\n          <span\n            >{{ translationsStore.getTranslations.total }}:\n            {{ getFormattedTotal }}</span\n          >\n        </div>\n        <div class=\"sticky-bar-action\">\n          <button\n            @click.prevent=\"clickAction\"\n            style=\"height: 40px\"\n            class=\"calc-btn-action success\"\n            v-text=\"appStore.getStickySettings?.btnText\"\n          ></button>\n        </div>\n      </div>\n    </div>\n    <div class=\"sticky-calculator-banner--container ccb-mobile\">\n      <div class=\"sticky-calculator-banner--top\">\n        <div\n          class=\"sticky-bar-icon\"\n          v-if=\"!appStore.getStickySettings?.hideIcon\"\n        >\n          <template v-if=\"appStore.getStickySettings?.icon\">\n            <img :src=\"appStore.getStickySettings.icon\" alt=\"icon svg\" />\n          </template>\n          <template v-else>\n            <i class=\"ccb-icon-Calculators-filled\"></i>\n          </template>\n        </div>\n        <div class=\"ccb-sticky-banner-content\">\n          <div class=\"sticky-bar-text\">\n            <span class=\"sticky-bar-text__title\">{{ getTitle }}</span>\n            <span\n              class=\"sticky-bar-text__description\"\n              v-if=\"appStore.getStickySettings?.customDesc?.trim()?.length\"\n              >{{ appStore.getStickySettings.customDesc }}</span\n            >\n          </div>\n          <div class=\"sticky-bar-totals\" v-if=\"showTotal\">\n            <span\n              >{{ translationsStore.getTranslations.total }}:\n              {{ getFormattedTotal }}</span\n            >\n          </div>\n        </div>\n      </div>\n      <div class=\"sticky-calculator-banner--bottom\">\n        <div class=\"sticky-bar-action\">\n          <button\n            @click.prevent=\"clickAction\"\n            style=\"height: 40px\"\n            class=\"calc-btn-action success\"\n            v-text=\"appStore.getStickySettings?.btnText\"\n          ></button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport $ from \"jquery\";\nimport { computed, onMounted } from \"vue\";\nimport { useAppStore } from \"@/sticky/app/providers/app.store.ts\";\nimport { useSticky } from \"@/sticky/actions/sticky/composable/useSticky.ts\";\nimport { StickyFormulas } from \"@/sticky/shared/types/app\";\nimport { useTranslationsStore } from \"@/widget/app/providers/stores/translationsStore\";\n\nconst appStore = useAppStore();\nconst translationsStore = useTranslationsStore();\n\nconst {\n  classList,\n  clickAction,\n  getFormattedTotal,\n  getTitle,\n  showTotal,\n  updateFormulas,\n  initListeners,\n  scrollHandler,\n  updateClassList,\n  customBannerEvent,\n} = useSticky();\n\nconst getBannerPosition = computed(() => {\n  let value = 0;\n  const $wpBanner = $(\"#wpadminbar\");\n  if (\n    $wpBanner?.length &&\n    appStore.getStickySettings?.bannerPosition === \"top\" &&\n    window.innerWidth > 600\n  ) {\n    value += $wpBanner?.height() || 0;\n  }\n\n  return { [appStore.getStickySettings?.bannerPosition || \"\"]: `${value}px` };\n});\n\nonMounted(() => {\n  const bannerPosition = appStore.getStickySettings?.bannerPosition || \"\";\n  const oneClickAction = appStore.getStickySettings?.oneClickAction || \"\";\n\n  if (!classList.value.includes(bannerPosition)) {\n    updateClassList([...classList.value, bannerPosition]);\n  }\n\n  if (!classList.value.includes(\"modal-action\")) {\n    updateClassList([...classList.value, \"modal-action\"]);\n  }\n\n  if (\n    [\"open_modal\", \"pro_features\", \"woo_product_as_modal\"].includes(\n      oneClickAction,\n    )\n  ) {\n    customBannerEvent(true);\n  } else if (oneClickAction === \"scroll_to\") {\n    scrollHandler();\n  }\n\n  let formulas: StickyFormulas[] = appStore.getStickySettings?.formulas || [];\n  if (\n    [\n      \"woo_checkout\",\n      \"woo_product_as_modal\",\n      \"woo_product_with_redirect\",\n    ].includes(oneClickAction)\n  ) {\n    formulas = appStore.getWooCheckoutSettings?.formulas || [];\n  }\n\n  updateFormulas(formulas);\n  initListeners();\n});\n</script>\n\n<style scoped lang=\"scss\">\n.sticky-calculator-banner {\n  position: fixed !important;\n  box-sizing: border-box;\n  transition: all 1s ease-in-out;\n  display: flex !important;\n  justify-content: center !important;\n  z-index: 998;\n  border-top: 1px solid !important;\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.15);\n  background: var(--ccb-container-color) !important;\n  border-color: var(--ccb-container-border-color) !important;\n  width: 100%;\n  height: 56px;\n  align-items: center;\n\n  &--left {\n    display: flex;\n    column-gap: 10px;\n    align-items: center;\n  }\n\n  &--right {\n    display: flex;\n    align-items: center;\n    column-gap: 20px;\n\n    .sticky-bar-totals {\n      font-size: 16px;\n      font-weight: 700;\n      color: var(--ccb-text-color);\n    }\n  }\n\n  &--container {\n    max-width: 1170px;\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n\n    &.ccb-mobile {\n      display: none;\n    }\n  }\n\n  &.ccb-hide-button {\n    &.bottom {\n      bottom: -300px !important;\n    }\n\n    &.top {\n      top: -300px !important;\n    }\n\n    z-index: -1111 !important;\n  }\n\n  .sticky-bar-icon {\n    display: flex;\n\n    i {\n      font-size: 24px;\n      color: var(--ccb-accent-color);\n    }\n  }\n\n  .sticky-bar-totals {\n    span {\n      color: var(--ccb-text-color) !important;\n    }\n  }\n\n  .sticky-bar-text {\n    display: flex;\n    align-items: center;\n    row-gap: 2px !important;\n\n    &__title {\n      font-size: 15px;\n      font-weight: 500;\n      color: var(--ccb-text-color);\n    }\n\n    span {\n      color: var(--ccb-text-color) !important;\n    }\n  }\n\n  .calc-btn-action {\n    cursor: pointer;\n    font-size: 14px;\n    font-weight: 700;\n    border-radius: 4px;\n    color: var(--ccb-container-color);\n    background-color: var(--ccb-accent-color);\n    transition: all 200ms linear;\n    white-space: nowrap;\n    line-height: 1;\n    padding: 0 16px;\n    border: none !important;\n    margin: 0 !important;\n    outline: none !important;\n    box-shadow: none;\n    height: 40px;\n    display: flex;\n    align-items: center;\n  }\n\n  @media screen and (max-width: 680px) {\n    height: max-content !important;\n    padding: 16px 20px !important;\n    &--container {\n      &.ccb-desktop {\n        display: none !important;\n      }\n\n      &.ccb-mobile {\n        display: flex;\n        flex-direction: column;\n        row-gap: 12px;\n      }\n\n      .sticky-calculator-banner--top {\n        align-items: flex-start !important;\n      }\n    }\n\n    .sticky-bar-action {\n      button {\n        height: 40px;\n        width: 100%;\n        text-align: center;\n        justify-content: center;\n      }\n    }\n\n    .ccb-sticky-banner-content {\n      width: 100%;\n      display: flex;\n      justify-content: space-between;\n    }\n  }\n\n  @media screen and (max-width: 480px) {\n    .ccb-sticky-banner-content {\n      flex-direction: column;\n    }\n  }\n}\n</style>\n"],"names":["appStore","useAppStore","translationsStore","useTranslationsStore","classList","clickAction","getFormattedTotal","getTitle","showTotal","updateFormulas","initListeners","scrollHandler","updateClassList","customBannerEvent","useSticky","getBannerPosition","computed","value","$wpBanner","$","_a","_b","onMounted","bannerPosition","oneClickAction","formulas","_c","_d"],"mappings":"o0CAiGA,MAAMA,EAAWC,EAAY,EACvBC,EAAoBC,EAAqB,EAEzC,CACJ,UAAAC,EACA,YAAAC,EACA,kBAAAC,EACA,SAAAC,EACA,UAAAC,EACA,eAAAC,EACA,cAAAC,EACA,cAAAC,EACA,gBAAAC,EACA,kBAAAC,GACEC,EAAU,EAERC,EAAoBC,EAAS,IAAM,SACvC,IAAIC,EAAQ,EACN,MAAAC,EAAYC,EAAE,aAAa,EAE/B,OAAAD,GAAA,MAAAA,EAAW,UACXE,EAAApB,EAAS,oBAAT,YAAAoB,EAA4B,kBAAmB,OAC/C,OAAO,WAAa,MAEXH,IAAAC,GAAA,YAAAA,EAAW,WAAY,GAG3B,CAAE,GAACG,EAAArB,EAAS,oBAAT,YAAAqB,EAA4B,iBAAkB,EAAE,EAAG,GAAGJ,CAAK,IAAK,CAAA,CAC3E,EAED,OAAAK,EAAU,IAAM,aACR,MAAAC,IAAiBH,EAAApB,EAAS,oBAAT,YAAAoB,EAA4B,iBAAkB,GAC/DI,IAAiBH,EAAArB,EAAS,oBAAT,YAAAqB,EAA4B,iBAAkB,GAEhEjB,EAAU,MAAM,SAASmB,CAAc,GAC1CX,EAAgB,CAAC,GAAGR,EAAU,MAAOmB,CAAc,CAAC,EAGjDnB,EAAU,MAAM,SAAS,cAAc,GAC1CQ,EAAgB,CAAC,GAAGR,EAAU,MAAO,cAAc,CAAC,EAIpD,CAAC,aAAc,eAAgB,sBAAsB,EAAE,SACrDoB,CAAA,EAGFX,EAAkB,EAAI,EACbW,IAAmB,aACdb,EAAA,EAGhB,IAAIc,IAA6BC,EAAA1B,EAAS,oBAAT,YAAA0B,EAA4B,WAAY,CAAC,EAExE,CACE,eACA,uBACA,2BAAA,EACA,SAASF,CAAc,IAEdC,IAAAE,EAAA3B,EAAS,yBAAT,YAAA2B,EAAiC,WAAY,CAAC,GAG3DlB,EAAegB,CAAQ,EACTf,EAAA,CAAA,CACf"}