import{m as w}from"./slider-BPcFTpZU.js";import{a as J,t as P,b as p,l as O,J as N,n as f,g as V,q as o,p as $,v as k,u as n,s as x,F as z,z as A,K as B,A as q}from"./convert-case-to-camel-case.utils-C0gHQHtf.js";const D={class:"slider-min-max"},E={class:"label"},K={class:"label"},L={class:"custom-marks"},R=["onClick"],H=J({__name:"Flat",props:{field:{},modelValue:{}},emits:["update:modelValue"],setup(_,{emit:h}){const i=_,{field:l}=P(i),C=p(()=>l.value.jump?1:Number(l.value.step||1)),t=p(()=>Number(l.value.min)),m=p(()=>Number(l.value.max)),v=O(i.modelValue),b=p(()=>l.value.jump),r=h,S=e=>{r("update:modelValue",Array.isArray(e)?e:[e])},F=e=>{const s=e.toFixed(2);return parseFloat(s).toString()},u=p(()=>{var s;return(((s=l.value.scalePoints)==null?void 0:s.trim())||"").split(",").map(a=>Number(a.trim())).filter(a=>!isNaN(a)&&a>=t.value&&a<=m.value)}),M=e=>({left:`${(e-t.value)/(m.value-t.value)*100}%`}),y=e=>{b.value&&r("update:modelValue",[v.value[0],e])},j=e=>{b.value&&u.value.includes(e)&&r("update:modelValue",[e,v.value[1]])};return N(()=>i.modelValue,e=>{v.value=e}),N(v,e=>{if(b.value){const s=u.value.reduce((d,c)=>Math.abs(c-e[0])<Math.abs(d-e[0])?c:d,u.value[0]),a=u.value.reduce((d,c)=>Math.abs(c-e[1])<Math.abs(d-e[1])?c:d,u.value[0]),g=[s,a];JSON.stringify(g)!==JSON.stringify(i.modelValue)&&r("update:modelValue",g)}else JSON.stringify(e)!==JSON.stringify(i.modelValue)&&r("update:modelValue",e)}),(e,s)=>(V(),f("div",{class:q(["slider-wrapper ccb-flat-multi-range-field",{jump:n(l).jump}])},[o("div",D,[o("div",{class:"slider-min-max-item first",onClick:s[0]||(s[0]=a=>j(t.value))},[o("span",E,k(t.value),1)]),o("div",{class:"slider-min-max-item",onClick:s[1]||(s[1]=a=>y(m.value))},[o("span",K,k(m.value),1)])]),$(n(w),{style:{margin:"10px 0"},format:F,min:n(l).min,max:n(l).max,step:C.value,disabled:n(l).disabled,modelValue:e.modelValue,"onUpdate:modelValue":S,"show-tooltip":"focus"},null,8,["min","max","step","disabled","modelValue"]),o("div",L,[n(l).scalePoints?(V(!0),f(z,{key:0},A(u.value,a=>(V(),f("div",{key:a,class:"mark",style:B(M(a))},[a!==t.value&&a!==m.value?(V(),f("div",{key:0,class:"label",onClick:g=>y(a)},k(a),9,R)):x("",!0)],4))),128)):x("",!0)])],2))}});export{H as default};
//# sourceMappingURL=Flat-YdBaBS92.js.map
