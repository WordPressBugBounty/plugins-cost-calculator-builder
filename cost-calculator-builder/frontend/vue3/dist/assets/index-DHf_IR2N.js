import{d as A,B as R,e as S,f as p,c as i,o as l,l as r,M as _,I as v,E as T,a as m,L as b,u,F as x,m as I,h as L,T as N}from"./runtime-dom.esm-bundler-q8x4SZ5d.js";import{b as w}from"./index-CbqhsLlS.js";import{_ as g}from"./ThankYouPage-BUPLrnRP.js";import{f as M,i as V}from"./widget-oBzLET5U.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./translationsStore-C4wu_Y0X.js";import"./jquery-C7OTzgKr.js";const P={class:"ccb-repeater-wrapper"},z=["onClick"],D={class:"ccb-repeater-item--label"},j={class:"ccb-repeater-item--counter"},q={key:0,class:"ccb-repeater-item--body"},G={class:"ccb-repeater-item--fields"},H={class:"ccb-repeater-item--actions"},J={class:"ccb-repeater-actions"},K=A({__name:"Repeater",props:{field:{}},setup(h){const E=h,{field:e}=R(E),f=M(),d=S({}),y=p(()=>s=>Array.from(s.values())),k=s=>{if(confirm("Are you sure to delete the repeated group of elements?")){const a=e.value.groupElements;Array.isArray(a)&&e.value.groupElements.splice(s,1),e.value.groupElements.forEach((n,t)=>Array.from(n.entries()).forEach(([o,c])=>{c.repeaterIdx=t})),f.recalculateTotals()}},C=()=>{if(e.value.repeatCount===e.value.groupElements.length)return;const s=V(),a=new Map,n=e.value.originalElements||[];for(const t of n){const o=s.addField(t,e.value.groupElements.length,e.value.alias);o&&a.set(t.alias,o)}e.value.groupElements.push(a),f.recalculateTotals()},B=p(()=>+e.value.repeatCount===e.value.groupElements.length),F=p(()=>{var s;return((s=e.value)==null?void 0:s.additionalStyles)||""});return(s,a)=>(l(),i("div",P,[(l(!0),i(_,null,v(u(e).groupElements,(n,t)=>(l(),i("div",{class:T(["ccb-repeater-item",{"ccb-collapsed":d.value[t],[F.value]:!0}])},[r("div",{class:"ccb-repeater-item--header",onClick:o=>d.value[t]=!d.value[t]},[a[0]||(a[0]=r("span",{class:"ccb-repeater-item--icon ccb-icon-Path-3514"},null,-1)),r("span",D,b(u(e).label),1),r("span",j,"#"+b(t+1),1)],8,z),m(N,{name:"fade"},{default:x(()=>{var o;return[d.value[t]?I("",!0):(l(),i("div",q,[r("div",G,[(l(!0),i(_,null,v(y.value(n),c=>(l(),L(w,{key:c.alias,name:c.fieldName,field:c},null,8,["name","field"]))),128))]),r("div",H,[m(g,{type:"danger","on-click":()=>k(t),text:u(e).removeButtonLabel,icon:"ccb-icon-Trash-filled","icon-position":"before",disabled:((o=u(e).groupElements)==null?void 0:o.length)===1},null,8,["on-click","text","disabled"])])]))]}),_:2},1024)],2))),256)),r("div",J,[m(g,{type:"success-outlined","on-click":C,text:u(e).addButtonLabel,icon:"ccb-icon-Add-Plus-Circle","icon-position":"before",disabled:B.value},null,8,["text","disabled"])])]))}}),ee=$(K,[["__scopeId","data-v-9b9b0592"]]);export{ee as default};
//# sourceMappingURL=index-DHf_IR2N.js.map
