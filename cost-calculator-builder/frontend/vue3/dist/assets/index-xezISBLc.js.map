{"version":3,"mappings":"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","names":["isFloat","n","regExp","props","__props","field","toRefs","requiredType","ref","inputId","computed","labelId","callbackStore","useCallbackStore","currencyInstance","useCurrency","appearanceStore","useAppearanceStore","fieldStore","useFieldsStore","conditionsStore","useConditionsStore","singleFieldMixins","useSingleField","translationsStore","useTranslationsStore","pageBreakerStore","usePageBreakerStore","backupValue","rawInput","isEditing","forceUpdateKey","requiredWarningText","_a","useSettingsStore","formattedValue","numericString","rawDisplay","options","separator","numericValue","parseQuantityValue","getSavedAmount","structure","ranges","qty","highestUnit","r","baseTotal","currentTotal","matched","min","max","sorted","a","b","rest","rawMin","bracketStart","maxRaw","span","take","saved","savedPercent","currentUnit","savedCurrency","priceFormat","getStyleComponent","defineAsyncComponent","__vitePreload","updateValue","updateWithValue","alias","fromCondition","displayString","checkMinMaxRequired","breakdown","unitPrice","left","right","fixedPrice","onInput","event","target","changeHandler","onIncrement","onDecrement","value","onFocus","e","parseFormattedValue","onBlur","parseField","parsedValue","lessThenExpected","moreThenExpected","toFixedCount","count","toFixedCountDefault","toFixedCountStep","toFixedNoRound","num","decimals","factor","floatVal","settings","numAfterInteger","decimalSeparator","_b","thousandsSeparator","_c","_e","_d","_g","_f","_i","_h","parts","result","decimalsRaw","resultString","intValueFilter","keyCode","separatorCode","isRequired","getRangeRequiredText","onMounted"],"ignoreList":[],"sources":["../../src/widget/shared/utils/is-float.utils.ts","../../src/widget/features/calculator-fields/components/Quantity/Quantity.vue"],"sourcesContent":["export const isFloat = (n: string): boolean => {\n  if (n === undefined || n?.length < 0) {\n    return false;\n  }\n  const regExp = /^[-+]?[0-9]+\\.[0-9]+$/;\n  return !!n.toString().match(regExp);\n};\n","<template>\n  <div\n    class=\"ccb-field ccb-field-quantity\"\n    :class=\"{\n      required: isRequired,\n      'ccb-field-disabled': field.disabled,\n      [field.additionalStyles || '']: !!field.additionalStyles,\n      'has-badge': !!getSavedAmount,\n    }\"\n  >\n    <div class=\"ccb-field__label\">\n      <div v-if=\"isRequired\" class=\"ccb-required-tooltip\">\n        <RequiredHint\n          v-if=\"requiredType === 'value_range'\"\n          :field=\"field\"\n          :text=\"getRangeRequiredText\"\n        />\n        <RequiredHint v-else :field=\"field\" :text=\"requiredWarningText\" />\n      </div>\n      <div class=\"ccb-field__title\">\n        <span :id=\"labelId\">{{ field.label }}</span>\n        <span v-if=\"field.required\" class=\"ccb-field-required-mark\">*</span>\n      </div>\n    </div>\n\n    <div\n      v-if=\"appearanceStore.getAppearanceDescriptionPosition === 'before'\"\n      class=\"ccb-field__descriptions ccb-before\"\n    >\n      <div v-if=\"!field.hideMinMax\" class=\"ccb-field__description\">\n        {{ translationsStore.getTranslations.min }}: {{ field.min }} -\n        {{ translationsStore.getTranslations.max }}: {{ field.max }}\n      </div>\n      <div v-if=\"field.description\" class=\"ccb-field__description\">\n        {{ field.description }}\n      </div>\n    </div>\n\n    <component\n      :is=\"getStyleComponent\"\n      :field=\"field\"\n      :value=\"formattedValue\"\n      :input-id=\"inputId\"\n      :aria-labelledby=\"labelId\"\n      @input=\"onInput\"\n      @focus=\"onFocus\"\n      @focusout=\"parseField\"\n      @blur=\"onBlur\"\n      @keypress=\"intValueFilter\"\n      :key=\"forceUpdateKey\"\n      @increment=\"onIncrement\"\n      @decrement=\"onDecrement\"\n    />\n\n    <div\n      v-if=\"appearanceStore.getAppearanceDescriptionPosition === 'after'\"\n      class=\"ccb-field__descriptions ccb-after\"\n    >\n      <div v-if=\"!field.hideMinMax\" class=\"ccb-field__description\">\n        {{ translationsStore.getTranslations.min }}: {{ field.min }} -\n        {{ translationsStore.getTranslations.max }}: {{ field.max }}\n      </div>\n      <div v-if=\"field.description\" class=\"ccb-field__description\">\n        {{ field.description }}\n      </div>\n    </div>\n    <div\n      class=\"ccb-field__badge\"\n      :class=\"field.badgeVariant\"\n      v-if=\"getSavedAmount && !field.multiply && !isRequired\"\n    >\n      <div class=\"ccb-field__badge-content\">\n        <i\n          class=\"ccb-icon-price-tag\"\n          v-if=\"field.badgeVariant === 'primary'\"\n        ></i>\n        <div class=\"ccb-field__badge-text\">{{ field.badgeText }}:</div>\n        <div class=\"ccb-field__badge-value\">\n          {{ getSavedAmount }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { toRefs, computed, ref, onMounted, defineAsyncComponent } from \"vue\";\nimport { IQuantityField } from \"@/widget/shared/types/fields\";\nimport { useAppearanceStore } from \"@/widget/app/providers/stores/appearanceStore.ts\";\nimport { useFieldsStore } from \"@/widget/app/providers/stores/fieldsStore.ts\";\nimport { useConditionsStore } from \"@/widget/app/providers/stores/conditionsStore.ts\";\nimport { useCurrency } from \"@/widget/actions/fields/composable/useCurrency.ts\";\nimport { useSingleField } from \"@/widget/actions/fields/composable/useSingleField.ts\";\nimport { useCallbackStore } from \"@/widget/app/providers/stores/callbackStore.ts\";\nimport RequiredHint from \"@/widget/shared/ui/components/Required-hint/RequiredHint.vue\";\nimport { useTranslationsStore } from \"@/widget/app/providers/stores/translationsStore\";\nimport { useSettingsStore } from \"@/widget/app/providers/stores/settingsStore.ts\";\nimport { isFloat } from \"@/widget/shared/utils/is-float.utils\";\nimport { usePageBreakerStore } from \"@/widget/app/providers/stores/pageBreakerStore.ts\";\n\ntype Props = {\n  field: IQuantityField;\n};\n\nconst props = defineProps<Props>();\nconst { field } = toRefs(props);\n\nconst requiredType = ref<string>(\"required\");\nconst inputId = computed(() => `ccb_quantity_${field.value.alias}`);\nconst labelId = computed(() => `ccb_label_${field.value.alias}`);\n\nconst callbackStore = useCallbackStore();\nconst currencyInstance = useCurrency();\nconst appearanceStore = useAppearanceStore();\nconst fieldStore = useFieldsStore();\nconst conditionsStore = useConditionsStore();\nconst singleFieldMixins = useSingleField();\nconst translationsStore = useTranslationsStore();\nconst pageBreakerStore = usePageBreakerStore();\n\nconst backupValue = ref<string>(\"\");\nconst rawInput = ref<string>(field.value.originalValue.toString());\nconst isEditing = ref<boolean>(false);\nconst forceUpdateKey = ref<number>(0);\n\nconst requiredWarningText = computed(() => {\n  const settingStore = useSettingsStore();\n  return settingStore.getWarningTexts?.requiredMsg || \"\";\n});\n\nconst formattedValue = computed(() => {\n  if (isEditing.value) {\n    return rawInput.value;\n  }\n\n  const numericString = backupValue.value.toString();\n  let rawDisplay = numericString;\n\n  if (field.value.enabledCurrencySettings || field.value.fieldCurrency) {\n    const options = currencyInstance.getCurrencyOptions(field.value);\n    const separator = options?.decimalSeparator || \".\";\n\n    if (separator !== \".\" && rawDisplay.includes(\".\")) {\n      rawDisplay = rawDisplay.replace(\".\", separator);\n    }\n  }\n\n  rawInput.value = rawDisplay;\n\n  const numericValue = field.value.round\n    ? Math.round(+numericString)\n    : +numericString;\n\n  return parseQuantityValue(numericValue.toString());\n});\n\nconst getSavedAmount = computed(() => {\n  const structure = field.value.pricingStructure;\n  if (!structure || structure === \"no_discounts\") return \"\";\n  const ranges = ((field.value as any).pricingRanges as any[]) || [];\n  if (!ranges.length) return \"\";\n\n  const qty = Number(rawInput.value) || 0;\n  if (qty <= 0) return \"\";\n\n  const highestUnit = Math.max(\n    ...ranges.map((r: any) => Number(r.unitPrice) || 0),\n    Number(field.value.unit) || 0,\n  );\n  const baseTotal = highestUnit * qty;\n\n  let currentTotal = 0;\n  if (structure === \"tiered_discounts\") {\n    const matched = ranges.find((r: any) => {\n      const min = Number(r.minQty) || 0;\n      const max = Number(r.maxQty) || 0;\n      return qty >= min && qty <= max;\n    });\n    const currentUnit = Number(matched?.unitPrice ?? field.value.unit) || 0;\n    currentTotal = currentUnit * qty;\n  } else if (structure === \"cumulative_discounts\") {\n    const sorted = [...ranges].sort(\n      (a: any, b: any) => (Number(a.minQty) || 0) - (Number(b.minQty) || 0),\n    );\n    let rest = qty;\n    for (const r of sorted) {\n      const rawMin = Number(r.minQty);\n      const min = Number.isFinite(rawMin) ? rawMin : 0;\n      const bracketStart = Math.max(1, min);\n      const maxRaw = Number(r.maxQty);\n      const max = Number.isFinite(maxRaw) && maxRaw > 0 ? maxRaw : Infinity;\n      const span = isFinite(max) ? Math.max(0, max - bracketStart + 1) : rest;\n      const take = Math.max(0, Math.min(rest, span));\n      if (take > 0) {\n        currentTotal += take * (Number(r.unitPrice) || 0);\n        rest -= take;\n      }\n      if (rest <= 0) break;\n    }\n    if (rest > 0) currentTotal += rest * highestUnit;\n  } else if (structure === \"flat_rate_discounts\") {\n    const matched = ranges.find((r: any) => {\n      const min = Number(r.minQty) || 0;\n      const max = Number(r.maxQty) || 0;\n      return qty >= min && qty <= max;\n    });\n    const fixedPrice = Number(matched?.unitPrice ?? field.value.unit) || 0;\n    currentTotal = fixedPrice;\n  }\n\n  let saved = 0;\n  let savedPercent = 0;\n  if (structure === \"flat_rate_discounts\") {\n    const matched = ranges.find((r: any) => {\n      const min = Number(r.minQty) || 0;\n      const max = Number(r.maxQty) || 0;\n      return qty >= min && qty <= max;\n    });\n    const currentUnit = Number(matched?.unitPrice ?? field.value.unit) || 0;\n    saved = Math.max(0, highestUnit - currentUnit);\n    savedPercent =\n      highestUnit > 0 ? Math.round((saved / highestUnit) * 100) : 0;\n  } else {\n    saved = Math.max(0, baseTotal - currentTotal);\n    savedPercent = baseTotal > 0 ? Math.round((saved / baseTotal) * 100) : 0;\n  }\n\n  if (saved <= 0) return \"\";\n\n  const options = currencyInstance.getCurrencyOptions(field.value);\n  const savedCurrency = currencyInstance.formatCurrency(saved, options);\n\n  const priceFormat = (field.value as any)?.badgeFormat || \"$\";\n  if (priceFormat === \"symbol\") {\n    return `${savedCurrency}`;\n  }\n  if (priceFormat === \"percent\") return `${savedPercent}%`;\n  if (priceFormat === \"symbol_and_percent\") {\n    return `${savedCurrency} (${savedPercent}%)`;\n  }\n  return \"\";\n});\n\nconst getStyleComponent = computed(() => {\n  if (field.value.styles.style === \"default\") {\n    return defineAsyncComponent(() => import(`./styles/Default.vue`));\n  }\n\n  if (field.value.styles.style === \"buttons\") {\n    return defineAsyncComponent(() => import(`./styles/Buttons.vue`));\n  }\n});\n\nconst updateValue = (\n  updateWithValue = false,\n  numericValue: number,\n  alias?: string,\n  fromCondition?: boolean,\n) => {\n  if (alias && alias !== field.value.alias) {\n    return;\n  }\n\n  const numericString = numericValue.toString();\n\n  if (!alias || fromCondition) {\n    backupValue.value = numericString;\n  }\n\n  if (!isEditing.value && (!alias || fromCondition)) {\n    const options = currencyInstance.getCurrencyOptions(field.value);\n    let displayString = numericString;\n\n    const separator = options?.decimalSeparator;\n\n    if (\n      (field.value.enabledCurrencySettings || field.value.fieldCurrency) &&\n      separator &&\n      separator !== \".\" &&\n      displayString.includes(\".\")\n    ) {\n      displayString = displayString.replace(\".\", separator);\n    }\n\n    rawInput.value = displayString;\n  }\n  checkMinMaxRequired();\n\n  if (updateWithValue && typeof numericValue !== \"undefined\") {\n    field.value.value = numericValue;\n    field.value.originalValue = numericValue;\n  } else if (!alias) {\n    field.value.originalValue = numericValue;\n  }\n\n  // Pricing structure calculation (mirrors Range.updateValue)\n  const structure = (field.value as any).pricingStructure as\n    | \"tiered_discounts\"\n    | \"cumulative_discounts\"\n    | \"flat_rate_discounts\"\n    | \"no_discounts\"\n    | undefined;\n  const ranges = ((field.value as any).pricingRanges as any[]) || [];\n\n  if (\n    !field.value.multiply &&\n    structure &&\n    structure !== \"no_discounts\" &&\n    Array.isArray(ranges) &&\n    ranges.length > 0\n  ) {\n    const qty = Number(field.value.originalValue) || 0;\n    let computed = 0;\n    let breakdown: string[] = [];\n    const options = currencyInstance.getCurrencyOptions(field.value);\n\n    if (structure === \"tiered_discounts\") {\n      const matched = ranges.find((r: any) => {\n        const min = Number(r.minQty) || 0;\n        const max = Number(r.maxQty) || 0;\n        return qty >= min && qty <= max;\n      });\n      const unitPrice = Number(matched?.unitPrice ?? field.value.unit) || 0;\n      computed = qty * unitPrice;\n      if (qty > 0) {\n        const left = singleFieldMixins.parseCommonFieldSign(\n          qty.toString(),\n          field.value.sign,\n          field.value.unitPosition,\n        );\n        const right = currencyInstance.formatCurrency(unitPrice, options);\n        breakdown.push(`${left} x ${right}`);\n      }\n    } else if (structure === \"cumulative_discounts\") {\n      const sorted = [...ranges].sort(\n        (a: any, b: any) => (Number(a.minQty) || 0) - (Number(b.minQty) || 0),\n      );\n      let rest = qty;\n      for (const r of sorted) {\n        const rawMin = Number(r.minQty);\n        const min = Number.isFinite(rawMin) ? rawMin : 0;\n        const bracketStart = Math.max(1, min);\n        const maxRaw = Number(r.maxQty);\n        const max = Number.isFinite(maxRaw) && maxRaw > 0 ? maxRaw : Infinity;\n        const span = isFinite(max) ? Math.max(0, max - bracketStart + 1) : rest;\n        const take = Math.max(0, Math.min(rest, span));\n        if (take > 0) {\n          const unitPrice = Number(r.unitPrice) || 0;\n          computed += take * unitPrice;\n          const left = singleFieldMixins.parseCommonFieldSign(\n            take.toString(),\n            field.value.sign,\n            field.value.unitPosition,\n          );\n          const right = currencyInstance.formatCurrency(unitPrice, options);\n          breakdown.push(`${left} x ${right}`);\n          rest -= take;\n        }\n        if (rest <= 0) break;\n      }\n      if (rest > 0) {\n        const unitPrice = Number(field.value.unit) || 0;\n        computed += rest * unitPrice;\n        const left = singleFieldMixins.parseCommonFieldSign(\n          rest.toString(),\n          field.value.sign,\n          field.value.unitPosition,\n        );\n        const right = currencyInstance.formatCurrency(unitPrice, options);\n        breakdown.push(`${left} x ${right}`);\n      }\n    } else if (structure === \"flat_rate_discounts\") {\n      if (qty > 0) {\n        const matched = ranges.find((r: any) => {\n          const min = Number(r.minQty) || 0;\n          const max = Number(r.maxQty) || 0;\n          return qty >= min && qty <= max;\n        });\n        if (matched) {\n          const fixedPrice =\n            Number(matched?.unitPrice ?? field.value.unit) || 0;\n          computed = fixedPrice;\n          const left = singleFieldMixins.parseCommonFieldSign(\n            qty.toString(),\n            field.value.sign,\n            field.value.unitPosition,\n          );\n          const right = currencyInstance.formatCurrency(fixedPrice, options);\n          breakdown.push(`${left} â†’ ${right}`);\n        } else {\n          computed = 0;\n        }\n      } else {\n        computed = 0;\n      }\n    }\n\n    field.value.value = field.value.round ? Math.round(computed) : computed;\n    field.value.displayValue = currencyInstance.formatCurrency(\n      field.value.value || 0,\n      options,\n    );\n    (field.value as any).extraDisplayView =\n      qty > 0 && breakdown.length ? breakdown.join(\" + \") : \"\";\n  } else {\n    if (\n      field.value.multiply &&\n      field.value.originalValue * field.value.unit !== field.value.value\n    ) {\n      field.value.value = field.value.value * field.value.unit;\n    }\n\n    field.value.displayValue = singleFieldMixins.getCommonFieldDisplayView(\n      field.value,\n      rawInput.value,\n    );\n  }\n\n  fieldStore.updateField(field.value.alias, field.value, fromCondition);\n  conditionsStore.applyConditionForField(field.value.alias);\n  if (\n    fieldStore.getPageBreakEnabled &&\n    fieldStore.getActivePage.action === \"not_skip\"\n  ) {\n    pageBreakerStore.checkPageFieldsConditions();\n  }\n};\n\nconst onInput = (event: Event) => {\n  const target = event.target as HTMLInputElement;\n\n  if (isEditing.value) {\n    changeHandler(target.value);\n  }\n};\n\nconst onIncrement = () => {\n  if (Number(backupValue.value) < field.value.max) {\n    backupValue.value = (\n      Number(backupValue.value) + Number(field.value.step)\n    ).toString();\n  }\n\n  changeHandler(backupValue.value);\n};\n\nconst onDecrement = () => {\n  if (Number(backupValue.value) > field.value.min) {\n    backupValue.value = (\n      Number(backupValue.value) - Number(field.value.step)\n    ).toString();\n  }\n\n  changeHandler(backupValue.value);\n};\n\nconst changeHandler = (value: string) => {\n  rawInput.value = value;\n\n  const options = currencyInstance.getCurrencyOptions(field.value);\n\n  const numericValue = currencyInstance.parseCurrency(\n    value.toString(),\n    options,\n  );\n\n  if (isNaN(numericValue)) {\n    return;\n  }\n\n  updateValue(true, numericValue);\n  backupValue.value = numericValue.toString();\n};\n\nconst onFocus = (e: Event) => {\n  const target = e.target as HTMLInputElement;\n  isEditing.value = true;\n  rawInput.value = parseFormattedValue(target.value || \"0\");\n};\n\nconst onBlur = () => {\n  isEditing.value = false;\n};\n\nconst parseField = () => {\n  const parsedValue = parseQuantityValue(backupValue.value);\n  rawInput.value = parsedValue;\n};\n\nconst checkMinMaxRequired = () => {\n  const numericValue = currencyInstance.parseCurrency(\n    rawInput.value.toString(),\n    currencyInstance.getCurrencyOptions(field.value),\n  );\n\n  if (isNaN(numericValue)) {\n    requiredType.value = \"required\";\n    return;\n  }\n\n  const lessThenExpected = numericValue < +field.value.min;\n  const moreThenExpected = numericValue > +field.value.max;\n\n  if (lessThenExpected || moreThenExpected) {\n    requiredType.value = \"value_range\";\n  } else {\n    requiredType.value = \"required\";\n  }\n};\n\nconst toFixedCount = computed(() => {\n  let count = 0;\n  if (\n    isFloat(field.value.defaultValue.toString()) ||\n    isFloat(field.value.step.toString())\n  ) {\n    let toFixedCountDefault = field.value.defaultValue.toString().split(\".\")[1]\n      ? field.value.defaultValue.toString().split(\".\")[1].length\n      : 0;\n    let toFixedCountStep = field.value.step.toString().split(\".\")[1]\n      ? field.value.step.toString().split(\".\")[1].length\n      : 0;\n    count = Math.max(toFixedCountDefault, toFixedCountStep);\n  }\n\n  return count;\n});\n\nconst toFixedNoRound = (num: number, decimals: number): number => {\n  const factor = Math.pow(10, decimals);\n  return Math.floor(num * factor) / factor;\n};\n\nconst parseQuantityValue = (value: number | string): string => {\n  if (typeof value === \"number\" && value < 0) {\n    value = 0;\n  }\n\n  value = value.toString().replace(\",\", \".\");\n\n  if (!field.value.enabledCurrencySettings && !field.value.fieldCurrency) {\n    const floatVal = parseFloat(value);\n    return toFixedNoRound(floatVal, toFixedCount.value).toString();\n  }\n\n  if (isNaN(Number(value.replace(/,/g, \".\"))) || value.length === 0) {\n    value = \"0\";\n  }\n\n  let numericValue = parseFloat(value.replace(/,/g, \".\"));\n\n  const settings = useSettingsStore();\n\n  let numAfterInteger: number =\n    settings.getCurrencySettings?.numAfterInteger || 0;\n\n  let decimalSeparator: string =\n    settings.getCurrencySettings?.decimalSeparator || \".\";\n\n  let thousandsSeparator: string =\n    settings.getCurrencySettings?.thousandsSeparator || \",\";\n\n  if (field.value.fieldCurrency) {\n    numAfterInteger = field.value?.fieldCurrencySettings?.numAfterInteger || 0;\n    decimalSeparator =\n      field.value?.fieldCurrencySettings?.decimalSeparator || \".\";\n    thousandsSeparator =\n      field.value?.fieldCurrencySettings?.thousandsSeparator || \",\";\n  }\n\n  if (numAfterInteger > 0) {\n    numericValue = toFixedNoRound(\n      numericValue,\n      parseInt(numAfterInteger.toString()),\n    );\n    value = numericValue.toFixed(numAfterInteger);\n\n    // Set decimal separator\n    value = value.toString().replace(\".\", decimalSeparator);\n\n    // Set thousand separator\n    const parts = value.split(decimalSeparator);\n\n    parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, thousandsSeparator);\n    value = parts.join(decimalSeparator);\n  } else {\n    value = numericValue\n      .toString()\n      .replace(/\\B(?=(\\d{3})+(?!\\d))/g, thousandsSeparator);\n  }\n\n  return value;\n};\n\nconst parseFormattedValue = (value: string) => {\n  const settings = useSettingsStore();\n\n  let numAfterInteger: number =\n    settings.getCurrencySettings?.numAfterInteger || 0;\n\n  let decimalSeparator: string =\n    settings.getCurrencySettings?.decimalSeparator || \".\";\n\n  if (field.value.fieldCurrency) {\n    numAfterInteger = field.value?.fieldCurrencySettings?.numAfterInteger || 0;\n    decimalSeparator =\n      field.value?.fieldCurrencySettings?.decimalSeparator || \".\";\n  }\n\n  const options = currencyInstance.getCurrencyOptions(field.value);\n\n  let result = currencyInstance.parseCurrency(value, options);\n\n  if (isNaN(result)) {\n    return value;\n  }\n\n  const decimalsRaw =\n    options?.numAfterInteger ??\n    numAfterInteger ??\n    settings.getCurrencySettings?.numAfterInteger ??\n    0;\n\n  const decimals = Number(decimalsRaw);\n\n  if (Number.isFinite(decimals) && decimals >= 0) {\n    result = Number(result.toFixed(decimals));\n  }\n\n  let resultString = result.toString();\n\n  const separator = options?.decimalSeparator || decimalSeparator;\n\n  if (separator && separator !== \".\" && resultString.includes(\".\")) {\n    resultString = resultString.replace(\".\", separator);\n  }\n\n  return resultString;\n};\n\nconst intValueFilter = (event: KeyboardEvent): void => {\n  const settings = useSettingsStore();\n\n  let decimalSeparator: string =\n    settings.getCurrencySettings?.decimalSeparator || \".\";\n\n  if (field.value.fieldCurrency) {\n    decimalSeparator =\n      field.value?.fieldCurrencySettings?.decimalSeparator || \".\";\n  }\n\n  let keyCode = event.keyCode ? event.keyCode : event.which;\n  let separatorCode = 46;\n  if (decimalSeparator === \",\") {\n    separatorCode = 44;\n  }\n\n  if ((keyCode < 48 || keyCode > 57) && keyCode !== separatorCode) {\n    // 46 is dot 44 is comma\n    event.preventDefault();\n  }\n};\n\nconst isRequired = computed(() => {\n  const numericValue = currencyInstance.parseCurrency(\n    rawInput.value.toString(),\n    currencyInstance.getCurrencyOptions(field.value),\n  );\n\n  if (!isNaN(numericValue)) {\n    const lessThenExpected = numericValue < field.value.min;\n    const moreThenExpected = numericValue > field.value.max;\n\n    if (lessThenExpected || moreThenExpected) {\n      return true;\n    }\n  }\n\n  return fieldStore.checkFieldRequired(field.value);\n});\n\nconst getRangeRequiredText = computed(() => {\n  return `\n    ${translationsStore.getTranslations.valueMustBeBetween} ${field.value.min} ${translationsStore.getTranslations.and} ${field.value.max}\n  `;\n});\n\ncallbackStore.add(\"updateQuantity\", updateValue);\n\nonMounted(() => {\n  rawInput.value = field.value.originalValue.toString();\n  backupValue.value = rawInput.value;\n  updateValue(false, field.value.originalValue, undefined, true);\n});\n</script>\n<style lang=\"scss\">\n.ccb-field {\n  @media (min-width: 1025px) {\n    &.field-width-25 {\n      .ccb-quantity-buttons {\n        flex-wrap: wrap;\n        &.ccb-quantity-buttons--right {\n          &.ccb-quantity-buttons--separation {\n            input {\n              margin-right: 0;\n            }\n          }\n        }\n        &.ccb-quantity-buttons--both {\n          &.ccb-quantity-buttons--separation {\n            gap: 0;\n          }\n          .ccb-quantity-buttons__item {\n            &.down {\n              order: 2;\n            }\n            &.up {\n              order: 3;\n            }\n          }\n          input {\n            border: var(--ccb-fields-border) var(--ccb-fields-border-style)\n              var(--ccb-fields-border-color);\n            order: 1;\n          }\n        }\n        input {\n          border-radius: var(--ccb-fields-border-radius)\n            var(--ccb-fields-border-radius) 0 0;\n          border-right: var(--ccb-fields-border) var(--ccb-fields-border-style)\n            var(--ccb-fields-border-color);\n        }\n        .ccb-quantity-buttons__item {\n          min-width: 40px;\n          border-top: none;\n          flex-basis: 50%;\n          &.down {\n            border-radius: 0 0 0 var(--ccb-fields-border-radius);\n          }\n          &.up {\n            border-radius: 0 0 var(--ccb-fields-border-radius) 0;\n          }\n        }\n      }\n    }\n  }\n  &.has-badge {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: flex-end;\n\n    .ccb-field__label,\n    .ccb-field-input__wrapper {\n      flex: 0 0 100%;\n    }\n\n    .ccb-field__descriptions.ccb-before,\n    .ccb-field__descriptions.ccb-after {\n      flex: 1 1 auto;\n    }\n\n    .ccb-field__badge {\n      margin-top: 22px;\n      flex: 1 1 auto;\n      display: flex;\n      justify-content: flex-end;\n      align-items: center;\n      gap: 6px;\n      font-size: 14px;\n      font-weight: 600;\n      line-height: 1;\n      color: var(--ccb-text-color);\n      &.outlined {\n        .ccb-field__badge-content {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 6px;\n        }\n        .ccb-field__badge-value {\n          padding-right: 6px;\n          border-right: 3px solid var(--ccb-accent-color);\n        }\n      }\n      &.solid {\n        .ccb-field__badge-content {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          padding: 6px 12px;\n          color: var(--ccb-container-color);\n          background-color: var(--ccb-accent-color);\n          gap: 6px;\n          border-radius: 16px;\n        }\n      }\n      &.primary {\n        .ccb-field__badge-content {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          height: 28px;\n          background-color: var(--ccb-accent-color);\n          gap: 6px;\n          border-radius: 4px;\n          color: var(--ccb-container-color);\n        }\n        .ccb-field__badge-value {\n          padding-right: 8px;\n        }\n        i {\n          padding-left: 8px;\n          font-size: 15px;\n        }\n      }\n    }\n  }\n}\n</style>\n<style lang=\"scss\" scoped>\ninput[type=\"number\"]::-webkit-outer-spin-button,\ninput[type=\"number\"]::-webkit-inner-spin-button {\n  -webkit-appearance: none !important;\n  margin: 0 !important;\n}\n</style>\n"],"file":"assets/index-xezISBLc.js"}